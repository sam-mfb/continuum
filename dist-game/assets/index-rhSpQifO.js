(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))f(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&f(c)}).observe(document,{childList:!0,subtree:!0});function r(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function f(d){if(d.ep)return;d.ep=!0;const u=r(d);fetch(d.href,u)}})();function l4(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var go={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function i4(){if(Sh)return ft;Sh=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.iterator;function p(O){return O===null||typeof O!="object"?null:(O=D&&O[D]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function A(O,j,$){this.props=O,this.context=j,this.refs=E,this.updater=$||b}A.prototype.isReactComponent={},A.prototype.setState=function(O,j){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,j,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function _(){}_.prototype=A.prototype;function v(O,j,$){this.props=O,this.context=j,this.refs=E,this.updater=$||b}var M=v.prototype=new _;M.constructor=v,w(M,A.prototype),M.isPureReactComponent=!0;var U=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function Q(O,j,$,V,at,mt){return $=mt.ref,{$$typeof:a,type:O,key:j,ref:$!==void 0?$:null,props:mt}}function W(O,j){return Q(O.type,j,void 0,void 0,void 0,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function B(O){var j={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function($){return j[$]})}var ut=/\/+/g;function Dt(O,j){return typeof O=="object"&&O!==null&&O.key!=null?B(""+O.key):j.toString(36)}function ee(){}function ye(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ee,ee):(O.status="pending",O.then(function(j){O.status==="pending"&&(O.status="fulfilled",O.value=j)},function(j){O.status==="pending"&&(O.status="rejected",O.reason=j)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function bt(O,j,$,V,at){var mt=typeof O;(mt==="undefined"||mt==="boolean")&&(O=null);var ot=!1;if(O===null)ot=!0;else switch(mt){case"bigint":case"string":case"number":ot=!0;break;case"object":switch(O.$$typeof){case a:case i:ot=!0;break;case S:return ot=O._init,bt(ot(O._payload),j,$,V,at)}}if(ot)return at=at(O),ot=V===""?"."+Dt(O,0):V,U(at)?($="",ot!=null&&($=ot.replace(ut,"$&/")+"/"),bt(at,j,$,"",function(nn){return nn})):at!=null&&(J(at)&&(at=W(at,$+(at.key==null||O&&O.key===at.key?"":(""+at.key).replace(ut,"$&/")+"/")+ot)),j.push(at)),1;ot=0;var ge=V===""?".":V+":";if(U(O))for(var zt=0;zt<O.length;zt++)V=O[zt],mt=ge+Dt(V,zt),ot+=bt(V,j,$,mt,at);else if(zt=p(O),typeof zt=="function")for(O=zt.call(O),zt=0;!(V=O.next()).done;)V=V.value,mt=ge+Dt(V,zt++),ot+=bt(V,j,$,mt,at);else if(mt==="object"){if(typeof O.then=="function")return bt(ye(O),j,$,V,at);throw j=String(O),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return ot}function R(O,j,$){if(O==null)return O;var V=[],at=0;return bt(O,V,"","",function(mt){return j.call($,mt,at++)}),V}function C(O){if(O._status===-1){var j=O._result;j=j(),j.then(function($){(O._status===0||O._status===-1)&&(O._status=1,O._result=$)},function($){(O._status===0||O._status===-1)&&(O._status=2,O._result=$)}),O._status===-1&&(O._status=0,O._result=j)}if(O._status===1)return O._result.default;throw O._result}var K=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function tt(){}return ft.Children={map:R,forEach:function(O,j,$){R(O,function(){j.apply(this,arguments)},$)},count:function(O){var j=0;return R(O,function(){j++}),j},toArray:function(O){return R(O,function(j){return j})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},ft.Component=A,ft.Fragment=r,ft.Profiler=d,ft.PureComponent=v,ft.StrictMode=f,ft.Suspense=h,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,ft.__COMPILER_RUNTIME={__proto__:null,c:function(O){return k.H.useMemoCache(O)}},ft.cache=function(O){return function(){return O.apply(null,arguments)}},ft.cloneElement=function(O,j,$){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var V=w({},O.props),at=O.key,mt=void 0;if(j!=null)for(ot in j.ref!==void 0&&(mt=void 0),j.key!==void 0&&(at=""+j.key),j)!G.call(j,ot)||ot==="key"||ot==="__self"||ot==="__source"||ot==="ref"&&j.ref===void 0||(V[ot]=j[ot]);var ot=arguments.length-2;if(ot===1)V.children=$;else if(1<ot){for(var ge=Array(ot),zt=0;zt<ot;zt++)ge[zt]=arguments[zt+2];V.children=ge}return Q(O.type,at,void 0,void 0,mt,V)},ft.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},ft.createElement=function(O,j,$){var V,at={},mt=null;if(j!=null)for(V in j.key!==void 0&&(mt=""+j.key),j)G.call(j,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(at[V]=j[V]);var ot=arguments.length-2;if(ot===1)at.children=$;else if(1<ot){for(var ge=Array(ot),zt=0;zt<ot;zt++)ge[zt]=arguments[zt+2];at.children=ge}if(O&&O.defaultProps)for(V in ot=O.defaultProps,ot)at[V]===void 0&&(at[V]=ot[V]);return Q(O,mt,void 0,void 0,null,at)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(O){return{$$typeof:o,render:O}},ft.isValidElement=J,ft.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:C}},ft.memo=function(O,j){return{$$typeof:g,type:O,compare:j===void 0?null:j}},ft.startTransition=function(O){var j=k.T,$={};k.T=$;try{var V=O(),at=k.S;at!==null&&at($,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(tt,K)}catch(mt){K(mt)}finally{k.T=j}},ft.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},ft.use=function(O){return k.H.use(O)},ft.useActionState=function(O,j,$){return k.H.useActionState(O,j,$)},ft.useCallback=function(O,j){return k.H.useCallback(O,j)},ft.useContext=function(O){return k.H.useContext(O)},ft.useDebugValue=function(){},ft.useDeferredValue=function(O,j){return k.H.useDeferredValue(O,j)},ft.useEffect=function(O,j,$){var V=k.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(O,j)},ft.useId=function(){return k.H.useId()},ft.useImperativeHandle=function(O,j,$){return k.H.useImperativeHandle(O,j,$)},ft.useInsertionEffect=function(O,j){return k.H.useInsertionEffect(O,j)},ft.useLayoutEffect=function(O,j){return k.H.useLayoutEffect(O,j)},ft.useMemo=function(O,j){return k.H.useMemo(O,j)},ft.useOptimistic=function(O,j){return k.H.useOptimistic(O,j)},ft.useReducer=function(O,j,$){return k.H.useReducer(O,j,$)},ft.useRef=function(O){return k.H.useRef(O)},ft.useState=function(O){return k.H.useState(O)},ft.useSyncExternalStore=function(O,j,$){return k.H.useSyncExternalStore(O,j,$)},ft.useTransition=function(){return k.H.useTransition()},ft.version="19.1.0",ft}var Ah;function ff(){return Ah||(Ah=1,go.exports=i4()),go.exports}var ya=ff();const u4=l4(ya);var po={exports:{}},Ti={},Do={exports:{}},So={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function r4(){return mh||(mh=1,function(a){function i(R,C){var K=R.length;R.push(C);t:for(;0<K;){var tt=K-1>>>1,O=R[tt];if(0<d(O,C))R[tt]=C,R[K]=O,K=tt;else break t}}function r(R){return R.length===0?null:R[0]}function f(R){if(R.length===0)return null;var C=R[0],K=R.pop();if(K!==C){R[0]=K;t:for(var tt=0,O=R.length,j=O>>>1;tt<j;){var $=2*(tt+1)-1,V=R[$],at=$+1,mt=R[at];if(0>d(V,K))at<O&&0>d(mt,V)?(R[tt]=mt,R[at]=K,tt=at):(R[tt]=V,R[$]=K,tt=$);else if(at<O&&0>d(mt,K))R[tt]=mt,R[at]=K,tt=at;else break t}}return C}function d(R,C){var K=R.sortIndex-C.sortIndex;return K!==0?K:R.id-C.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,o=c.now();a.unstable_now=function(){return c.now()-o}}var h=[],g=[],S=1,D=null,p=3,b=!1,w=!1,E=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function U(R){for(var C=r(g);C!==null;){if(C.callback===null)f(g);else if(C.startTime<=R)f(g),C.sortIndex=C.expirationTime,i(h,C);else break;C=r(g)}}function k(R){if(E=!1,U(R),!w)if(r(h)!==null)w=!0,G||(G=!0,Dt());else{var C=r(g);C!==null&&bt(k,C.startTime-R)}}var G=!1,Q=-1,W=5,J=-1;function B(){return A?!0:!(a.unstable_now()-J<W)}function ut(){if(A=!1,G){var R=a.unstable_now();J=R;var C=!0;try{t:{w=!1,E&&(E=!1,v(Q),Q=-1),b=!0;var K=p;try{e:{for(U(R),D=r(h);D!==null&&!(D.expirationTime>R&&B());){var tt=D.callback;if(typeof tt=="function"){D.callback=null,p=D.priorityLevel;var O=tt(D.expirationTime<=R);if(R=a.unstable_now(),typeof O=="function"){D.callback=O,U(R),C=!0;break e}D===r(h)&&f(h),U(R)}else f(h);D=r(h)}if(D!==null)C=!0;else{var j=r(g);j!==null&&bt(k,j.startTime-R),C=!1}}break t}finally{D=null,p=K,b=!1}C=void 0}}finally{C?Dt():G=!1}}}var Dt;if(typeof M=="function")Dt=function(){M(ut)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ye=ee.port2;ee.port1.onmessage=ut,Dt=function(){ye.postMessage(null)}}else Dt=function(){_(ut,0)};function bt(R,C){Q=_(function(){R(a.unstable_now())},C)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return p},a.unstable_next=function(R){switch(p){case 1:case 2:case 3:var C=3;break;default:C=p}var K=p;p=C;try{return R()}finally{p=K}},a.unstable_requestPaint=function(){A=!0},a.unstable_runWithPriority=function(R,C){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var K=p;p=R;try{return C()}finally{p=K}},a.unstable_scheduleCallback=function(R,C,K){var tt=a.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?tt+K:tt):K=tt,R){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=K+O,R={id:S++,callback:C,priorityLevel:R,startTime:K,expirationTime:O,sortIndex:-1},K>tt?(R.sortIndex=K,i(g,R),r(h)===null&&R===r(g)&&(E?(v(Q),Q=-1):E=!0,bt(k,K-tt))):(R.sortIndex=O,i(h,R),w||b||(w=!0,G||(G=!0,Dt()))),R},a.unstable_shouldYield=B,a.unstable_wrapCallback=function(R){var C=p;return function(){var K=p;p=C;try{return R.apply(this,arguments)}finally{p=K}}}}(So)),So}var vh;function c4(){return vh||(vh=1,Do.exports=r4()),Do.exports}var Ao={exports:{}},Se={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function s4(){if(bh)return Se;bh=1;var a=ff();function i(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var f={d:{f:r,r:function(){throw Error(i(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function u(h,g,S){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:D==null?null:""+D,children:h,containerInfo:g,implementation:S}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Se.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,Se.createPortal=function(h,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return u(h,g,null,S)},Se.flushSync=function(h){var g=c.T,S=f.p;try{if(c.T=null,f.p=2,h)return h()}finally{c.T=g,f.p=S,f.d.f()}},Se.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,f.d.C(h,g))},Se.prefetchDNS=function(h){typeof h=="string"&&f.d.D(h)},Se.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var S=g.as,D=o(S,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,b=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;S==="style"?f.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:D,integrity:p,fetchPriority:b}):S==="script"&&f.d.X(h,{crossOrigin:D,integrity:p,fetchPriority:b,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Se.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var S=o(g.as,g.crossOrigin);f.d.M(h,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&f.d.M(h)},Se.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var S=g.as,D=o(S,g.crossOrigin);f.d.L(h,S,{crossOrigin:D,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Se.preloadModule=function(h,g){if(typeof h=="string")if(g){var S=o(g.as,g.crossOrigin);f.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else f.d.m(h)},Se.requestFormReset=function(h){f.d.r(h)},Se.unstable_batchedUpdates=function(h,g){return h(g)},Se.useFormState=function(h,g,S){return c.H.useFormState(h,g,S)},Se.useFormStatus=function(){return c.H.useHostTransitionStatus()},Se.version="19.1.0",Se}var wh;function o4(){if(wh)return Ao.exports;wh=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Ao.exports=s4(),Ao.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function f4(){if(xh)return Ti;xh=1;var a=c4(),i=ff(),r=o4();function f(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o(t){if(u(t)!==t)throw Error(f(188))}function h(t){var e=t.alternate;if(!e){if(e=u(t),e===null)throw Error(f(188));return e!==t?null:t}for(var n=t,l=e;;){var s=n.return;if(s===null)break;var y=s.alternate;if(y===null){if(l=s.return,l!==null){n=l;continue}break}if(s.child===y.child){for(y=s.child;y;){if(y===n)return o(s),t;if(y===l)return o(s),e;y=y.sibling}throw Error(f(188))}if(n.return!==l.return)n=s,l=y;else{for(var m=!1,x=s.child;x;){if(x===n){m=!0,n=s,l=y;break}if(x===l){m=!0,l=s,n=y;break}x=x.sibling}if(!m){for(x=y.child;x;){if(x===n){m=!0,n=y,l=s;break}if(x===l){m=!0,l=y,n=s;break}x=x.sibling}if(!m)throw Error(f(189))}}if(n.alternate!==l)throw Error(f(190))}if(n.tag!==3)throw Error(f(188));return n.stateNode.current===n?t:e}function g(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=g(t),e!==null)return e;t=t.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function Dt(t){return t===null||typeof t!="object"?null:(t=ut&&t[ut]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ee?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case k:return"Suspense";case G:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case M:return(t.displayName||"Context")+".Provider";case v:return(t._context.displayName||"Context")+".Consumer";case U:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return e=t.displayName||null,e!==null?e:ye(t.type)||"Memo";case W:e=t._payload,t=t._init;try{return ye(t(e))}catch{}}return null}var bt=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},tt=[],O=-1;function j(t){return{current:t}}function $(t){0>O||(t.current=tt[O],tt[O]=null,O--)}function V(t,e){O++,tt[O]=t.current,t.current=e}var at=j(null),mt=j(null),ot=j(null),ge=j(null);function zt(t,e){switch(V(ot,e),V(mt,t),V(at,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Q1(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Q1(e),t=K1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(at),V(at,t)}function nn(){$(at),$(mt),$(ot)}function Pr(t){t.memoizedState!==null&&V(ge,t);var e=at.current,n=K1(e,t.type);e!==n&&(V(mt,t),V(at,n))}function Wi(t){mt.current===t&&($(at),$(mt)),ge.current===t&&($(ge),xi._currentValue=K)}var tc=Object.prototype.hasOwnProperty,ec=a.unstable_scheduleCallback,nc=a.unstable_cancelCallback,Cy=a.unstable_shouldYield,Hy=a.unstable_requestPaint,an=a.unstable_now,Ly=a.unstable_getCurrentPriorityLevel,_f=a.unstable_ImmediatePriority,Uf=a.unstable_UserBlockingPriority,Ji=a.unstable_NormalPriority,Gy=a.unstable_LowPriority,Of=a.unstable_IdlePriority,Yy=a.log,Xy=a.unstable_setDisableYieldValue,Rl=null,Te=null;function Xn(t){if(typeof Yy=="function"&&Xy(t),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(Rl,t)}catch{}}var Be=Math.clz32?Math.clz32:Fy,jy=Math.log,qy=Math.LN2;function Fy(t){return t>>>=0,t===0?32:31-(jy(t)/qy|0)|0}var $i=256,Ii=4194304;function pa(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pi(t,e,n){var l=t.pendingLanes;if(l===0)return 0;var s=0,y=t.suspendedLanes,m=t.pingedLanes;t=t.warmLanes;var x=l&134217727;return x!==0?(l=x&~y,l!==0?s=pa(l):(m&=x,m!==0?s=pa(m):n||(n=x&~t,n!==0&&(s=pa(n))))):(x=l&~y,x!==0?s=pa(x):m!==0?s=pa(m):n||(n=l&~t,n!==0&&(s=pa(n)))),s===0?0:e!==0&&e!==s&&(e&y)===0&&(y=s&-s,n=e&-e,y>=n||y===32&&(n&4194048)!==0)?e:s}function Nl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Zy(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(){var t=$i;return $i<<=1,($i&4194048)===0&&($i=256),t}function Bf(){var t=Ii;return Ii<<=1,(Ii&62914560)===0&&(Ii=4194304),t}function ac(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qy(t,e,n,l,s,y){var m=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var x=t.entanglements,T=t.expirationTimes,L=t.hiddenUpdates;for(n=m&~n;0<n;){var q=31-Be(n),Z=1<<q;x[q]=0,T[q]=-1;var Y=L[q];if(Y!==null)for(L[q]=null,q=0;q<Y.length;q++){var X=Y[q];X!==null&&(X.lane&=-536870913)}n&=~Z}l!==0&&Mf(t,l,0),y!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=y&~(m&~e))}function Mf(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var l=31-Be(e);t.entangledLanes|=e,t.entanglements[l]=t.entanglements[l]|1073741824|n&4194090}function Rf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var l=31-Be(n),s=1<<l;s&e|t[l]&e&&(t[l]|=e),n&=~s}}function lc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ic(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nf(){var t=C.p;return t!==0?t:(t=window.event,t===void 0?32:dh(t.type))}function Ky(t,e){var n=C.p;try{return C.p=t,e()}finally{C.p=n}}var jn=Math.random().toString(36).slice(2),pe="__reactFiber$"+jn,ve="__reactProps$"+jn,Ya="__reactContainer$"+jn,uc="__reactEvents$"+jn,Vy="__reactListeners$"+jn,Wy="__reactHandles$"+jn,kf="__reactResources$"+jn,zl="__reactMarker$"+jn;function rc(t){delete t[pe],delete t[ve],delete t[uc],delete t[Vy],delete t[Wy]}function Xa(t){var e=t[pe];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ya]||n[pe]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$1(t);t!==null;){if(n=t[pe])return n;t=$1(t)}return e}t=n,n=t.parentNode}return null}function ja(t){if(t=t[pe]||t[Ya]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Cl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(f(33))}function qa(t){var e=t[kf];return e||(e=t[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function ne(t){t[zl]=!0}var zf=new Set,Cf={};function Da(t,e){Fa(t,e),Fa(t+"Capture",e)}function Fa(t,e){for(Cf[t]=e,t=0;t<e.length;t++)zf.add(e[t])}var Jy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hf={},Lf={};function $y(t){return tc.call(Lf,t)?!0:tc.call(Hf,t)?!1:Jy.test(t)?Lf[t]=!0:(Hf[t]=!0,!1)}function tu(t,e,n){if($y(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var l=e.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function eu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function vn(t,e,n,l){if(l===null)t.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+l)}}var cc,Gf;function Za(t){if(cc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cc=e&&e[1]||"",Gf=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cc+t+Gf}var sc=!1;function oc(t,e){if(!t||sc)return"";sc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(e){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(X){var Y=X}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(X){Y=X}t.call(Z.prototype)}}else{try{throw Error()}catch(X){Y=X}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),m=y[0],x=y[1];if(m&&x){var T=m.split(`
`),L=x.split(`
`);for(s=l=0;l<T.length&&!T[l].includes("DetermineComponentFrameRoot");)l++;for(;s<L.length&&!L[s].includes("DetermineComponentFrameRoot");)s++;if(l===T.length||s===L.length)for(l=T.length-1,s=L.length-1;1<=l&&0<=s&&T[l]!==L[s];)s--;for(;1<=l&&0<=s;l--,s--)if(T[l]!==L[s]){if(l!==1||s!==1)do if(l--,s--,0>s||T[l]!==L[s]){var q=`
`+T[l].replace(" at new "," at ");return t.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",t.displayName)),q}while(1<=l&&0<=s);break}}}finally{sc=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Za(n):""}function Iy(t){switch(t.tag){case 26:case 27:case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 15:return oc(t.type,!1);case 11:return oc(t.type.render,!1);case 1:return oc(t.type,!0);case 31:return Za("Activity");default:return""}}function Yf(t){try{var e="";do e+=Iy(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Py(t){var e=Xf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,y=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(m){l=""+m,y.call(this,m)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nu(t){t._valueTracker||(t._valueTracker=Py(t))}function jf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),l="";return t&&(l=Xf(t)?t.checked?"true":"false":t.value),t=l,t!==n?(e.setValue(t),!0):!1}function au(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var t5=/[\n"\\]/g;function je(t){return t.replace(t5,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fc(t,e,n,l,s,y,m,x){t.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?t.type=m:t.removeAttribute("type"),e!=null?m==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Xe(e)):t.value!==""+Xe(e)&&(t.value=""+Xe(e)):m!=="submit"&&m!=="reset"||t.removeAttribute("value"),e!=null?dc(t,m,Xe(e)):n!=null?dc(t,m,Xe(n)):l!=null&&t.removeAttribute("value"),s==null&&y!=null&&(t.defaultChecked=!!y),s!=null&&(t.checked=s&&typeof s!="function"&&typeof s!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Xe(x):t.removeAttribute("name")}function qf(t,e,n,l,s,y,m,x){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.type=y),e!=null||n!=null){if(!(y!=="submit"&&y!=="reset"||e!=null))return;n=n!=null?""+Xe(n):"",e=e!=null?""+Xe(e):n,x||e===t.value||(t.value=e),t.defaultValue=e}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.name=m)}function dc(t,e,n){e==="number"&&au(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Qa(t,e,n,l){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&l&&(t[n].defaultSelected=!0)}else{for(n=""+Xe(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,l&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ff(t,e,n){if(e!=null&&(e=""+Xe(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Xe(n):""}function Zf(t,e,n,l){if(e==null){if(l!=null){if(n!=null)throw Error(f(92));if(bt(l)){if(1<l.length)throw Error(f(93));l=l[0]}n=l}n==null&&(n=""),e=n}n=Xe(e),t.defaultValue=n,l=t.textContent,l===n&&l!==""&&l!==null&&(t.value=l)}function Ka(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var e5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(t,e,n){var l=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":l?t.setProperty(e,n):typeof n!="number"||n===0||e5.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Kf(t,e,n){if(e!=null&&typeof e!="object")throw Error(f(62));if(t=t.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||e!=null&&e.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var s in e)l=e[s],e.hasOwnProperty(s)&&n[s]!==l&&Qf(t,s,l)}else for(var y in e)e.hasOwnProperty(y)&&Qf(t,y,e[y])}function hc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lu(t){return a5.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yc=null;function gc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Va=null,Wa=null;function Vf(t){var e=ja(t);if(e&&(t=e.stateNode)){var n=t[ve]||null;t:switch(t=e.stateNode,e.type){case"input":if(fc(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+je(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var l=n[e];if(l!==t&&l.form===t.form){var s=l[ve]||null;if(!s)throw Error(f(90));fc(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(e=0;e<n.length;e++)l=n[e],l.form===t.form&&jf(l)}break t;case"textarea":Ff(t,n.value,n.defaultValue);break t;case"select":e=n.value,e!=null&&Qa(t,!!n.multiple,e,!1)}}}var pc=!1;function Wf(t,e,n){if(pc)return t(e,n);pc=!0;try{var l=t(e);return l}finally{if(pc=!1,(Va!==null||Wa!==null)&&(qu(),Va&&(e=Va,t=Wa,Wa=Va=null,Vf(e),t)))for(e=0;e<t.length;e++)Vf(t[e])}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var l=n[ve]||null;if(l===null)return null;n=l[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(f(231,e,typeof n));return n}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dc=!1;if(bn)try{var Ll={};Object.defineProperty(Ll,"passive",{get:function(){Dc=!0}}),window.addEventListener("test",Ll,Ll),window.removeEventListener("test",Ll,Ll)}catch{Dc=!1}var qn=null,Sc=null,iu=null;function Jf(){if(iu)return iu;var t,e=Sc,n=e.length,l,s="value"in qn?qn.value:qn.textContent,y=s.length;for(t=0;t<n&&e[t]===s[t];t++);var m=n-t;for(l=1;l<=m&&e[n-l]===s[y-l];l++);return iu=s.slice(t,1<l?1-l:void 0)}function uu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ru(){return!0}function $f(){return!1}function be(t){function e(n,l,s,y,m){this._reactName=n,this._targetInst=s,this.type=l,this.nativeEvent=y,this.target=m,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(n=t[x],this[x]=n?n(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ru:$f,this.isPropagationStopped=$f,this}return S(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),e}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=be(Sa),Gl=S({},Sa,{view:0,detail:0}),l5=be(Gl),Ac,mc,Yl,su=S({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yl&&(Yl&&t.type==="mousemove"?(Ac=t.screenX-Yl.screenX,mc=t.screenY-Yl.screenY):mc=Ac=0,Yl=t),Ac)},movementY:function(t){return"movementY"in t?t.movementY:mc}}),If=be(su),i5=S({},su,{dataTransfer:0}),u5=be(i5),r5=S({},Gl,{relatedTarget:0}),vc=be(r5),c5=S({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),s5=be(c5),o5=S({},Sa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),f5=be(o5),d5=S({},Sa,{data:0}),Pf=be(d5),h5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=g5[t])?!!e[t]:!1}function bc(){return p5}var D5=S({},Gl,{key:function(t){if(t.key){var e=h5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?y5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(t){return t.type==="keypress"?uu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S5=be(D5),A5=S({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=be(A5),m5=S({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),v5=be(m5),b5=S({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),w5=be(b5),x5=S({},su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E5=be(x5),_5=S({},Sa,{newState:0,oldState:0}),U5=be(_5),O5=[9,13,27,32],wc=bn&&"CompositionEvent"in window,Xl=null;bn&&"documentMode"in document&&(Xl=document.documentMode);var T5=bn&&"TextEvent"in window&&!Xl,ed=bn&&(!wc||Xl&&8<Xl&&11>=Xl),nd=" ",ad=!1;function ld(t,e){switch(t){case"keyup":return O5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ja=!1;function B5(t,e){switch(t){case"compositionend":return id(e);case"keypress":return e.which!==32?null:(ad=!0,nd);case"textInput":return t=e.data,t===nd&&ad?null:t;default:return null}}function M5(t,e){if(Ja)return t==="compositionend"||!wc&&ld(t,e)?(t=Jf(),iu=Sc=qn=null,Ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ed&&e.locale!=="ko"?null:e.data;default:return null}}var R5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R5[t.type]:e==="textarea"}function rd(t,e,n,l){Va?Wa?Wa.push(l):Wa=[l]:Va=l,e=Wu(e,"onChange"),0<e.length&&(n=new cu("onChange","change",null,n,l),t.push({event:n,listeners:e}))}var jl=null,ql=null;function N5(t){X1(t,0)}function ou(t){var e=Cl(t);if(jf(e))return t}function cd(t,e){if(t==="change")return e}var sd=!1;if(bn){var xc;if(bn){var Ec="oninput"in document;if(!Ec){var od=document.createElement("div");od.setAttribute("oninput","return;"),Ec=typeof od.oninput=="function"}xc=Ec}else xc=!1;sd=xc&&(!document.documentMode||9<document.documentMode)}function fd(){jl&&(jl.detachEvent("onpropertychange",dd),ql=jl=null)}function dd(t){if(t.propertyName==="value"&&ou(ql)){var e=[];rd(e,ql,t,gc(t)),Wf(N5,e)}}function k5(t,e,n){t==="focusin"?(fd(),jl=e,ql=n,jl.attachEvent("onpropertychange",dd)):t==="focusout"&&fd()}function z5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ou(ql)}function C5(t,e){if(t==="click")return ou(e)}function H5(t,e){if(t==="input"||t==="change")return ou(e)}function L5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Me=typeof Object.is=="function"?Object.is:L5;function Fl(t,e){if(Me(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),l=Object.keys(e);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var s=n[l];if(!tc.call(e,s)||!Me(t[s],e[s]))return!1}return!0}function hd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,e){var n=hd(t);t=0;for(var l;n;){if(n.nodeType===3){if(l=t+n.textContent.length,t<=e&&l>=e)return{node:n,offset:e-t};t=l}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=hd(n)}}function gd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=au(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=au(t.document)}return e}function _c(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var G5=bn&&"documentMode"in document&&11>=document.documentMode,$a=null,Uc=null,Zl=null,Oc=!1;function Dd(t,e,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Oc||$a==null||$a!==au(l)||(l=$a,"selectionStart"in l&&_c(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zl&&Fl(Zl,l)||(Zl=l,l=Wu(Uc,"onSelect"),0<l.length&&(e=new cu("onSelect","select",null,e,n),t.push({event:e,listeners:l}),e.target=$a)))}function Aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ia={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionrun:Aa("Transition","TransitionRun"),transitionstart:Aa("Transition","TransitionStart"),transitioncancel:Aa("Transition","TransitionCancel"),transitionend:Aa("Transition","TransitionEnd")},Tc={},Sd={};bn&&(Sd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function ma(t){if(Tc[t])return Tc[t];if(!Ia[t])return t;var e=Ia[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sd)return Tc[t]=e[n];return t}var Ad=ma("animationend"),md=ma("animationiteration"),vd=ma("animationstart"),Y5=ma("transitionrun"),X5=ma("transitionstart"),j5=ma("transitioncancel"),bd=ma("transitionend"),wd=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function Ie(t,e){wd.set(t,e),Da(e,[t])}var xd=new WeakMap;function qe(t,e){if(typeof t=="object"&&t!==null){var n=xd.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Yf(e)},xd.set(t,e),e)}return{value:t,source:e,stack:Yf(e)}}var Fe=[],Pa=0,Mc=0;function fu(){for(var t=Pa,e=Mc=Pa=0;e<t;){var n=Fe[e];Fe[e++]=null;var l=Fe[e];Fe[e++]=null;var s=Fe[e];Fe[e++]=null;var y=Fe[e];if(Fe[e++]=null,l!==null&&s!==null){var m=l.pending;m===null?s.next=s:(s.next=m.next,m.next=s),l.pending=s}y!==0&&Ed(n,s,y)}}function du(t,e,n,l){Fe[Pa++]=t,Fe[Pa++]=e,Fe[Pa++]=n,Fe[Pa++]=l,Mc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rc(t,e,n,l){return du(t,e,n,l),hu(t)}function tl(t,e){return du(t,null,null,e),hu(t)}function Ed(t,e,n){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n);for(var s=!1,y=t.return;y!==null;)y.childLanes|=n,l=y.alternate,l!==null&&(l.childLanes|=n),y.tag===22&&(t=y.stateNode,t===null||t._visibility&1||(s=!0)),t=y,y=y.return;return t.tag===3?(y=t.stateNode,s&&e!==null&&(s=31-Be(n),t=y.hiddenUpdates,l=t[s],l===null?t[s]=[e]:l.push(e),e.lane=n|536870912),y):null}function hu(t){if(50<pi)throw pi=0,Ls=null,Error(f(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var el={};function q5(t,e,n,l){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Re(t,e,n,l){return new q5(t,e,n,l)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wn(t,e){var n=t.alternate;return n===null?(n=Re(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function _d(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function yu(t,e,n,l,s,y){var m=0;if(l=t,typeof t=="function")Nc(t)&&(m=1);else if(typeof t=="string")m=Zg(t,n,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case J:return t=Re(31,n,e,s),t.elementType=J,t.lanes=y,t;case w:return va(n.children,s,y,e);case E:m=8,s|=24;break;case A:return t=Re(12,n,e,s|2),t.elementType=A,t.lanes=y,t;case k:return t=Re(13,n,e,s),t.elementType=k,t.lanes=y,t;case G:return t=Re(19,n,e,s),t.elementType=G,t.lanes=y,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _:case M:m=10;break t;case v:m=9;break t;case U:m=11;break t;case Q:m=14;break t;case W:m=16,l=null;break t}m=29,n=Error(f(130,t===null?"null":typeof t,"")),l=null}return e=Re(m,n,e,s),e.elementType=t,e.type=l,e.lanes=y,e}function va(t,e,n,l){return t=Re(7,t,l,e),t.lanes=n,t}function kc(t,e,n){return t=Re(6,t,null,e),t.lanes=n,t}function zc(t,e,n){return e=Re(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var nl=[],al=0,gu=null,pu=0,Ze=[],Qe=0,ba=null,xn=1,En="";function wa(t,e){nl[al++]=pu,nl[al++]=gu,gu=t,pu=e}function Ud(t,e,n){Ze[Qe++]=xn,Ze[Qe++]=En,Ze[Qe++]=ba,ba=t;var l=xn;t=En;var s=32-Be(l)-1;l&=~(1<<s),n+=1;var y=32-Be(e)+s;if(30<y){var m=s-s%5;y=(l&(1<<m)-1).toString(32),l>>=m,s-=m,xn=1<<32-Be(e)+s|n<<s|l,En=y+t}else xn=1<<y|n<<s|l,En=t}function Cc(t){t.return!==null&&(wa(t,1),Ud(t,1,0))}function Hc(t){for(;t===gu;)gu=nl[--al],nl[al]=null,pu=nl[--al],nl[al]=null;for(;t===ba;)ba=Ze[--Qe],Ze[Qe]=null,En=Ze[--Qe],Ze[Qe]=null,xn=Ze[--Qe],Ze[Qe]=null}var Ae=null,Xt=null,Et=!1,xa=null,ln=!1,Lc=Error(f(519));function Ea(t){var e=Error(f(418,""));throw Vl(qe(e,t)),Lc}function Od(t){var e=t.stateNode,n=t.type,l=t.memoizedProps;switch(e[pe]=t,e[ve]=l,n){case"dialog":pt("cancel",e),pt("close",e);break;case"iframe":case"object":case"embed":pt("load",e);break;case"video":case"audio":for(n=0;n<Si.length;n++)pt(Si[n],e);break;case"source":pt("error",e);break;case"img":case"image":case"link":pt("error",e),pt("load",e);break;case"details":pt("toggle",e);break;case"input":pt("invalid",e),qf(e,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),nu(e);break;case"select":pt("invalid",e);break;case"textarea":pt("invalid",e),Zf(e,l.value,l.defaultValue,l.children),nu(e)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||l.suppressHydrationWarning===!0||Z1(e.textContent,n)?(l.popover!=null&&(pt("beforetoggle",e),pt("toggle",e)),l.onScroll!=null&&pt("scroll",e),l.onScrollEnd!=null&&pt("scrollend",e),l.onClick!=null&&(e.onclick=Ju),e=!0):e=!1,e||Ea(t)}function Td(t){for(Ae=t.return;Ae;)switch(Ae.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:Ae=Ae.return}}function Ql(t){if(t!==Ae)return!1;if(!Et)return Td(t),Et=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||to(t.type,t.memoizedProps)),n=!n),n&&Xt&&Ea(t),Td(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(f(317));t:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Xt=tn(t.nextSibling);break t}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Xt=null}}else e===27?(e=Xt,ia(t.type)?(t=lo,lo=null,Xt=t):Xt=e):Xt=Ae?tn(t.stateNode.nextSibling):null;return!0}function Kl(){Xt=Ae=null,Et=!1}function Bd(){var t=xa;return t!==null&&(Ee===null?Ee=t:Ee.push.apply(Ee,t),xa=null),t}function Vl(t){xa===null?xa=[t]:xa.push(t)}var Gc=j(null),_a=null,_n=null;function Fn(t,e,n){V(Gc,e._currentValue),e._currentValue=n}function Un(t){t._currentValue=Gc.current,$(Gc)}function Yc(t,e,n){for(;t!==null;){var l=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,l!==null&&(l.childLanes|=e)):l!==null&&(l.childLanes&e)!==e&&(l.childLanes|=e),t===n)break;t=t.return}}function Xc(t,e,n,l){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var y=s.dependencies;if(y!==null){var m=s.child;y=y.firstContext;t:for(;y!==null;){var x=y;y=s;for(var T=0;T<e.length;T++)if(x.context===e[T]){y.lanes|=n,x=y.alternate,x!==null&&(x.lanes|=n),Yc(y.return,n,t),l||(m=null);break t}y=x.next}}else if(s.tag===18){if(m=s.return,m===null)throw Error(f(341));m.lanes|=n,y=m.alternate,y!==null&&(y.lanes|=n),Yc(m,n,t),m=null}else m=s.child;if(m!==null)m.return=s;else for(m=s;m!==null;){if(m===t){m=null;break}if(s=m.sibling,s!==null){s.return=m.return,m=s;break}m=m.return}s=m}}function Wl(t,e,n,l){t=null;for(var s=e,y=!1;s!==null;){if(!y){if((s.flags&524288)!==0)y=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var m=s.alternate;if(m===null)throw Error(f(387));if(m=m.memoizedProps,m!==null){var x=s.type;Me(s.pendingProps.value,m.value)||(t!==null?t.push(x):t=[x])}}else if(s===ge.current){if(m=s.alternate,m===null)throw Error(f(387));m.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(xi):t=[xi])}s=s.return}t!==null&&Xc(e,t,n,l),e.flags|=262144}function Du(t){for(t=t.firstContext;t!==null;){if(!Me(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ua(t){_a=t,_n=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return Md(_a,t)}function Su(t,e){return _a===null&&Ua(t),Md(t,e)}function Md(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},_n===null){if(t===null)throw Error(f(308));_n=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else _n=_n.next=e;return n}var F5=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,l){t.push(l)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Z5=a.unstable_scheduleCallback,Q5=a.unstable_NormalPriority,It={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jc(){return{controller:new F5,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&Z5(Q5,function(){t.controller.abort()})}var $l=null,qc=0,ll=0,il=null;function K5(t,e){if($l===null){var n=$l=[];qc=0,ll=Zs(),il={status:"pending",value:void 0,then:function(l){n.push(l)}}}return qc++,e.then(Rd,Rd),e}function Rd(){if(--qc===0&&$l!==null){il!==null&&(il.status="fulfilled");var t=$l;$l=null,ll=0,il=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function V5(t,e){var n=[],l={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){l.status="fulfilled",l.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(l.status="rejected",l.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),l}var Nd=R.S;R.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&K5(t,e),Nd!==null&&Nd(t,e)};var Oa=j(null);function Fc(){var t=Oa.current;return t!==null?t:Ct.pooledCache}function Au(t,e){e===null?V(Oa,Oa.current):V(Oa,e.pool)}function kd(){var t=Fc();return t===null?null:{parent:It._currentValue,pool:t}}var Il=Error(f(460)),zd=Error(f(474)),mu=Error(f(542)),Zc={then:function(){}};function Cd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vu(){}function Hd(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(vu,vu),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t;default:if(typeof e.status=="string")e.then(vu,vu);else{if(t=Ct,t!==null&&100<t.shellSuspendCounter)throw Error(f(482));t=e,t.status="pending",t.then(function(l){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=l}},function(l){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=l}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gd(t),t}throw Pl=e,Il}}var Pl=null;function Ld(){if(Pl===null)throw Error(f(459));var t=Pl;return Pl=null,t}function Gd(t){if(t===Il||t===mu)throw Error(f(483))}var Zn=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Kn(t,e,n){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ut&2)!==0){var s=l.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),l.pending=e,e=hu(t),Ed(t,null,n),e}return du(t,l,e,n),hu(t)}function ti(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var l=e.lanes;l&=t.pendingLanes,n|=l,e.lanes=n,Rf(t,n)}}function Vc(t,e){var n=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var s=null,y=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};y===null?s=y=m:y=y.next=m,n=n.next}while(n!==null);y===null?s=y=e:y=y.next=e}else s=y=e;n={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Wc=!1;function ei(){if(Wc){var t=il;if(t!==null)throw t}}function ni(t,e,n,l){Wc=!1;var s=t.updateQueue;Zn=!1;var y=s.firstBaseUpdate,m=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var T=x,L=T.next;T.next=null,m===null?y=L:m.next=L,m=T;var q=t.alternate;q!==null&&(q=q.updateQueue,x=q.lastBaseUpdate,x!==m&&(x===null?q.firstBaseUpdate=L:x.next=L,q.lastBaseUpdate=T))}if(y!==null){var Z=s.baseState;m=0,q=L=T=null,x=y;do{var Y=x.lane&-536870913,X=Y!==x.lane;if(X?(At&Y)===Y:(l&Y)===Y){Y!==0&&Y===ll&&(Wc=!0),q!==null&&(q=q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var st=t,rt=x;Y=e;var Nt=n;switch(rt.tag){case 1:if(st=rt.payload,typeof st=="function"){Z=st.call(Nt,Z,Y);break t}Z=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=rt.payload,Y=typeof st=="function"?st.call(Nt,Z,Y):st,Y==null)break t;Z=S({},Z,Y);break t;case 2:Zn=!0}}Y=x.callback,Y!==null&&(t.flags|=64,X&&(t.flags|=8192),X=s.callbacks,X===null?s.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},q===null?(L=q=X,T=Z):q=q.next=X,m|=Y;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;X=x,x=X.next,X.next=null,s.lastBaseUpdate=X,s.shared.pending=null}}while(!0);q===null&&(T=Z),s.baseState=T,s.firstBaseUpdate=L,s.lastBaseUpdate=q,y===null&&(s.shared.lanes=0),ea|=m,t.lanes=m,t.memoizedState=Z}}function Yd(t,e){if(typeof t!="function")throw Error(f(191,t));t.call(e)}function Xd(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Yd(n[t],e)}var ul=j(null),bu=j(0);function jd(t,e){t=kn,V(bu,t),V(ul,e),kn=t|e.baseLanes}function Jc(){V(bu,kn),V(ul,ul.current)}function $c(){kn=bu.current,$(ul),$(bu)}var Vn=0,ht=null,Mt=null,Vt=null,wu=!1,rl=!1,Ta=!1,xu=0,ai=0,cl=null,W5=0;function qt(){throw Error(f(321))}function Ic(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Me(t[n],e[n]))return!1;return!0}function Pc(t,e,n,l,s,y){return Vn=y,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,R.H=t===null||t.memoizedState===null?E0:_0,Ta=!1,y=n(l,s),Ta=!1,rl&&(y=Fd(e,n,l,s)),qd(t),y}function qd(t){R.H=Bu;var e=Mt!==null&&Mt.next!==null;if(Vn=0,Vt=Mt=ht=null,wu=!1,ai=0,cl=null,e)throw Error(f(300));t===null||ae||(t=t.dependencies,t!==null&&Du(t)&&(ae=!0))}function Fd(t,e,n,l){ht=t;var s=0;do{if(rl&&(cl=null),ai=0,rl=!1,25<=s)throw Error(f(301));if(s+=1,Vt=Mt=null,t.updateQueue!=null){var y=t.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=ng,y=e(n,l)}while(rl);return y}function J5(){var t=R.H,e=t.useState()[0];return e=typeof e.then=="function"?li(e):e,t=t.useState()[0],(Mt!==null?Mt.memoizedState:null)!==t&&(ht.flags|=1024),e}function ts(){var t=xu!==0;return xu=0,t}function es(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ns(t){if(wu){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}wu=!1}Vn=0,Vt=Mt=ht=null,rl=!1,ai=xu=0,cl=null}function we(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ht.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Wt(){if(Mt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Vt===null?ht.memoizedState:Vt.next;if(e!==null)Vt=e,Mt=t;else{if(t===null)throw ht.alternate===null?Error(f(467)):Error(f(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Vt===null?ht.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function as(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function li(t){var e=ai;return ai+=1,cl===null&&(cl=[]),t=Hd(cl,t,e),e=ht,(Vt===null?e.memoizedState:Vt.next)===null&&(e=e.alternate,R.H=e===null||e.memoizedState===null?E0:_0),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return li(t);if(t.$$typeof===M)return De(t)}throw Error(f(438,String(t)))}function ls(t){var e=null,n=ht.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var l=ht.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(e={data:l.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=as(),ht.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),l=0;l<t;l++)n[l]=B;return e.index++,n}function On(t,e){return typeof e=="function"?e(t):e}function _u(t){var e=Wt();return is(e,Mt,t)}function is(t,e,n){var l=t.queue;if(l===null)throw Error(f(311));l.lastRenderedReducer=n;var s=t.baseQueue,y=l.pending;if(y!==null){if(s!==null){var m=s.next;s.next=y.next,y.next=m}e.baseQueue=s=y,l.pending=null}if(y=t.baseState,s===null)t.memoizedState=y;else{e=s.next;var x=m=null,T=null,L=e,q=!1;do{var Z=L.lane&-536870913;if(Z!==L.lane?(At&Z)===Z:(Vn&Z)===Z){var Y=L.revertLane;if(Y===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Z===ll&&(q=!0);else if((Vn&Y)===Y){L=L.next,Y===ll&&(q=!0);continue}else Z={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(x=T=Z,m=y):T=T.next=Z,ht.lanes|=Y,ea|=Y;Z=L.action,Ta&&n(y,Z),y=L.hasEagerState?L.eagerState:n(y,Z)}else Y={lane:Z,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},T===null?(x=T=Y,m=y):T=T.next=Y,ht.lanes|=Z,ea|=Z;L=L.next}while(L!==null&&L!==e);if(T===null?m=y:T.next=x,!Me(y,t.memoizedState)&&(ae=!0,q&&(n=il,n!==null)))throw n;t.memoizedState=y,t.baseState=m,t.baseQueue=T,l.lastRenderedState=y}return s===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function us(t){var e=Wt(),n=e.queue;if(n===null)throw Error(f(311));n.lastRenderedReducer=t;var l=n.dispatch,s=n.pending,y=e.memoizedState;if(s!==null){n.pending=null;var m=s=s.next;do y=t(y,m.action),m=m.next;while(m!==s);Me(y,e.memoizedState)||(ae=!0),e.memoizedState=y,e.baseQueue===null&&(e.baseState=y),n.lastRenderedState=y}return[y,l]}function Zd(t,e,n){var l=ht,s=Wt(),y=Et;if(y){if(n===void 0)throw Error(f(407));n=n()}else n=e();var m=!Me((Mt||s).memoizedState,n);m&&(s.memoizedState=n,ae=!0),s=s.queue;var x=Vd.bind(null,l,s,t);if(ii(2048,8,x,[t]),s.getSnapshot!==e||m||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,sl(9,Uu(),Kd.bind(null,l,s,n,e),null),Ct===null)throw Error(f(349));y||(Vn&124)!==0||Qd(l,e,n)}return n}function Qd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e=as(),ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Kd(t,e,n,l){e.value=n,e.getSnapshot=l,Wd(e)&&Jd(t)}function Vd(t,e,n){return n(function(){Wd(e)&&Jd(t)})}function Wd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Me(t,n)}catch{return!0}}function Jd(t){var e=tl(t,2);e!==null&&He(e,t,2)}function rs(t){var e=we();if(typeof t=="function"){var n=t;if(t=n(),Ta){Xn(!0);try{n()}finally{Xn(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},e}function $d(t,e,n,l){return t.baseState=n,is(t,Mt,typeof l=="function"?l:On)}function $5(t,e,n,l,s){if(Tu(t))throw Error(f(485));if(t=e.action,t!==null){var y={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){y.listeners.push(m)}};R.T!==null?n(!0):y.isTransition=!1,l(y),n=e.pending,n===null?(y.next=e.pending=y,Id(e,y)):(y.next=n.next,e.pending=n.next=y)}}function Id(t,e){var n=e.action,l=e.payload,s=t.state;if(e.isTransition){var y=R.T,m={};R.T=m;try{var x=n(s,l),T=R.S;T!==null&&T(m,x),Pd(t,e,x)}catch(L){cs(t,e,L)}finally{R.T=y}}else try{y=n(s,l),Pd(t,e,y)}catch(L){cs(t,e,L)}}function Pd(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){t0(t,e,l)},function(l){return cs(t,e,l)}):t0(t,e,n)}function t0(t,e,n){e.status="fulfilled",e.value=n,e0(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Id(t,n)))}function cs(t,e,n){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do e.status="rejected",e.reason=n,e0(e),e=e.next;while(e!==l)}t.action=null}function e0(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function n0(t,e){return e}function a0(t,e){if(Et){var n=Ct.formState;if(n!==null){t:{var l=ht;if(Et){if(Xt){e:{for(var s=Xt,y=ln;s.nodeType!==8;){if(!y){s=null;break e}if(s=tn(s.nextSibling),s===null){s=null;break e}}y=s.data,s=y==="F!"||y==="F"?s:null}if(s){Xt=tn(s.nextSibling),l=s.data==="F!";break t}}Ea(l)}l=!1}l&&(e=n[0])}}return n=we(),n.memoizedState=n.baseState=e,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n0,lastRenderedState:e},n.queue=l,n=b0.bind(null,ht,l),l.dispatch=n,l=rs(!1),y=hs.bind(null,ht,!1,l.queue),l=we(),s={state:e,dispatch:null,action:t,pending:null},l.queue=s,n=$5.bind(null,ht,s,y,n),s.dispatch=n,l.memoizedState=t,[e,n,!1]}function l0(t){var e=Wt();return i0(e,Mt,t)}function i0(t,e,n){if(e=is(t,e,n0)[0],t=_u(On)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var l=li(e)}catch(m){throw m===Il?mu:m}else l=e;e=Wt();var s=e.queue,y=s.dispatch;return n!==e.memoizedState&&(ht.flags|=2048,sl(9,Uu(),I5.bind(null,s,n),null)),[l,y,t]}function I5(t,e){t.action=e}function u0(t){var e=Wt(),n=Mt;if(n!==null)return i0(e,n,t);Wt(),e=e.memoizedState,n=Wt();var l=n.queue.dispatch;return n.memoizedState=t,[e,l,!1]}function sl(t,e,n,l){return t={tag:t,create:n,deps:l,inst:e,next:null},e=ht.updateQueue,e===null&&(e=as(),ht.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(l=n.next,n.next=t,t.next=l,e.lastEffect=t),t}function Uu(){return{destroy:void 0,resource:void 0}}function r0(){return Wt().memoizedState}function Ou(t,e,n,l){var s=we();l=l===void 0?null:l,ht.flags|=t,s.memoizedState=sl(1|e,Uu(),n,l)}function ii(t,e,n,l){var s=Wt();l=l===void 0?null:l;var y=s.memoizedState.inst;Mt!==null&&l!==null&&Ic(l,Mt.memoizedState.deps)?s.memoizedState=sl(e,y,n,l):(ht.flags|=t,s.memoizedState=sl(1|e,y,n,l))}function c0(t,e){Ou(8390656,8,t,e)}function s0(t,e){ii(2048,8,t,e)}function o0(t,e){return ii(4,2,t,e)}function f0(t,e){return ii(4,4,t,e)}function d0(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h0(t,e,n){n=n!=null?n.concat([t]):null,ii(4,4,d0.bind(null,e,t),n)}function ss(){}function y0(t,e){var n=Wt();e=e===void 0?null:e;var l=n.memoizedState;return e!==null&&Ic(e,l[1])?l[0]:(n.memoizedState=[t,e],t)}function g0(t,e){var n=Wt();e=e===void 0?null:e;var l=n.memoizedState;if(e!==null&&Ic(e,l[1]))return l[0];if(l=t(),Ta){Xn(!0);try{t()}finally{Xn(!1)}}return n.memoizedState=[l,e],l}function os(t,e,n){return n===void 0||(Vn&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=S1(),ht.lanes|=t,ea|=t,n)}function p0(t,e,n,l){return Me(n,e)?n:ul.current!==null?(t=os(t,n,l),Me(t,e)||(ae=!0),t):(Vn&42)===0?(ae=!0,t.memoizedState=n):(t=S1(),ht.lanes|=t,ea|=t,e)}function D0(t,e,n,l,s){var y=C.p;C.p=y!==0&&8>y?y:8;var m=R.T,x={};R.T=x,hs(t,!1,e,n);try{var T=s(),L=R.S;if(L!==null&&L(x,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var q=V5(T,l);ui(t,e,q,Ce(t))}else ui(t,e,l,Ce(t))}catch(Z){ui(t,e,{then:function(){},status:"rejected",reason:Z},Ce())}finally{C.p=y,R.T=m}}function P5(){}function fs(t,e,n,l){if(t.tag!==5)throw Error(f(476));var s=S0(t).queue;D0(t,s,e,K,n===null?P5:function(){return A0(t),n(l)})}function S0(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:K},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function A0(t){var e=S0(t).next.queue;ui(t,e,{},Ce())}function ds(){return De(xi)}function m0(){return Wt().memoizedState}function v0(){return Wt().memoizedState}function tg(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ce();t=Qn(n);var l=Kn(e,t,n);l!==null&&(He(l,e,n),ti(l,e,n)),e={cache:jc()},t.payload=e;return}e=e.return}}function eg(t,e,n){var l=Ce();n={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(t)?w0(e,n):(n=Rc(t,e,n,l),n!==null&&(He(n,t,l),x0(n,e,l)))}function b0(t,e,n){var l=Ce();ui(t,e,n,l)}function ui(t,e,n,l){var s={lane:l,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))w0(e,s);else{var y=t.alternate;if(t.lanes===0&&(y===null||y.lanes===0)&&(y=e.lastRenderedReducer,y!==null))try{var m=e.lastRenderedState,x=y(m,n);if(s.hasEagerState=!0,s.eagerState=x,Me(x,m))return du(t,e,s,0),Ct===null&&fu(),!1}catch{}finally{}if(n=Rc(t,e,s,l),n!==null)return He(n,t,l),x0(n,e,l),!0}return!1}function hs(t,e,n,l){if(l={lane:2,revertLane:Zs(),action:l,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(e)throw Error(f(479))}else e=Rc(t,n,l,2),e!==null&&He(e,t,2)}function Tu(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function w0(t,e){rl=wu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function x0(t,e,n){if((n&4194048)!==0){var l=e.lanes;l&=t.pendingLanes,n|=l,e.lanes=n,Rf(t,n)}}var Bu={readContext:De,use:Eu,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},E0={readContext:De,use:Eu,useCallback:function(t,e){return we().memoizedState=[t,e===void 0?null:e],t},useContext:De,useEffect:c0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ou(4194308,4,d0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ou(4194308,4,t,e)},useInsertionEffect:function(t,e){Ou(4,2,t,e)},useMemo:function(t,e){var n=we();e=e===void 0?null:e;var l=t();if(Ta){Xn(!0);try{t()}finally{Xn(!1)}}return n.memoizedState=[l,e],l},useReducer:function(t,e,n){var l=we();if(n!==void 0){var s=n(e);if(Ta){Xn(!0);try{n(e)}finally{Xn(!1)}}}else s=e;return l.memoizedState=l.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},l.queue=t,t=t.dispatch=eg.bind(null,ht,t),[l.memoizedState,t]},useRef:function(t){var e=we();return t={current:t},e.memoizedState=t},useState:function(t){t=rs(t);var e=t.queue,n=b0.bind(null,ht,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ss,useDeferredValue:function(t,e){var n=we();return os(n,t,e)},useTransition:function(){var t=rs(!1);return t=D0.bind(null,ht,t.queue,!0,!1),we().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var l=ht,s=we();if(Et){if(n===void 0)throw Error(f(407));n=n()}else{if(n=e(),Ct===null)throw Error(f(349));(At&124)!==0||Qd(l,e,n)}s.memoizedState=n;var y={value:n,getSnapshot:e};return s.queue=y,c0(Vd.bind(null,l,y,t),[t]),l.flags|=2048,sl(9,Uu(),Kd.bind(null,l,y,n,e),null),n},useId:function(){var t=we(),e=Ct.identifierPrefix;if(Et){var n=En,l=xn;n=(l&~(1<<32-Be(l)-1)).toString(32)+n,e="«"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=W5++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:ds,useFormState:a0,useActionState:a0,useOptimistic:function(t){var e=we();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=hs.bind(null,ht,!0,n),n.dispatch=e,[t,e]},useMemoCache:ls,useCacheRefresh:function(){return we().memoizedState=tg.bind(null,ht)}},_0={readContext:De,use:Eu,useCallback:y0,useContext:De,useEffect:s0,useImperativeHandle:h0,useInsertionEffect:o0,useLayoutEffect:f0,useMemo:g0,useReducer:_u,useRef:r0,useState:function(){return _u(On)},useDebugValue:ss,useDeferredValue:function(t,e){var n=Wt();return p0(n,Mt.memoizedState,t,e)},useTransition:function(){var t=_u(On)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:li(t),e]},useSyncExternalStore:Zd,useId:m0,useHostTransitionStatus:ds,useFormState:l0,useActionState:l0,useOptimistic:function(t,e){var n=Wt();return $d(n,Mt,t,e)},useMemoCache:ls,useCacheRefresh:v0},ng={readContext:De,use:Eu,useCallback:y0,useContext:De,useEffect:s0,useImperativeHandle:h0,useInsertionEffect:o0,useLayoutEffect:f0,useMemo:g0,useReducer:us,useRef:r0,useState:function(){return us(On)},useDebugValue:ss,useDeferredValue:function(t,e){var n=Wt();return Mt===null?os(n,t,e):p0(n,Mt.memoizedState,t,e)},useTransition:function(){var t=us(On)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:li(t),e]},useSyncExternalStore:Zd,useId:m0,useHostTransitionStatus:ds,useFormState:u0,useActionState:u0,useOptimistic:function(t,e){var n=Wt();return Mt!==null?$d(n,Mt,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ls,useCacheRefresh:v0},ol=null,ri=0;function Mu(t){var e=ri;return ri+=1,ol===null&&(ol=[]),Hd(ol,t,e)}function ci(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ru(t,e){throw e.$$typeof===D?Error(f(525)):(t=Object.prototype.toString.call(e),Error(f(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function U0(t){var e=t._init;return e(t._payload)}function O0(t){function e(z,N){if(t){var H=z.deletions;H===null?(z.deletions=[N],z.flags|=16):H.push(N)}}function n(z,N){if(!t)return null;for(;N!==null;)e(z,N),N=N.sibling;return null}function l(z){for(var N=new Map;z!==null;)z.key!==null?N.set(z.key,z):N.set(z.index,z),z=z.sibling;return N}function s(z,N){return z=wn(z,N),z.index=0,z.sibling=null,z}function y(z,N,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<N?(z.flags|=67108866,N):H):(z.flags|=67108866,N)):(z.flags|=1048576,N)}function m(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function x(z,N,H,F){return N===null||N.tag!==6?(N=kc(H,z.mode,F),N.return=z,N):(N=s(N,H),N.return=z,N)}function T(z,N,H,F){var nt=H.type;return nt===w?q(z,N,H.props.children,F,H.key):N!==null&&(N.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===W&&U0(nt)===N.type)?(N=s(N,H.props),ci(N,H),N.return=z,N):(N=yu(H.type,H.key,H.props,null,z.mode,F),ci(N,H),N.return=z,N)}function L(z,N,H,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==H.containerInfo||N.stateNode.implementation!==H.implementation?(N=zc(H,z.mode,F),N.return=z,N):(N=s(N,H.children||[]),N.return=z,N)}function q(z,N,H,F,nt){return N===null||N.tag!==7?(N=va(H,z.mode,F,nt),N.return=z,N):(N=s(N,H),N.return=z,N)}function Z(z,N,H){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=kc(""+N,z.mode,H),N.return=z,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case p:return H=yu(N.type,N.key,N.props,null,z.mode,H),ci(H,N),H.return=z,H;case b:return N=zc(N,z.mode,H),N.return=z,N;case W:var F=N._init;return N=F(N._payload),Z(z,N,H)}if(bt(N)||Dt(N))return N=va(N,z.mode,H,null),N.return=z,N;if(typeof N.then=="function")return Z(z,Mu(N),H);if(N.$$typeof===M)return Z(z,Su(z,N),H);Ru(z,N)}return null}function Y(z,N,H,F){var nt=N!==null?N.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return nt!==null?null:x(z,N,""+H,F);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case p:return H.key===nt?T(z,N,H,F):null;case b:return H.key===nt?L(z,N,H,F):null;case W:return nt=H._init,H=nt(H._payload),Y(z,N,H,F)}if(bt(H)||Dt(H))return nt!==null?null:q(z,N,H,F,null);if(typeof H.then=="function")return Y(z,N,Mu(H),F);if(H.$$typeof===M)return Y(z,N,Su(z,H),F);Ru(z,H)}return null}function X(z,N,H,F,nt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(H)||null,x(N,z,""+F,nt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case p:return z=z.get(F.key===null?H:F.key)||null,T(N,z,F,nt);case b:return z=z.get(F.key===null?H:F.key)||null,L(N,z,F,nt);case W:var yt=F._init;return F=yt(F._payload),X(z,N,H,F,nt)}if(bt(F)||Dt(F))return z=z.get(H)||null,q(N,z,F,nt,null);if(typeof F.then=="function")return X(z,N,H,Mu(F),nt);if(F.$$typeof===M)return X(z,N,H,Su(N,F),nt);Ru(N,F)}return null}function st(z,N,H,F){for(var nt=null,yt=null,it=N,ct=N=0,ie=null;it!==null&&ct<H.length;ct++){it.index>ct?(ie=it,it=null):ie=it.sibling;var wt=Y(z,it,H[ct],F);if(wt===null){it===null&&(it=ie);break}t&&it&&wt.alternate===null&&e(z,it),N=y(wt,N,ct),yt===null?nt=wt:yt.sibling=wt,yt=wt,it=ie}if(ct===H.length)return n(z,it),Et&&wa(z,ct),nt;if(it===null){for(;ct<H.length;ct++)it=Z(z,H[ct],F),it!==null&&(N=y(it,N,ct),yt===null?nt=it:yt.sibling=it,yt=it);return Et&&wa(z,ct),nt}for(it=l(it);ct<H.length;ct++)ie=X(it,z,ct,H[ct],F),ie!==null&&(t&&ie.alternate!==null&&it.delete(ie.key===null?ct:ie.key),N=y(ie,N,ct),yt===null?nt=ie:yt.sibling=ie,yt=ie);return t&&it.forEach(function(oa){return e(z,oa)}),Et&&wa(z,ct),nt}function rt(z,N,H,F){if(H==null)throw Error(f(151));for(var nt=null,yt=null,it=N,ct=N=0,ie=null,wt=H.next();it!==null&&!wt.done;ct++,wt=H.next()){it.index>ct?(ie=it,it=null):ie=it.sibling;var oa=Y(z,it,wt.value,F);if(oa===null){it===null&&(it=ie);break}t&&it&&oa.alternate===null&&e(z,it),N=y(oa,N,ct),yt===null?nt=oa:yt.sibling=oa,yt=oa,it=ie}if(wt.done)return n(z,it),Et&&wa(z,ct),nt;if(it===null){for(;!wt.done;ct++,wt=H.next())wt=Z(z,wt.value,F),wt!==null&&(N=y(wt,N,ct),yt===null?nt=wt:yt.sibling=wt,yt=wt);return Et&&wa(z,ct),nt}for(it=l(it);!wt.done;ct++,wt=H.next())wt=X(it,z,ct,wt.value,F),wt!==null&&(t&&wt.alternate!==null&&it.delete(wt.key===null?ct:wt.key),N=y(wt,N,ct),yt===null?nt=wt:yt.sibling=wt,yt=wt);return t&&it.forEach(function(a4){return e(z,a4)}),Et&&wa(z,ct),nt}function Nt(z,N,H,F){if(typeof H=="object"&&H!==null&&H.type===w&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case p:t:{for(var nt=H.key;N!==null;){if(N.key===nt){if(nt=H.type,nt===w){if(N.tag===7){n(z,N.sibling),F=s(N,H.props.children),F.return=z,z=F;break t}}else if(N.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===W&&U0(nt)===N.type){n(z,N.sibling),F=s(N,H.props),ci(F,H),F.return=z,z=F;break t}n(z,N);break}else e(z,N);N=N.sibling}H.type===w?(F=va(H.props.children,z.mode,F,H.key),F.return=z,z=F):(F=yu(H.type,H.key,H.props,null,z.mode,F),ci(F,H),F.return=z,z=F)}return m(z);case b:t:{for(nt=H.key;N!==null;){if(N.key===nt)if(N.tag===4&&N.stateNode.containerInfo===H.containerInfo&&N.stateNode.implementation===H.implementation){n(z,N.sibling),F=s(N,H.children||[]),F.return=z,z=F;break t}else{n(z,N);break}else e(z,N);N=N.sibling}F=zc(H,z.mode,F),F.return=z,z=F}return m(z);case W:return nt=H._init,H=nt(H._payload),Nt(z,N,H,F)}if(bt(H))return st(z,N,H,F);if(Dt(H)){if(nt=Dt(H),typeof nt!="function")throw Error(f(150));return H=nt.call(H),rt(z,N,H,F)}if(typeof H.then=="function")return Nt(z,N,Mu(H),F);if(H.$$typeof===M)return Nt(z,N,Su(z,H),F);Ru(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,N!==null&&N.tag===6?(n(z,N.sibling),F=s(N,H),F.return=z,z=F):(n(z,N),F=kc(H,z.mode,F),F.return=z,z=F),m(z)):n(z,N)}return function(z,N,H,F){try{ri=0;var nt=Nt(z,N,H,F);return ol=null,nt}catch(it){if(it===Il||it===mu)throw it;var yt=Re(29,it,null,z.mode);return yt.lanes=F,yt.return=z,yt}finally{}}}var fl=O0(!0),T0=O0(!1),Ke=j(null),un=null;function Wn(t){var e=t.alternate;V(Pt,Pt.current&1),V(Ke,t),un===null&&(e===null||ul.current!==null||e.memoizedState!==null)&&(un=t)}function B0(t){if(t.tag===22){if(V(Pt,Pt.current),V(Ke,t),un===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(un=t)}}else Jn()}function Jn(){V(Pt,Pt.current),V(Ke,Ke.current)}function Tn(t){$(Ke),un===t&&(un=null),$(Pt)}var Pt=j(0);function Nu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||ao(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function ys(t,e,n,l){e=t.memoizedState,n=n(l,e),n=n==null?e:S({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var gs={enqueueSetState:function(t,e,n){t=t._reactInternals;var l=Ce(),s=Qn(l);s.payload=e,n!=null&&(s.callback=n),e=Kn(t,s,l),e!==null&&(He(e,t,l),ti(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var l=Ce(),s=Qn(l);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Kn(t,s,l),e!==null&&(He(e,t,l),ti(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ce(),l=Qn(n);l.tag=2,e!=null&&(l.callback=e),e=Kn(t,l,n),e!==null&&(He(e,t,n),ti(e,t,n))}};function M0(t,e,n,l,s,y,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,y,m):e.prototype&&e.prototype.isPureReactComponent?!Fl(n,l)||!Fl(s,y):!0}function R0(t,e,n,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,l),e.state!==t&&gs.enqueueReplaceState(e,e.state,null)}function Ba(t,e){var n=e;if("ref"in e){n={};for(var l in e)l!=="ref"&&(n[l]=e[l])}if(t=t.defaultProps){n===e&&(n=S({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function N0(t){ku(t)}function k0(t){console.error(t)}function z0(t){ku(t)}function zu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(l){setTimeout(function(){throw l})}}function C0(t,e,n){try{var l=t.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function ps(t,e,n){return n=Qn(n),n.tag=3,n.payload={element:null},n.callback=function(){zu(t,e)},n}function H0(t){return t=Qn(t),t.tag=3,t}function L0(t,e,n,l){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var y=l.value;t.payload=function(){return s(y)},t.callback=function(){C0(e,n,l)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(t.callback=function(){C0(e,n,l),typeof s!="function"&&(na===null?na=new Set([this]):na.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function ag(t,e,n,l,s){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(e=n.alternate,e!==null&&Wl(e,n,s,!0),n=Ke.current,n!==null){switch(n.tag){case 13:return un===null?Ys():n.alternate===null&&jt===0&&(jt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,l===Zc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([l]):e.add(l),js(t,l,s)),!1;case 22:return n.flags|=65536,l===Zc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([l]):n.add(l)),js(t,l,s)),!1}throw Error(f(435,n.tag))}return js(t,l,s),Ys(),!1}if(Et)return e=Ke.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=s,l!==Lc&&(t=Error(f(422),{cause:l}),Vl(qe(t,n)))):(l!==Lc&&(e=Error(f(423),{cause:l}),Vl(qe(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,l=qe(l,n),s=ps(t.stateNode,l,s),Vc(t,s),jt!==4&&(jt=2)),!1;var y=Error(f(520),{cause:l});if(y=qe(y,n),gi===null?gi=[y]:gi.push(y),jt!==4&&(jt=2),e===null)return!0;l=qe(l,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=ps(n.stateNode,l,t),Vc(n,t),!1;case 1:if(e=n.type,y=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(na===null||!na.has(y))))return n.flags|=65536,s&=-s,n.lanes|=s,s=H0(s),L0(s,t,n,l),Vc(n,s),!1}n=n.return}while(n!==null);return!1}var G0=Error(f(461)),ae=!1;function se(t,e,n,l){e.child=t===null?T0(e,null,n,l):fl(e,t.child,n,l)}function Y0(t,e,n,l,s){n=n.render;var y=e.ref;if("ref"in l){var m={};for(var x in l)x!=="ref"&&(m[x]=l[x])}else m=l;return Ua(e),l=Pc(t,e,n,m,y,s),x=ts(),t!==null&&!ae?(es(t,e,s),Bn(t,e,s)):(Et&&x&&Cc(e),e.flags|=1,se(t,e,l,s),e.child)}function X0(t,e,n,l,s){if(t===null){var y=n.type;return typeof y=="function"&&!Nc(y)&&y.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=y,j0(t,e,y,l,s)):(t=yu(n.type,null,l,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(y=t.child,!xs(t,s)){var m=y.memoizedProps;if(n=n.compare,n=n!==null?n:Fl,n(m,l)&&t.ref===e.ref)return Bn(t,e,s)}return e.flags|=1,t=wn(y,l),t.ref=e.ref,t.return=e,e.child=t}function j0(t,e,n,l,s){if(t!==null){var y=t.memoizedProps;if(Fl(y,l)&&t.ref===e.ref)if(ae=!1,e.pendingProps=l=y,xs(t,s))(t.flags&131072)!==0&&(ae=!0);else return e.lanes=t.lanes,Bn(t,e,s)}return Ds(t,e,n,l,s)}function q0(t,e,n){var l=e.pendingProps,s=l.children,y=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((e.flags&128)!==0){if(l=y!==null?y.baseLanes|n:n,t!==null){for(s=e.child=t.child,y=0;s!==null;)y=y|s.lanes|s.childLanes,s=s.sibling;e.childLanes=y&~l}else e.childLanes=0,e.child=null;return F0(t,e,l,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Au(e,y!==null?y.cachePool:null),y!==null?jd(e,y):Jc(),B0(e);else return e.lanes=e.childLanes=536870912,F0(t,e,y!==null?y.baseLanes|n:n,n)}else y!==null?(Au(e,y.cachePool),jd(e,y),Jn(),e.memoizedState=null):(t!==null&&Au(e,null),Jc(),Jn());return se(t,e,s,n),e.child}function F0(t,e,n,l){var s=Fc();return s=s===null?null:{parent:It._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Au(e,null),Jc(),B0(e),t!==null&&Wl(t,e,l,!0),null}function Cu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(f(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ds(t,e,n,l,s){return Ua(e),n=Pc(t,e,n,l,void 0,s),l=ts(),t!==null&&!ae?(es(t,e,s),Bn(t,e,s)):(Et&&l&&Cc(e),e.flags|=1,se(t,e,n,s),e.child)}function Z0(t,e,n,l,s,y){return Ua(e),e.updateQueue=null,n=Fd(e,l,n,s),qd(t),l=ts(),t!==null&&!ae?(es(t,e,y),Bn(t,e,y)):(Et&&l&&Cc(e),e.flags|=1,se(t,e,n,y),e.child)}function Q0(t,e,n,l,s){if(Ua(e),e.stateNode===null){var y=el,m=n.contextType;typeof m=="object"&&m!==null&&(y=De(m)),y=new n(l,y),e.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=gs,e.stateNode=y,y._reactInternals=e,y=e.stateNode,y.props=l,y.state=e.memoizedState,y.refs={},Qc(e),m=n.contextType,y.context=typeof m=="object"&&m!==null?De(m):el,y.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(ys(e,n,m,l),y.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(m=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),m!==y.state&&gs.enqueueReplaceState(y,y.state,null),ni(e,l,y,s),ei(),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308),l=!0}else if(t===null){y=e.stateNode;var x=e.memoizedProps,T=Ba(n,x);y.props=T;var L=y.context,q=n.contextType;m=el,typeof q=="object"&&q!==null&&(m=De(q));var Z=n.getDerivedStateFromProps;q=typeof Z=="function"||typeof y.getSnapshotBeforeUpdate=="function",x=e.pendingProps!==x,q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x||L!==m)&&R0(e,y,l,m),Zn=!1;var Y=e.memoizedState;y.state=Y,ni(e,l,y,s),ei(),L=e.memoizedState,x||Y!==L||Zn?(typeof Z=="function"&&(ys(e,n,Z,l),L=e.memoizedState),(T=Zn||M0(e,n,T,l,Y,L,m))?(q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(e.flags|=4194308)):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=l,e.memoizedState=L),y.props=l,y.state=L,y.context=m,l=T):(typeof y.componentDidMount=="function"&&(e.flags|=4194308),l=!1)}else{y=e.stateNode,Kc(t,e),m=e.memoizedProps,q=Ba(n,m),y.props=q,Z=e.pendingProps,Y=y.context,L=n.contextType,T=el,typeof L=="object"&&L!==null&&(T=De(L)),x=n.getDerivedStateFromProps,(L=typeof x=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(m!==Z||Y!==T)&&R0(e,y,l,T),Zn=!1,Y=e.memoizedState,y.state=Y,ni(e,l,y,s),ei();var X=e.memoizedState;m!==Z||Y!==X||Zn||t!==null&&t.dependencies!==null&&Du(t.dependencies)?(typeof x=="function"&&(ys(e,n,x,l),X=e.memoizedState),(q=Zn||M0(e,n,q,l,Y,X,T)||t!==null&&t.dependencies!==null&&Du(t.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,X,T),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,X,T)),typeof y.componentDidUpdate=="function"&&(e.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof y.componentDidUpdate!="function"||m===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),e.memoizedProps=l,e.memoizedState=X),y.props=l,y.state=X,y.context=T,l=q):(typeof y.componentDidUpdate!="function"||m===t.memoizedProps&&Y===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||m===t.memoizedProps&&Y===t.memoizedState||(e.flags|=1024),l=!1)}return y=l,Cu(t,e),l=(e.flags&128)!==0,y||l?(y=e.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:y.render(),e.flags|=1,t!==null&&l?(e.child=fl(e,t.child,null,s),e.child=fl(e,null,n,s)):se(t,e,n,s),e.memoizedState=y.state,t=e.child):t=Bn(t,e,s),t}function K0(t,e,n,l){return Kl(),e.flags|=256,se(t,e,n,l),e.child}var Ss={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function As(t){return{baseLanes:t,cachePool:kd()}}function ms(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ve),t}function V0(t,e,n){var l=e.pendingProps,s=!1,y=(e.flags&128)!==0,m;if((m=y)||(m=t!==null&&t.memoizedState===null?!1:(Pt.current&2)!==0),m&&(s=!0,e.flags&=-129),m=(e.flags&32)!==0,e.flags&=-33,t===null){if(Et){if(s?Wn(e):Jn(),Et){var x=Xt,T;if(T=x){t:{for(T=x,x=ln;T.nodeType!==8;){if(!x){x=null;break t}if(T=tn(T.nextSibling),T===null){x=null;break t}}x=T}x!==null?(e.memoizedState={dehydrated:x,treeContext:ba!==null?{id:xn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},T=Re(18,null,null,0),T.stateNode=x,T.return=e,e.child=T,Ae=e,Xt=null,T=!0):T=!1}T||Ea(e)}if(x=e.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return ao(x)?e.lanes=32:e.lanes=536870912,null;Tn(e)}return x=l.children,l=l.fallback,s?(Jn(),s=e.mode,x=Hu({mode:"hidden",children:x},s),l=va(l,s,n,null),x.return=e,l.return=e,x.sibling=l,e.child=x,s=e.child,s.memoizedState=As(n),s.childLanes=ms(t,m,n),e.memoizedState=Ss,l):(Wn(e),vs(e,x))}if(T=t.memoizedState,T!==null&&(x=T.dehydrated,x!==null)){if(y)e.flags&256?(Wn(e),e.flags&=-257,e=bs(t,e,n)):e.memoizedState!==null?(Jn(),e.child=t.child,e.flags|=128,e=null):(Jn(),s=l.fallback,x=e.mode,l=Hu({mode:"visible",children:l.children},x),s=va(s,x,n,null),s.flags|=2,l.return=e,s.return=e,l.sibling=s,e.child=l,fl(e,t.child,null,n),l=e.child,l.memoizedState=As(n),l.childLanes=ms(t,m,n),e.memoizedState=Ss,e=s);else if(Wn(e),ao(x)){if(m=x.nextSibling&&x.nextSibling.dataset,m)var L=m.dgst;m=L,l=Error(f(419)),l.stack="",l.digest=m,Vl({value:l,source:null,stack:null}),e=bs(t,e,n)}else if(ae||Wl(t,e,n,!1),m=(n&t.childLanes)!==0,ae||m){if(m=Ct,m!==null&&(l=n&-n,l=(l&42)!==0?1:lc(l),l=(l&(m.suspendedLanes|n))!==0?0:l,l!==0&&l!==T.retryLane))throw T.retryLane=l,tl(t,l),He(m,t,l),G0;x.data==="$?"||Ys(),e=bs(t,e,n)}else x.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=T.treeContext,Xt=tn(x.nextSibling),Ae=e,Et=!0,xa=null,ln=!1,t!==null&&(Ze[Qe++]=xn,Ze[Qe++]=En,Ze[Qe++]=ba,xn=t.id,En=t.overflow,ba=e),e=vs(e,l.children),e.flags|=4096);return e}return s?(Jn(),s=l.fallback,x=e.mode,T=t.child,L=T.sibling,l=wn(T,{mode:"hidden",children:l.children}),l.subtreeFlags=T.subtreeFlags&65011712,L!==null?s=wn(L,s):(s=va(s,x,n,null),s.flags|=2),s.return=e,l.return=e,l.sibling=s,e.child=l,l=s,s=e.child,x=t.child.memoizedState,x===null?x=As(n):(T=x.cachePool,T!==null?(L=It._currentValue,T=T.parent!==L?{parent:L,pool:L}:T):T=kd(),x={baseLanes:x.baseLanes|n,cachePool:T}),s.memoizedState=x,s.childLanes=ms(t,m,n),e.memoizedState=Ss,l):(Wn(e),n=t.child,t=n.sibling,n=wn(n,{mode:"visible",children:l.children}),n.return=e,n.sibling=null,t!==null&&(m=e.deletions,m===null?(e.deletions=[t],e.flags|=16):m.push(t)),e.child=n,e.memoizedState=null,n)}function vs(t,e){return e=Hu({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hu(t,e){return t=Re(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bs(t,e,n){return fl(e,t.child,null,n),t=vs(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W0(t,e,n){t.lanes|=e;var l=t.alternate;l!==null&&(l.lanes|=e),Yc(t.return,e,n)}function ws(t,e,n,l,s){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:s}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=n,y.tailMode=s)}function J0(t,e,n){var l=e.pendingProps,s=l.revealOrder,y=l.tail;if(se(t,e,l.children,n),l=Pt.current,(l&2)!==0)l=l&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&W0(t,n,e);else if(t.tag===19)W0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(V(Pt,l),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Nu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),ws(e,!1,s,n,y);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Nu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}ws(e,!0,n,null,y);break;case"together":ws(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(Wl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(f(153));if(e.child!==null){for(t=e.child,n=wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xs(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Du(t)))}function lg(t,e,n){switch(e.tag){case 3:zt(e,e.stateNode.containerInfo),Fn(e,It,t.memoizedState.cache),Kl();break;case 27:case 5:Pr(e);break;case 4:zt(e,e.stateNode.containerInfo);break;case 10:Fn(e,e.type,e.memoizedProps.value);break;case 13:var l=e.memoizedState;if(l!==null)return l.dehydrated!==null?(Wn(e),e.flags|=128,null):(n&e.child.childLanes)!==0?V0(t,e,n):(Wn(e),t=Bn(t,e,n),t!==null?t.sibling:null);Wn(e);break;case 19:var s=(t.flags&128)!==0;if(l=(n&e.childLanes)!==0,l||(Wl(t,e,n,!1),l=(n&e.childLanes)!==0),s){if(l)return J0(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),V(Pt,Pt.current),l)break;return null;case 22:case 23:return e.lanes=0,q0(t,e,n);case 24:Fn(e,It,t.memoizedState.cache)}return Bn(t,e,n)}function $0(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ae=!0;else{if(!xs(t,n)&&(e.flags&128)===0)return ae=!1,lg(t,e,n);ae=(t.flags&131072)!==0}else ae=!1,Et&&(e.flags&1048576)!==0&&Ud(e,pu,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var l=e.elementType,s=l._init;if(l=s(l._payload),e.type=l,typeof l=="function")Nc(l)?(t=Ba(l,t),e.tag=1,e=Q0(null,e,l,t,n)):(e.tag=0,e=Ds(null,e,l,t,n));else{if(l!=null){if(s=l.$$typeof,s===U){e.tag=11,e=Y0(null,e,l,t,n);break t}else if(s===Q){e.tag=14,e=X0(null,e,l,t,n);break t}}throw e=ye(l)||l,Error(f(306,e,""))}}return e;case 0:return Ds(t,e,e.type,e.pendingProps,n);case 1:return l=e.type,s=Ba(l,e.pendingProps),Q0(t,e,l,s,n);case 3:t:{if(zt(e,e.stateNode.containerInfo),t===null)throw Error(f(387));l=e.pendingProps;var y=e.memoizedState;s=y.element,Kc(t,e),ni(e,l,null,n);var m=e.memoizedState;if(l=m.cache,Fn(e,It,l),l!==y.cache&&Xc(e,[It],n,!0),ei(),l=m.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:m.cache},e.updateQueue.baseState=y,e.memoizedState=y,e.flags&256){e=K0(t,e,l,n);break t}else if(l!==s){s=qe(Error(f(424)),e),Vl(s),e=K0(t,e,l,n);break t}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Xt=tn(t.firstChild),Ae=e,Et=!0,xa=null,ln=!0,n=T0(e,null,l,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Kl(),l===s){e=Bn(t,e,n);break t}se(t,e,l,n)}e=e.child}return e;case 26:return Cu(t,e),t===null?(n=eh(e.type,null,e.pendingProps,null))?e.memoizedState=n:Et||(n=e.type,t=e.pendingProps,l=$u(ot.current).createElement(n),l[pe]=e,l[ve]=t,fe(l,n,t),ne(l),e.stateNode=l):e.memoizedState=eh(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Pr(e),t===null&&Et&&(l=e.stateNode=I1(e.type,e.pendingProps,ot.current),Ae=e,ln=!0,s=Xt,ia(e.type)?(lo=s,Xt=tn(l.firstChild)):Xt=s),se(t,e,e.pendingProps.children,n),Cu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Et&&((s=l=Xt)&&(l=Rg(l,e.type,e.pendingProps,ln),l!==null?(e.stateNode=l,Ae=e,Xt=tn(l.firstChild),ln=!1,s=!0):s=!1),s||Ea(e)),Pr(e),s=e.type,y=e.pendingProps,m=t!==null?t.memoizedProps:null,l=y.children,to(s,y)?l=null:m!==null&&to(s,m)&&(e.flags|=32),e.memoizedState!==null&&(s=Pc(t,e,J5,null,null,n),xi._currentValue=s),Cu(t,e),se(t,e,l,n),e.child;case 6:return t===null&&Et&&((t=n=Xt)&&(n=Ng(n,e.pendingProps,ln),n!==null?(e.stateNode=n,Ae=e,Xt=null,t=!0):t=!1),t||Ea(e)),null;case 13:return V0(t,e,n);case 4:return zt(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=fl(e,null,l,n):se(t,e,l,n),e.child;case 11:return Y0(t,e,e.type,e.pendingProps,n);case 7:return se(t,e,e.pendingProps,n),e.child;case 8:return se(t,e,e.pendingProps.children,n),e.child;case 12:return se(t,e,e.pendingProps.children,n),e.child;case 10:return l=e.pendingProps,Fn(e,e.type,l.value),se(t,e,l.children,n),e.child;case 9:return s=e.type._context,l=e.pendingProps.children,Ua(e),s=De(s),l=l(s),e.flags|=1,se(t,e,l,n),e.child;case 14:return X0(t,e,e.type,e.pendingProps,n);case 15:return j0(t,e,e.type,e.pendingProps,n);case 19:return J0(t,e,n);case 31:return l=e.pendingProps,n=e.mode,l={mode:l.mode,children:l.children},t===null?(n=Hu(l,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=wn(t.child,l),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return q0(t,e,n);case 24:return Ua(e),l=De(It),t===null?(s=Fc(),s===null&&(s=Ct,y=jc(),s.pooledCache=y,y.refCount++,y!==null&&(s.pooledCacheLanes|=n),s=y),e.memoizedState={parent:l,cache:s},Qc(e),Fn(e,It,s)):((t.lanes&n)!==0&&(Kc(t,e),ni(e,null,null,n),ei()),s=t.memoizedState,y=e.memoizedState,s.parent!==l?(s={parent:l,cache:l},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),Fn(e,It,l)):(l=y.cache,Fn(e,It,l),l!==s.cache&&Xc(e,[It],n,!0))),se(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(f(156,e.tag))}function Mn(t){t.flags|=4}function I0(t,e){if(e.type!=="stylesheet"||(e.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uh(e)){if(e=Ke.current,e!==null&&((At&4194048)===At?un!==null:(At&62914560)!==At&&(At&536870912)===0||e!==un))throw Pl=Zc,zd;t.flags|=8192}}function Lu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Bf():536870912,t.lanes|=e,gl|=e)}function si(t,e){if(!Et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,l=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=l,t.childLanes=n,e}function ig(t,e,n){var l=e.pendingProps;switch(Hc(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Yt(e),null;case 3:return n=e.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),e.memoizedState.cache!==l&&(e.flags|=2048),Un(It),nn(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ql(e)?Mn(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Bd())),Yt(e),null;case 26:return n=e.memoizedState,t===null?(Mn(e),n!==null?(Yt(e),I0(e,n)):(Yt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Mn(e),Yt(e),I0(e,n)):(Yt(e),e.flags&=-16777217):(t.memoizedProps!==l&&Mn(e),Yt(e),e.flags&=-16777217),null;case 27:Wi(e),n=ot.current;var s=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Mn(e);else{if(!l){if(e.stateNode===null)throw Error(f(166));return Yt(e),null}t=at.current,Ql(e)?Od(e):(t=I1(s,l,n),e.stateNode=t,Mn(e))}return Yt(e),null;case 5:if(Wi(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==l&&Mn(e);else{if(!l){if(e.stateNode===null)throw Error(f(166));return Yt(e),null}if(t=at.current,Ql(e))Od(e);else{switch(s=$u(ot.current),t){case 1:t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?s.createElement("select",{is:l.is}):s.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?s.createElement(n,{is:l.is}):s.createElement(n)}}t[pe]=e,t[ve]=l;t:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)t.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=t;t:switch(fe(t,n,l),n){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Mn(e)}}return Yt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==l&&Mn(e);else{if(typeof l!="string"&&e.stateNode===null)throw Error(f(166));if(t=ot.current,Ql(e)){if(t=e.stateNode,n=e.memoizedProps,l=null,s=Ae,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}t[pe]=e,t=!!(t.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||Z1(t.nodeValue,n)),t||Ea(e)}else t=$u(t).createTextNode(l),t[pe]=e,e.stateNode=t}return Yt(e),null;case 13:if(l=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=Ql(e),l!==null&&l.dehydrated!==null){if(t===null){if(!s)throw Error(f(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(f(317));s[pe]=e}else Kl(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else s=Bd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),s=!0;if(!s)return e.flags&256?(Tn(e),e):(Tn(e),null)}if(Tn(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=l!==null,t=t!==null&&t.memoizedState!==null,n){l=e.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool);var y=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==s&&(l.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Lu(e,e.updateQueue),Yt(e),null;case 4:return nn(),t===null&&Ws(e.stateNode.containerInfo),Yt(e),null;case 10:return Un(e.type),Yt(e),null;case 19:if($(Pt),s=e.memoizedState,s===null)return Yt(e),null;if(l=(e.flags&128)!==0,y=s.rendering,y===null)if(l)si(s,!1);else{if(jt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(y=Nu(t),y!==null){for(e.flags|=128,si(s,!1),t=y.updateQueue,e.updateQueue=t,Lu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)_d(n,t),n=n.sibling;return V(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&an()>Xu&&(e.flags|=128,l=!0,si(s,!1),e.lanes=4194304)}else{if(!l)if(t=Nu(y),t!==null){if(e.flags|=128,l=!0,t=t.updateQueue,e.updateQueue=t,Lu(e,t),si(s,!0),s.tail===null&&s.tailMode==="hidden"&&!y.alternate&&!Et)return Yt(e),null}else 2*an()-s.renderingStartTime>Xu&&n!==536870912&&(e.flags|=128,l=!0,si(s,!1),e.lanes=4194304);s.isBackwards?(y.sibling=e.child,e.child=y):(t=s.last,t!==null?t.sibling=y:e.child=y,s.last=y)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=an(),e.sibling=null,t=Pt.current,V(Pt,l?t&1|2:t&1),e):(Yt(e),null);case 22:case 23:return Tn(e),$c(),l=e.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(e.flags|=8192):l&&(e.flags|=8192),l?(n&536870912)!==0&&(e.flags&128)===0&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),n=e.updateQueue,n!==null&&Lu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),l=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),l!==n&&(e.flags|=2048),t!==null&&$(Oa),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Un(It),Yt(e),null;case 25:return null;case 30:return null}throw Error(f(156,e.tag))}function ug(t,e){switch(Hc(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Un(It),nn(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Wi(e),null;case 13:if(Tn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(f(340));Kl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $(Pt),null;case 4:return nn(),null;case 10:return Un(e.type),null;case 22:case 23:return Tn(e),$c(),t!==null&&$(Oa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Un(It),null;case 25:return null;default:return null}}function P0(t,e){switch(Hc(e),e.tag){case 3:Un(It),nn();break;case 26:case 27:case 5:Wi(e);break;case 4:nn();break;case 13:Tn(e);break;case 19:$(Pt);break;case 10:Un(e.type);break;case 22:case 23:Tn(e),$c(),t!==null&&$(Oa);break;case 24:Un(It)}}function oi(t,e){try{var n=e.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var s=l.next;n=s;do{if((n.tag&t)===t){l=void 0;var y=n.create,m=n.inst;l=y(),m.destroy=l}n=n.next}while(n!==s)}}catch(x){kt(e,e.return,x)}}function $n(t,e,n){try{var l=e.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var y=s.next;l=y;do{if((l.tag&t)===t){var m=l.inst,x=m.destroy;if(x!==void 0){m.destroy=void 0,s=e;var T=n,L=x;try{L()}catch(q){kt(s,T,q)}}}l=l.next}while(l!==y)}}catch(q){kt(e,e.return,q)}}function t1(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Xd(e,n)}catch(l){kt(t,t.return,l)}}}function e1(t,e,n){n.props=Ba(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(l){kt(t,e,l)}}function fi(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof n=="function"?t.refCleanup=n(l):n.current=l}}catch(s){kt(t,e,s)}}function rn(t,e){var n=t.ref,l=t.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(s){kt(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){kt(t,e,s)}else n.current=null}function n1(t){var e=t.type,n=t.memoizedProps,l=t.stateNode;try{t:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break t;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(s){kt(t,t.return,s)}}function Es(t,e,n){try{var l=t.stateNode;Ug(l,t.type,n,e),l[ve]=e}catch(s){kt(t,t.return,s)}}function a1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ia(t.type)||t.tag===4}function _s(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||a1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ia(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Us(t,e,n){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ju));else if(l!==4&&(l===27&&ia(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Us(t,e,n),t=t.sibling;t!==null;)Us(t,e,n),t=t.sibling}function Gu(t,e,n){var l=t.tag;if(l===5||l===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(l!==4&&(l===27&&ia(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Gu(t,e,n),t=t.sibling;t!==null;)Gu(t,e,n),t=t.sibling}function l1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var l=t.type,s=e.attributes;s.length;)e.removeAttributeNode(s[0]);fe(e,l,n),e[pe]=t,e[ve]=n}catch(y){kt(t,t.return,y)}}var Rn=!1,Ft=!1,Os=!1,i1=typeof WeakSet=="function"?WeakSet:Set,le=null;function rg(t,e){if(t=t.containerInfo,Is=ar,t=pd(t),_c(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{n=(n=t.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var s=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{n.nodeType,y.nodeType}catch{n=null;break t}var m=0,x=-1,T=-1,L=0,q=0,Z=t,Y=null;e:for(;;){for(var X;Z!==n||s!==0&&Z.nodeType!==3||(x=m+s),Z!==y||l!==0&&Z.nodeType!==3||(T=m+l),Z.nodeType===3&&(m+=Z.nodeValue.length),(X=Z.firstChild)!==null;)Y=Z,Z=X;for(;;){if(Z===t)break e;if(Y===n&&++L===s&&(x=m),Y===y&&++q===l&&(T=m),(X=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=X}n=x===-1||T===-1?null:{start:x,end:T}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ps={focusedElem:t,selectionRange:n},ar=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){switch(e=le,y=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&y!==null){t=void 0,n=e,s=y.memoizedProps,y=y.memoizedState,l=n.stateNode;try{var st=Ba(n.type,s,n.elementType===n.type);t=l.getSnapshotBeforeUpdate(st,y),l.__reactInternalSnapshotBeforeUpdate=t}catch(rt){kt(n,n.return,rt)}}break;case 3:if((t&1024)!==0){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)no(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":no(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(f(163))}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}}function u1(t,e,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:In(t,n),l&4&&oi(5,n);break;case 1:if(In(t,n),l&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(m){kt(n,n.return,m)}else{var s=Ba(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(m){kt(n,n.return,m)}}l&64&&t1(n),l&512&&fi(n,n.return);break;case 3:if(In(t,n),l&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Xd(t,e)}catch(m){kt(n,n.return,m)}}break;case 27:e===null&&l&4&&l1(n);case 26:case 5:In(t,n),e===null&&l&4&&n1(n),l&512&&fi(n,n.return);break;case 12:In(t,n);break;case 13:In(t,n),l&4&&s1(t,n),l&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=pg.bind(null,n),kg(t,n))));break;case 22:if(l=n.memoizedState!==null||Rn,!l){e=e!==null&&e.memoizedState!==null||Ft,s=Rn;var y=Ft;Rn=l,(Ft=e)&&!y?Pn(t,n,(n.subtreeFlags&8772)!==0):In(t,n),Rn=s,Ft=y}break;case 30:break;default:In(t,n)}}function r1(t){var e=t.alternate;e!==null&&(t.alternate=null,r1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&rc(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Lt=null,xe=!1;function Nn(t,e,n){for(n=n.child;n!==null;)c1(t,e,n),n=n.sibling}function c1(t,e,n){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(Rl,n)}catch{}switch(n.tag){case 26:Ft||rn(n,e),Nn(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ft||rn(n,e);var l=Lt,s=xe;ia(n.type)&&(Lt=n.stateNode,xe=!1),Nn(t,e,n),mi(n.stateNode),Lt=l,xe=s;break;case 5:Ft||rn(n,e);case 6:if(l=Lt,s=xe,Lt=null,Nn(t,e,n),Lt=l,xe=s,Lt!==null)if(xe)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(n.stateNode)}catch(y){kt(n,e,y)}else try{Lt.removeChild(n.stateNode)}catch(y){kt(n,e,y)}break;case 18:Lt!==null&&(xe?(t=Lt,J1(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Oi(t)):J1(Lt,n.stateNode));break;case 4:l=Lt,s=xe,Lt=n.stateNode.containerInfo,xe=!0,Nn(t,e,n),Lt=l,xe=s;break;case 0:case 11:case 14:case 15:Ft||$n(2,n,e),Ft||$n(4,n,e),Nn(t,e,n);break;case 1:Ft||(rn(n,e),l=n.stateNode,typeof l.componentWillUnmount=="function"&&e1(n,e,l)),Nn(t,e,n);break;case 21:Nn(t,e,n);break;case 22:Ft=(l=Ft)||n.memoizedState!==null,Nn(t,e,n),Ft=l;break;default:Nn(t,e,n)}}function s1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Oi(t)}catch(n){kt(e,e.return,n)}}function cg(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new i1),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new i1),e;default:throw Error(f(435,t.tag))}}function Ts(t,e){var n=cg(t);e.forEach(function(l){var s=Dg.bind(null,t,l);n.has(l)||(n.add(l),l.then(s,s))})}function Ne(t,e){var n=e.deletions;if(n!==null)for(var l=0;l<n.length;l++){var s=n[l],y=t,m=e,x=m;t:for(;x!==null;){switch(x.tag){case 27:if(ia(x.type)){Lt=x.stateNode,xe=!1;break t}break;case 5:Lt=x.stateNode,xe=!1;break t;case 3:case 4:Lt=x.stateNode.containerInfo,xe=!0;break t}x=x.return}if(Lt===null)throw Error(f(160));c1(y,m,s),Lt=null,xe=!1,y=s.alternate,y!==null&&(y.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)o1(e,t),e=e.sibling}var Pe=null;function o1(t,e){var n=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ne(e,t),ke(t),l&4&&($n(3,t,t.return),oi(3,t),$n(5,t,t.return));break;case 1:Ne(e,t),ke(t),l&512&&(Ft||n===null||rn(n,n.return)),l&64&&Rn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var s=Pe;if(Ne(e,t),ke(t),l&512&&(Ft||n===null||rn(n,n.return)),l&4){var y=n!==null?n.memoizedState:null;if(l=t.memoizedState,n===null)if(l===null)if(t.stateNode===null){t:{l=t.type,n=t.memoizedProps,s=s.ownerDocument||s;e:switch(l){case"title":y=s.getElementsByTagName("title")[0],(!y||y[zl]||y[pe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=s.createElement(l),s.head.insertBefore(y,s.querySelector("head > title"))),fe(y,l,n),y[pe]=t,ne(y),l=y;break t;case"link":var m=lh("link","href",s).get(l+(n.href||""));if(m){for(var x=0;x<m.length;x++)if(y=m[x],y.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&y.getAttribute("rel")===(n.rel==null?null:n.rel)&&y.getAttribute("title")===(n.title==null?null:n.title)&&y.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(x,1);break e}}y=s.createElement(l),fe(y,l,n),s.head.appendChild(y);break;case"meta":if(m=lh("meta","content",s).get(l+(n.content||""))){for(x=0;x<m.length;x++)if(y=m[x],y.getAttribute("content")===(n.content==null?null:""+n.content)&&y.getAttribute("name")===(n.name==null?null:n.name)&&y.getAttribute("property")===(n.property==null?null:n.property)&&y.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&y.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(x,1);break e}}y=s.createElement(l),fe(y,l,n),s.head.appendChild(y);break;default:throw Error(f(468,l))}y[pe]=t,ne(y),l=y}t.stateNode=l}else ih(s,t.type,t.stateNode);else t.stateNode=ah(s,l,t.memoizedProps);else y!==l?(y===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):y.count--,l===null?ih(s,t.type,t.stateNode):ah(s,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Es(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ne(e,t),ke(t),l&512&&(Ft||n===null||rn(n,n.return)),n!==null&&l&4&&Es(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ne(e,t),ke(t),l&512&&(Ft||n===null||rn(n,n.return)),t.flags&32){s=t.stateNode;try{Ka(s,"")}catch(X){kt(t,t.return,X)}}l&4&&t.stateNode!=null&&(s=t.memoizedProps,Es(t,s,n!==null?n.memoizedProps:s)),l&1024&&(Os=!0);break;case 6:if(Ne(e,t),ke(t),l&4){if(t.stateNode===null)throw Error(f(162));l=t.memoizedProps,n=t.stateNode;try{n.nodeValue=l}catch(X){kt(t,t.return,X)}}break;case 3:if(tr=null,s=Pe,Pe=Iu(e.containerInfo),Ne(e,t),Pe=s,ke(t),l&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(e.containerInfo)}catch(X){kt(t,t.return,X)}Os&&(Os=!1,f1(t));break;case 4:l=Pe,Pe=Iu(t.stateNode.containerInfo),Ne(e,t),ke(t),Pe=l;break;case 12:Ne(e,t),ke(t);break;case 13:Ne(e,t),ke(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zs=an()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ts(t,l)));break;case 22:s=t.memoizedState!==null;var T=n!==null&&n.memoizedState!==null,L=Rn,q=Ft;if(Rn=L||s,Ft=q||T,Ne(e,t),Ft=q,Rn=L,ke(t),l&8192)t:for(e=t.stateNode,e._visibility=s?e._visibility&-2:e._visibility|1,s&&(n===null||T||Rn||Ft||Ma(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){T=n=e;try{if(y=T.stateNode,s)m=y.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{x=T.stateNode;var Z=T.memoizedProps.style,Y=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;x.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){kt(T,T.return,X)}}}else if(e.tag===6){if(n===null){T=e;try{T.stateNode.nodeValue=s?"":T.memoizedProps}catch(X){kt(T,T.return,X)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}l&4&&(l=t.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Ts(t,n))));break;case 19:Ne(e,t),ke(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ts(t,l)));break;case 30:break;case 21:break;default:Ne(e,t),ke(t)}}function ke(t){var e=t.flags;if(e&2){try{for(var n,l=t.return;l!==null;){if(a1(l)){n=l;break}l=l.return}if(n==null)throw Error(f(160));switch(n.tag){case 27:var s=n.stateNode,y=_s(t);Gu(t,y,s);break;case 5:var m=n.stateNode;n.flags&32&&(Ka(m,""),n.flags&=-33);var x=_s(t);Gu(t,x,m);break;case 3:case 4:var T=n.stateNode.containerInfo,L=_s(t);Us(t,L,T);break;default:throw Error(f(161))}}catch(q){kt(t,t.return,q)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function f1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;f1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function In(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)u1(t,e.alternate,e),e=e.sibling}function Ma(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:$n(4,e,e.return),Ma(e);break;case 1:rn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&e1(e,e.return,n),Ma(e);break;case 27:mi(e.stateNode);case 26:case 5:rn(e,e.return),Ma(e);break;case 22:e.memoizedState===null&&Ma(e);break;case 30:Ma(e);break;default:Ma(e)}t=t.sibling}}function Pn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var l=e.alternate,s=t,y=e,m=y.flags;switch(y.tag){case 0:case 11:case 15:Pn(s,y,n),oi(4,y);break;case 1:if(Pn(s,y,n),l=y,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(L){kt(l,l.return,L)}if(l=y,s=l.updateQueue,s!==null){var x=l.stateNode;try{var T=s.shared.hiddenCallbacks;if(T!==null)for(s.shared.hiddenCallbacks=null,s=0;s<T.length;s++)Yd(T[s],x)}catch(L){kt(l,l.return,L)}}n&&m&64&&t1(y),fi(y,y.return);break;case 27:l1(y);case 26:case 5:Pn(s,y,n),n&&l===null&&m&4&&n1(y),fi(y,y.return);break;case 12:Pn(s,y,n);break;case 13:Pn(s,y,n),n&&m&4&&s1(s,y);break;case 22:y.memoizedState===null&&Pn(s,y,n),fi(y,y.return);break;case 30:break;default:Pn(s,y,n)}e=e.sibling}}function Bs(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Jl(n))}function Ms(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jl(t))}function cn(t,e,n,l){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)d1(t,e,n,l),e=e.sibling}function d1(t,e,n,l){var s=e.flags;switch(e.tag){case 0:case 11:case 15:cn(t,e,n,l),s&2048&&oi(9,e);break;case 1:cn(t,e,n,l);break;case 3:cn(t,e,n,l),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Jl(t)));break;case 12:if(s&2048){cn(t,e,n,l),t=e.stateNode;try{var y=e.memoizedProps,m=y.id,x=y.onPostCommit;typeof x=="function"&&x(m,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(T){kt(e,e.return,T)}}else cn(t,e,n,l);break;case 13:cn(t,e,n,l);break;case 23:break;case 22:y=e.stateNode,m=e.alternate,e.memoizedState!==null?y._visibility&2?cn(t,e,n,l):di(t,e):y._visibility&2?cn(t,e,n,l):(y._visibility|=2,dl(t,e,n,l,(e.subtreeFlags&10256)!==0)),s&2048&&Bs(m,e);break;case 24:cn(t,e,n,l),s&2048&&Ms(e.alternate,e);break;default:cn(t,e,n,l)}}function dl(t,e,n,l,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var y=t,m=e,x=n,T=l,L=m.flags;switch(m.tag){case 0:case 11:case 15:dl(y,m,x,T,s),oi(8,m);break;case 23:break;case 22:var q=m.stateNode;m.memoizedState!==null?q._visibility&2?dl(y,m,x,T,s):di(y,m):(q._visibility|=2,dl(y,m,x,T,s)),s&&L&2048&&Bs(m.alternate,m);break;case 24:dl(y,m,x,T,s),s&&L&2048&&Ms(m.alternate,m);break;default:dl(y,m,x,T,s)}e=e.sibling}}function di(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,l=e,s=l.flags;switch(l.tag){case 22:di(n,l),s&2048&&Bs(l.alternate,l);break;case 24:di(n,l),s&2048&&Ms(l.alternate,l);break;default:di(n,l)}e=e.sibling}}var hi=8192;function hl(t){if(t.subtreeFlags&hi)for(t=t.child;t!==null;)h1(t),t=t.sibling}function h1(t){switch(t.tag){case 26:hl(t),t.flags&hi&&t.memoizedState!==null&&Kg(Pe,t.memoizedState,t.memoizedProps);break;case 5:hl(t);break;case 3:case 4:var e=Pe;Pe=Iu(t.stateNode.containerInfo),hl(t),Pe=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=hi,hi=16777216,hl(t),hi=e):hl(t));break;default:hl(t)}}function y1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function yi(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var l=e[n];le=l,p1(l,t)}y1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)g1(t),t=t.sibling}function g1(t){switch(t.tag){case 0:case 11:case 15:yi(t),t.flags&2048&&$n(9,t,t.return);break;case 3:yi(t);break;case 12:yi(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Yu(t)):yi(t);break;default:yi(t)}}function Yu(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var l=e[n];le=l,p1(l,t)}y1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:$n(8,e,e.return),Yu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Yu(e));break;default:Yu(e)}t=t.sibling}}function p1(t,e){for(;le!==null;){var n=le;switch(n.tag){case 0:case 11:case 15:$n(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,le=l;else t:for(n=t;le!==null;){l=le;var s=l.sibling,y=l.return;if(r1(l),l===n){le=null;break t}if(s!==null){s.return=y,le=s;break t}le=y}}}var sg={getCacheForType:function(t){var e=De(It),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},og=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Ct=null,gt=null,At=0,Ot=0,ze=null,ta=!1,yl=!1,Rs=!1,kn=0,jt=0,ea=0,Ra=0,Ns=0,Ve=0,gl=0,gi=null,Ee=null,ks=!1,zs=0,Xu=1/0,ju=null,na=null,oe=0,aa=null,pl=null,Dl=0,Cs=0,Hs=null,D1=null,pi=0,Ls=null;function Ce(){if((Ut&2)!==0&&At!==0)return At&-At;if(R.T!==null){var t=ll;return t!==0?t:Zs()}return Nf()}function S1(){Ve===0&&(Ve=(At&536870912)===0||Et?Tf():536870912);var t=Ke.current;return t!==null&&(t.flags|=32),Ve}function He(t,e,n){(t===Ct&&(Ot===2||Ot===9)||t.cancelPendingCommit!==null)&&(Sl(t,0),la(t,At,Ve,!1)),kl(t,n),((Ut&2)===0||t!==Ct)&&(t===Ct&&((Ut&2)===0&&(Ra|=n),jt===4&&la(t,At,Ve,!1)),sn(t))}function A1(t,e,n){if((Ut&6)!==0)throw Error(f(327));var l=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Nl(t,e),s=l?hg(t,e):Xs(t,e,!0),y=l;do{if(s===0){yl&&!l&&la(t,e,0,!1);break}else{if(n=t.current.alternate,y&&!fg(n)){s=Xs(t,e,!1),y=!1;continue}if(s===2){if(y=e,t.errorRecoveryDisabledLanes&y)var m=0;else m=t.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){e=m;t:{var x=t;s=gi;var T=x.current.memoizedState.isDehydrated;if(T&&(Sl(x,m).flags|=256),m=Xs(x,m,!1),m!==2){if(Rs&&!T){x.errorRecoveryDisabledLanes|=y,Ra|=y,s=4;break t}y=Ee,Ee=s,y!==null&&(Ee===null?Ee=y:Ee.push.apply(Ee,y))}s=m}if(y=!1,s!==2)continue}}if(s===1){Sl(t,0),la(t,e,0,!0);break}t:{switch(l=t,y=s,y){case 0:case 1:throw Error(f(345));case 4:if((e&4194048)!==e)break;case 6:la(l,e,Ve,!ta);break t;case 2:Ee=null;break;case 3:case 5:break;default:throw Error(f(329))}if((e&62914560)===e&&(s=zs+300-an(),10<s)){if(la(l,e,Ve,!ta),Pi(l,0,!0)!==0)break t;l.timeoutHandle=V1(m1.bind(null,l,n,Ee,ju,ks,e,Ve,Ra,gl,ta,y,2,-0,0),s);break t}m1(l,n,Ee,ju,ks,e,Ve,Ra,gl,ta,y,0,-0,0)}}break}while(!0);sn(t)}function m1(t,e,n,l,s,y,m,x,T,L,q,Z,Y,X){if(t.timeoutHandle=-1,Z=e.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(wi={stylesheets:null,count:0,unsuspend:Qg},h1(e),Z=Vg(),Z!==null)){t.cancelPendingCommit=Z(U1.bind(null,t,e,y,n,l,s,m,x,T,q,1,Y,X)),la(t,y,m,!L);return}U1(t,e,y,n,l,s,m,x,T)}function fg(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var s=n[l],y=s.getSnapshot;s=s.value;try{if(!Me(y(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function la(t,e,n,l){e&=~Ns,e&=~Ra,t.suspendedLanes|=e,t.pingedLanes&=~e,l&&(t.warmLanes|=e),l=t.expirationTimes;for(var s=e;0<s;){var y=31-Be(s),m=1<<y;l[y]=-1,s&=~m}n!==0&&Mf(t,n,e)}function qu(){return(Ut&6)===0?(Di(0),!1):!0}function Gs(){if(gt!==null){if(Ot===0)var t=gt.return;else t=gt,_n=_a=null,ns(t),ol=null,ri=0,t=gt;for(;t!==null;)P0(t.alternate,t),t=t.return;gt=null}}function Sl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,Tg(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Gs(),Ct=t,gt=n=wn(t.current,null),At=e,Ot=0,ze=null,ta=!1,yl=Nl(t,e),Rs=!1,gl=Ve=Ns=Ra=ea=jt=0,Ee=gi=null,ks=!1,(e&8)!==0&&(e|=e&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=e;0<l;){var s=31-Be(l),y=1<<s;e|=t[s],l&=~y}return kn=e,fu(),n}function v1(t,e){ht=null,R.H=Bu,e===Il||e===mu?(e=Ld(),Ot=3):e===zd?(e=Ld(),Ot=4):Ot=e===G0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ze=e,gt===null&&(jt=1,zu(t,qe(e,t.current)))}function b1(){var t=R.H;return R.H=Bu,t===null?Bu:t}function w1(){var t=R.A;return R.A=sg,t}function Ys(){jt=4,ta||(At&4194048)!==At&&Ke.current!==null||(yl=!0),(ea&134217727)===0&&(Ra&134217727)===0||Ct===null||la(Ct,At,Ve,!1)}function Xs(t,e,n){var l=Ut;Ut|=2;var s=b1(),y=w1();(Ct!==t||At!==e)&&(ju=null,Sl(t,e)),e=!1;var m=jt;t:do try{if(Ot!==0&&gt!==null){var x=gt,T=ze;switch(Ot){case 8:Gs(),m=6;break t;case 3:case 2:case 9:case 6:Ke.current===null&&(e=!0);var L=Ot;if(Ot=0,ze=null,Al(t,x,T,L),n&&yl){m=0;break t}break;default:L=Ot,Ot=0,ze=null,Al(t,x,T,L)}}dg(),m=jt;break}catch(q){v1(t,q)}while(!0);return e&&t.shellSuspendCounter++,_n=_a=null,Ut=l,R.H=s,R.A=y,gt===null&&(Ct=null,At=0,fu()),m}function dg(){for(;gt!==null;)x1(gt)}function hg(t,e){var n=Ut;Ut|=2;var l=b1(),s=w1();Ct!==t||At!==e?(ju=null,Xu=an()+500,Sl(t,e)):yl=Nl(t,e);t:do try{if(Ot!==0&&gt!==null){e=gt;var y=ze;e:switch(Ot){case 1:Ot=0,ze=null,Al(t,e,y,1);break;case 2:case 9:if(Cd(y)){Ot=0,ze=null,E1(e);break}e=function(){Ot!==2&&Ot!==9||Ct!==t||(Ot=7),sn(t)},y.then(e,e);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:Cd(y)?(Ot=0,ze=null,E1(e)):(Ot=0,ze=null,Al(t,e,y,7));break;case 5:var m=null;switch(gt.tag){case 26:m=gt.memoizedState;case 5:case 27:var x=gt;if(!m||uh(m)){Ot=0,ze=null;var T=x.sibling;if(T!==null)gt=T;else{var L=x.return;L!==null?(gt=L,Fu(L)):gt=null}break e}}Ot=0,ze=null,Al(t,e,y,5);break;case 6:Ot=0,ze=null,Al(t,e,y,6);break;case 8:Gs(),jt=6;break t;default:throw Error(f(462))}}yg();break}catch(q){v1(t,q)}while(!0);return _n=_a=null,R.H=l,R.A=s,Ut=n,gt!==null?0:(Ct=null,At=0,fu(),jt)}function yg(){for(;gt!==null&&!Cy();)x1(gt)}function x1(t){var e=$0(t.alternate,t,kn);t.memoizedProps=t.pendingProps,e===null?Fu(t):gt=e}function E1(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Z0(n,e,e.pendingProps,e.type,void 0,At);break;case 11:e=Z0(n,e,e.pendingProps,e.type.render,e.ref,At);break;case 5:ns(e);default:P0(n,e),e=gt=_d(e,kn),e=$0(n,e,kn)}t.memoizedProps=t.pendingProps,e===null?Fu(t):gt=e}function Al(t,e,n,l){_n=_a=null,ns(e),ol=null,ri=0;var s=e.return;try{if(ag(t,s,e,n,At)){jt=1,zu(t,qe(n,t.current)),gt=null;return}}catch(y){if(s!==null)throw gt=s,y;jt=1,zu(t,qe(n,t.current)),gt=null;return}e.flags&32768?(Et||l===1?t=!0:yl||(At&536870912)!==0?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ke.current,l!==null&&l.tag===13&&(l.flags|=16384))),_1(e,t)):Fu(e)}function Fu(t){var e=t;do{if((e.flags&32768)!==0){_1(e,ta);return}t=e.return;var n=ig(e.alternate,e,kn);if(n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);jt===0&&(jt=5)}function _1(t,e){do{var n=ug(t.alternate,t);if(n!==null){n.flags&=32767,gt=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){gt=t;return}gt=t=n}while(t!==null);jt=6,gt=null}function U1(t,e,n,l,s,y,m,x,T){t.cancelPendingCommit=null;do Zu();while(oe!==0);if((Ut&6)!==0)throw Error(f(327));if(e!==null){if(e===t.current)throw Error(f(177));if(y=e.lanes|e.childLanes,y|=Mc,Qy(t,n,y,m,x,T),t===Ct&&(gt=Ct=null,At=0),pl=e,aa=t,Dl=n,Cs=y,Hs=s,D1=l,(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sg(Ji,function(){return R1(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(e.flags&13878)!==0,(e.subtreeFlags&13878)!==0||l){l=R.T,R.T=null,s=C.p,C.p=2,m=Ut,Ut|=4;try{rg(t,e,n)}finally{Ut=m,C.p=s,R.T=l}}oe=1,O1(),T1(),B1()}}function O1(){if(oe===1){oe=0;var t=aa,e=pl,n=(e.flags&13878)!==0;if((e.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var l=C.p;C.p=2;var s=Ut;Ut|=4;try{o1(e,t);var y=Ps,m=pd(t.containerInfo),x=y.focusedElem,T=y.selectionRange;if(m!==x&&x&&x.ownerDocument&&gd(x.ownerDocument.documentElement,x)){if(T!==null&&_c(x)){var L=T.start,q=T.end;if(q===void 0&&(q=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(q,x.value.length);else{var Z=x.ownerDocument||document,Y=Z&&Z.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),st=x.textContent.length,rt=Math.min(T.start,st),Nt=T.end===void 0?rt:Math.min(T.end,st);!X.extend&&rt>Nt&&(m=Nt,Nt=rt,rt=m);var z=yd(x,rt),N=yd(x,Nt);if(z&&N&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==N.node||X.focusOffset!==N.offset)){var H=Z.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),rt>Nt?(X.addRange(H),X.extend(N.node,N.offset)):(H.setEnd(N.node,N.offset),X.addRange(H))}}}}for(Z=[],X=x;X=X.parentNode;)X.nodeType===1&&Z.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<Z.length;x++){var F=Z[x];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ar=!!Is,Ps=Is=null}finally{Ut=s,C.p=l,R.T=n}}t.current=e,oe=2}}function T1(){if(oe===2){oe=0;var t=aa,e=pl,n=(e.flags&8772)!==0;if((e.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var l=C.p;C.p=2;var s=Ut;Ut|=4;try{u1(t,e.alternate,e)}finally{Ut=s,C.p=l,R.T=n}}oe=3}}function B1(){if(oe===4||oe===3){oe=0,Hy();var t=aa,e=pl,n=Dl,l=D1;(e.subtreeFlags&10256)!==0||(e.flags&10256)!==0?oe=5:(oe=0,pl=aa=null,M1(t,t.pendingLanes));var s=t.pendingLanes;if(s===0&&(na=null),ic(n),e=e.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(Rl,e,void 0,(e.current.flags&128)===128)}catch{}if(l!==null){e=R.T,s=C.p,C.p=2,R.T=null;try{for(var y=t.onRecoverableError,m=0;m<l.length;m++){var x=l[m];y(x.value,{componentStack:x.stack})}}finally{R.T=e,C.p=s}}(Dl&3)!==0&&Zu(),sn(t),s=t.pendingLanes,(n&4194090)!==0&&(s&42)!==0?t===Ls?pi++:(pi=0,Ls=t):pi=0,Di(0)}}function M1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Jl(e)))}function Zu(t){return O1(),T1(),B1(),R1()}function R1(){if(oe!==5)return!1;var t=aa,e=Cs;Cs=0;var n=ic(Dl),l=R.T,s=C.p;try{C.p=32>n?32:n,R.T=null,n=Hs,Hs=null;var y=aa,m=Dl;if(oe=0,pl=aa=null,Dl=0,(Ut&6)!==0)throw Error(f(331));var x=Ut;if(Ut|=4,g1(y.current),d1(y,y.current,m,n),Ut=x,Di(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(Rl,y)}catch{}return!0}finally{C.p=s,R.T=l,M1(t,e)}}function N1(t,e,n){e=qe(n,e),e=ps(t.stateNode,e,2),t=Kn(t,e,2),t!==null&&(kl(t,2),sn(t))}function kt(t,e,n){if(t.tag===3)N1(t,t,n);else for(;e!==null;){if(e.tag===3){N1(e,t,n);break}else if(e.tag===1){var l=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){t=qe(n,t),n=H0(2),l=Kn(e,n,2),l!==null&&(L0(n,l,e,t),kl(l,2),sn(l));break}}e=e.return}}function js(t,e,n){var l=t.pingCache;if(l===null){l=t.pingCache=new og;var s=new Set;l.set(e,s)}else s=l.get(e),s===void 0&&(s=new Set,l.set(e,s));s.has(n)||(Rs=!0,s.add(n),t=gg.bind(null,t,e,n),e.then(t,t))}function gg(t,e,n){var l=t.pingCache;l!==null&&l.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ct===t&&(At&n)===n&&(jt===4||jt===3&&(At&62914560)===At&&300>an()-zs?(Ut&2)===0&&Sl(t,0):Ns|=n,gl===At&&(gl=0)),sn(t)}function k1(t,e){e===0&&(e=Bf()),t=tl(t,e),t!==null&&(kl(t,e),sn(t))}function pg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k1(t,n)}function Dg(t,e){var n=0;switch(t.tag){case 13:var l=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(f(314))}l!==null&&l.delete(e),k1(t,n)}function Sg(t,e){return ec(t,e)}var Qu=null,ml=null,qs=!1,Ku=!1,Fs=!1,Na=0;function sn(t){t!==ml&&t.next===null&&(ml===null?Qu=ml=t:ml=ml.next=t),Ku=!0,qs||(qs=!0,mg())}function Di(t,e){if(!Fs&&Ku){Fs=!0;do for(var n=!1,l=Qu;l!==null;){if(t!==0){var s=l.pendingLanes;if(s===0)var y=0;else{var m=l.suspendedLanes,x=l.pingedLanes;y=(1<<31-Be(42|t)+1)-1,y&=s&~(m&~x),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(n=!0,L1(l,y))}else y=At,y=Pi(l,l===Ct?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||Nl(l,y)||(n=!0,L1(l,y));l=l.next}while(n);Fs=!1}}function Ag(){z1()}function z1(){Ku=qs=!1;var t=0;Na!==0&&(Og()&&(t=Na),Na=0);for(var e=an(),n=null,l=Qu;l!==null;){var s=l.next,y=C1(l,e);y===0?(l.next=null,n===null?Qu=s:n.next=s,s===null&&(ml=n)):(n=l,(t!==0||(y&3)!==0)&&(Ku=!0)),l=s}Di(t)}function C1(t,e){for(var n=t.suspendedLanes,l=t.pingedLanes,s=t.expirationTimes,y=t.pendingLanes&-62914561;0<y;){var m=31-Be(y),x=1<<m,T=s[m];T===-1?((x&n)===0||(x&l)!==0)&&(s[m]=Zy(x,e)):T<=e&&(t.expiredLanes|=x),y&=~x}if(e=Ct,n=At,n=Pi(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,n===0||t===e&&(Ot===2||Ot===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&nc(l),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||Nl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(l!==null&&nc(l),ic(n)){case 2:case 8:n=Uf;break;case 32:n=Ji;break;case 268435456:n=Of;break;default:n=Ji}return l=H1.bind(null,t),n=ec(n,l),t.callbackPriority=e,t.callbackNode=n,e}return l!==null&&l!==null&&nc(l),t.callbackPriority=2,t.callbackNode=null,2}function H1(t,e){if(oe!==0&&oe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Zu()&&t.callbackNode!==n)return null;var l=At;return l=Pi(t,t===Ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(A1(t,l,e),C1(t,an()),t.callbackNode!=null&&t.callbackNode===n?H1.bind(null,t):null)}function L1(t,e){if(Zu())return null;A1(t,e,!0)}function mg(){Bg(function(){(Ut&6)!==0?ec(_f,Ag):z1()})}function Zs(){return Na===0&&(Na=Tf()),Na}function G1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lu(""+t)}function Y1(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function vg(t,e,n,l,s){if(e==="submit"&&n&&n.stateNode===s){var y=G1((s[ve]||null).action),m=l.submitter;m&&(e=(e=m[ve]||null)?G1(e.formAction):m.getAttribute("formAction"),e!==null&&(y=e,m=null));var x=new cu("action","action",null,l,s);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Na!==0){var T=m?Y1(s,m):new FormData(s);fs(n,{pending:!0,data:T,method:s.method,action:y},null,T)}}else typeof y=="function"&&(x.preventDefault(),T=m?Y1(s,m):new FormData(s),fs(n,{pending:!0,data:T,method:s.method,action:y},y,T))},currentTarget:s}]})}}for(var Qs=0;Qs<Bc.length;Qs++){var Ks=Bc[Qs],bg=Ks.toLowerCase(),wg=Ks[0].toUpperCase()+Ks.slice(1);Ie(bg,"on"+wg)}Ie(Ad,"onAnimationEnd"),Ie(md,"onAnimationIteration"),Ie(vd,"onAnimationStart"),Ie("dblclick","onDoubleClick"),Ie("focusin","onFocus"),Ie("focusout","onBlur"),Ie(Y5,"onTransitionRun"),Ie(X5,"onTransitionStart"),Ie(j5,"onTransitionCancel"),Ie(bd,"onTransitionEnd"),Fa("onMouseEnter",["mouseout","mouseover"]),Fa("onMouseLeave",["mouseout","mouseover"]),Fa("onPointerEnter",["pointerout","pointerover"]),Fa("onPointerLeave",["pointerout","pointerover"]),Da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Da("onBeforeInput",["compositionend","keypress","textInput","paste"]),Da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Si));function X1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var l=t[n],s=l.event;l=l.listeners;t:{var y=void 0;if(e)for(var m=l.length-1;0<=m;m--){var x=l[m],T=x.instance,L=x.currentTarget;if(x=x.listener,T!==y&&s.isPropagationStopped())break t;y=x,s.currentTarget=L;try{y(s)}catch(q){ku(q)}s.currentTarget=null,y=T}else for(m=0;m<l.length;m++){if(x=l[m],T=x.instance,L=x.currentTarget,x=x.listener,T!==y&&s.isPropagationStopped())break t;y=x,s.currentTarget=L;try{y(s)}catch(q){ku(q)}s.currentTarget=null,y=T}}}}function pt(t,e){var n=e[uc];n===void 0&&(n=e[uc]=new Set);var l=t+"__bubble";n.has(l)||(j1(e,t,2,!1),n.add(l))}function Vs(t,e,n){var l=0;e&&(l|=4),j1(n,t,l,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ws(t){if(!t[Vu]){t[Vu]=!0,zf.forEach(function(n){n!=="selectionchange"&&(xg.has(n)||Vs(n,!1,t),Vs(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,Vs("selectionchange",!1,e))}}function j1(t,e,n,l){switch(dh(e)){case 2:var s=$g;break;case 8:s=Ig;break;default:s=so}n=s.bind(null,e,n,t),s=void 0,!Dc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),l?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Js(t,e,n,l,s){var y=l;if((e&1)===0&&(e&2)===0&&l!==null)t:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var x=l.stateNode.containerInfo;if(x===s)break;if(m===4)for(m=l.return;m!==null;){var T=m.tag;if((T===3||T===4)&&m.stateNode.containerInfo===s)return;m=m.return}for(;x!==null;){if(m=Xa(x),m===null)return;if(T=m.tag,T===5||T===6||T===26||T===27){l=y=m;continue t}x=x.parentNode}}l=l.return}Wf(function(){var L=y,q=gc(n),Z=[];t:{var Y=wd.get(t);if(Y!==void 0){var X=cu,st=t;switch(t){case"keypress":if(uu(n)===0)break t;case"keydown":case"keyup":X=S5;break;case"focusin":st="focus",X=vc;break;case"focusout":st="blur",X=vc;break;case"beforeblur":case"afterblur":X=vc;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=u5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v5;break;case Ad:case md:case vd:X=s5;break;case bd:X=w5;break;case"scroll":case"scrollend":X=l5;break;case"wheel":X=E5;break;case"copy":case"cut":case"paste":X=f5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=td;break;case"toggle":case"beforetoggle":X=U5}var rt=(e&4)!==0,Nt=!rt&&(t==="scroll"||t==="scrollend"),z=rt?Y!==null?Y+"Capture":null:Y;rt=[];for(var N=L,H;N!==null;){var F=N;if(H=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||H===null||z===null||(F=Hl(N,z),F!=null&&rt.push(Ai(N,F,H))),Nt)break;N=N.return}0<rt.length&&(Y=new X(Y,st,null,n,q),Z.push({event:Y,listeners:rt}))}}if((e&7)===0){t:{if(Y=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Y&&n!==yc&&(st=n.relatedTarget||n.fromElement)&&(Xa(st)||st[Ya]))break t;if((X||Y)&&(Y=q.window===q?q:(Y=q.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(st=n.relatedTarget||n.toElement,X=L,st=st?Xa(st):null,st!==null&&(Nt=u(st),rt=st.tag,st!==Nt||rt!==5&&rt!==27&&rt!==6)&&(st=null)):(X=null,st=L),X!==st)){if(rt=If,F="onMouseLeave",z="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(rt=td,F="onPointerLeave",z="onPointerEnter",N="pointer"),Nt=X==null?Y:Cl(X),H=st==null?Y:Cl(st),Y=new rt(F,N+"leave",X,n,q),Y.target=Nt,Y.relatedTarget=H,F=null,Xa(q)===L&&(rt=new rt(z,N+"enter",st,n,q),rt.target=H,rt.relatedTarget=Nt,F=rt),Nt=F,X&&st)e:{for(rt=X,z=st,N=0,H=rt;H;H=vl(H))N++;for(H=0,F=z;F;F=vl(F))H++;for(;0<N-H;)rt=vl(rt),N--;for(;0<H-N;)z=vl(z),H--;for(;N--;){if(rt===z||z!==null&&rt===z.alternate)break e;rt=vl(rt),z=vl(z)}rt=null}else rt=null;X!==null&&q1(Z,Y,X,rt,!1),st!==null&&Nt!==null&&q1(Z,Nt,st,rt,!0)}}t:{if(Y=L?Cl(L):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var nt=cd;else if(ud(Y))if(sd)nt=H5;else{nt=z5;var yt=k5}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?L&&hc(L.elementType)&&(nt=cd):nt=C5;if(nt&&(nt=nt(t,L))){rd(Z,nt,n,q);break t}yt&&yt(t,Y,L),t==="focusout"&&L&&Y.type==="number"&&L.memoizedProps.value!=null&&dc(Y,"number",Y.value)}switch(yt=L?Cl(L):window,t){case"focusin":(ud(yt)||yt.contentEditable==="true")&&($a=yt,Uc=L,Zl=null);break;case"focusout":Zl=Uc=$a=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Dd(Z,n,q);break;case"selectionchange":if(G5)break;case"keydown":case"keyup":Dd(Z,n,q)}var it;if(wc)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Ja?ld(t,n)&&(ct="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(ct="onCompositionStart");ct&&(ed&&n.locale!=="ko"&&(Ja||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Ja&&(it=Jf()):(qn=q,Sc="value"in qn?qn.value:qn.textContent,Ja=!0)),yt=Wu(L,ct),0<yt.length&&(ct=new Pf(ct,t,null,n,q),Z.push({event:ct,listeners:yt}),it?ct.data=it:(it=id(n),it!==null&&(ct.data=it)))),(it=T5?B5(t,n):M5(t,n))&&(ct=Wu(L,"onBeforeInput"),0<ct.length&&(yt=new Pf("onBeforeInput","beforeinput",null,n,q),Z.push({event:yt,listeners:ct}),yt.data=it)),vg(Z,t,L,n,q)}X1(Z,e)})}function Ai(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wu(t,e){for(var n=e+"Capture",l=[];t!==null;){var s=t,y=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||y===null||(s=Hl(t,n),s!=null&&l.unshift(Ai(t,s,y)),s=Hl(t,e),s!=null&&l.push(Ai(t,s,y))),t.tag===3)return l;t=t.return}return[]}function vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q1(t,e,n,l,s){for(var y=e._reactName,m=[];n!==null&&n!==l;){var x=n,T=x.alternate,L=x.stateNode;if(x=x.tag,T!==null&&T===l)break;x!==5&&x!==26&&x!==27||L===null||(T=L,s?(L=Hl(n,y),L!=null&&m.unshift(Ai(n,L,T))):s||(L=Hl(n,y),L!=null&&m.push(Ai(n,L,T)))),n=n.return}m.length!==0&&t.push({event:e,listeners:m})}var Eg=/\r\n?/g,_g=/\u0000|\uFFFD/g;function F1(t){return(typeof t=="string"?t:""+t).replace(Eg,`
`).replace(_g,"")}function Z1(t,e){return e=F1(e),F1(t)===e}function Ju(){}function Rt(t,e,n,l,s,y){switch(n){case"children":typeof l=="string"?e==="body"||e==="textarea"&&l===""||Ka(t,l):(typeof l=="number"||typeof l=="bigint")&&e!=="body"&&Ka(t,""+l);break;case"className":eu(t,"class",l);break;case"tabIndex":eu(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":eu(t,n,l);break;case"style":Kf(t,l,y);break;case"data":if(e!=="object"){eu(t,"data",l);break}case"src":case"href":if(l===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(n);break}l=lu(""+l),t.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(n==="formAction"?(e!=="input"&&Rt(t,e,"name",s.name,s,null),Rt(t,e,"formEncType",s.formEncType,s,null),Rt(t,e,"formMethod",s.formMethod,s,null),Rt(t,e,"formTarget",s.formTarget,s,null)):(Rt(t,e,"encType",s.encType,s,null),Rt(t,e,"method",s.method,s,null),Rt(t,e,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(n);break}l=lu(""+l),t.setAttribute(n,l);break;case"onClick":l!=null&&(t.onclick=Ju);break;case"onScroll":l!=null&&pt("scroll",t);break;case"onScrollEnd":l!=null&&pt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(f(61));if(n=l.__html,n!=null){if(s.children!=null)throw Error(f(60));t.innerHTML=n}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}n=lu(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(n,""+l):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":l===!0?t.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(n,l):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(n,l):t.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(n):t.setAttribute(n,l);break;case"popover":pt("beforetoggle",t),pt("toggle",t),tu(t,"popover",l);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":tu(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=n5.get(n)||n,tu(t,n,l))}}function $s(t,e,n,l,s,y){switch(n){case"style":Kf(t,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(f(61));if(n=l.__html,n!=null){if(s.children!=null)throw Error(f(60));t.innerHTML=n}}break;case"children":typeof l=="string"?Ka(t,l):(typeof l=="number"||typeof l=="bigint")&&Ka(t,""+l);break;case"onScroll":l!=null&&pt("scroll",t);break;case"onScrollEnd":l!=null&&pt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cf.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),e=n.slice(2,s?n.length-7:void 0),y=t[ve]||null,y=y!=null?y[n]:null,typeof y=="function"&&t.removeEventListener(e,y,s),typeof l=="function")){typeof y!="function"&&y!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,l,s);break t}n in t?t[n]=l:l===!0?t.setAttribute(n,""):tu(t,n,l)}}}function fe(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",t),pt("load",t);var l=!1,s=!1,y;for(y in n)if(n.hasOwnProperty(y)){var m=n[y];if(m!=null)switch(y){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:Rt(t,e,y,m,n,null)}}s&&Rt(t,e,"srcSet",n.srcSet,n,null),l&&Rt(t,e,"src",n.src,n,null);return;case"input":pt("invalid",t);var x=y=m=s=null,T=null,L=null;for(l in n)if(n.hasOwnProperty(l)){var q=n[l];if(q!=null)switch(l){case"name":s=q;break;case"type":m=q;break;case"checked":T=q;break;case"defaultChecked":L=q;break;case"value":y=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(f(137,e));break;default:Rt(t,e,l,q,n,null)}}qf(t,y,x,T,L,m,s,!1),nu(t);return;case"select":pt("invalid",t),l=m=y=null;for(s in n)if(n.hasOwnProperty(s)&&(x=n[s],x!=null))switch(s){case"value":y=x;break;case"defaultValue":m=x;break;case"multiple":l=x;default:Rt(t,e,s,x,n,null)}e=y,n=m,t.multiple=!!l,e!=null?Qa(t,!!l,e,!1):n!=null&&Qa(t,!!l,n,!0);return;case"textarea":pt("invalid",t),y=s=l=null;for(m in n)if(n.hasOwnProperty(m)&&(x=n[m],x!=null))switch(m){case"value":l=x;break;case"defaultValue":s=x;break;case"children":y=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(f(91));break;default:Rt(t,e,m,x,n,null)}Zf(t,l,s,y),nu(t);return;case"option":for(T in n)if(n.hasOwnProperty(T)&&(l=n[T],l!=null))switch(T){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Rt(t,e,T,l,n,null)}return;case"dialog":pt("beforetoggle",t),pt("toggle",t),pt("cancel",t),pt("close",t);break;case"iframe":case"object":pt("load",t);break;case"video":case"audio":for(l=0;l<Si.length;l++)pt(Si[l],t);break;case"image":pt("error",t),pt("load",t);break;case"details":pt("toggle",t);break;case"embed":case"source":case"link":pt("error",t),pt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in n)if(n.hasOwnProperty(L)&&(l=n[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,e));default:Rt(t,e,L,l,n,null)}return;default:if(hc(e)){for(q in n)n.hasOwnProperty(q)&&(l=n[q],l!==void 0&&$s(t,e,q,l,n,void 0));return}}for(x in n)n.hasOwnProperty(x)&&(l=n[x],l!=null&&Rt(t,e,x,l,n,null))}function Ug(t,e,n,l){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,y=null,m=null,x=null,T=null,L=null,q=null;for(X in n){var Z=n[X];if(n.hasOwnProperty(X)&&Z!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":T=Z;default:l.hasOwnProperty(X)||Rt(t,e,X,null,l,Z)}}for(var Y in l){var X=l[Y];if(Z=n[Y],l.hasOwnProperty(Y)&&(X!=null||Z!=null))switch(Y){case"type":y=X;break;case"name":s=X;break;case"checked":L=X;break;case"defaultChecked":q=X;break;case"value":m=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(f(137,e));break;default:X!==Z&&Rt(t,e,Y,X,l,Z)}}fc(t,m,x,T,L,q,y,s);return;case"select":X=m=x=Y=null;for(y in n)if(T=n[y],n.hasOwnProperty(y)&&T!=null)switch(y){case"value":break;case"multiple":X=T;default:l.hasOwnProperty(y)||Rt(t,e,y,null,l,T)}for(s in l)if(y=l[s],T=n[s],l.hasOwnProperty(s)&&(y!=null||T!=null))switch(s){case"value":Y=y;break;case"defaultValue":x=y;break;case"multiple":m=y;default:y!==T&&Rt(t,e,s,y,l,T)}e=x,n=m,l=X,Y!=null?Qa(t,!!n,Y,!1):!!l!=!!n&&(e!=null?Qa(t,!!n,e,!0):Qa(t,!!n,n?[]:"",!1));return;case"textarea":X=Y=null;for(x in n)if(s=n[x],n.hasOwnProperty(x)&&s!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Rt(t,e,x,null,l,s)}for(m in l)if(s=l[m],y=n[m],l.hasOwnProperty(m)&&(s!=null||y!=null))switch(m){case"value":Y=s;break;case"defaultValue":X=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(f(91));break;default:s!==y&&Rt(t,e,m,s,l,y)}Ff(t,Y,X);return;case"option":for(var st in n)if(Y=n[st],n.hasOwnProperty(st)&&Y!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Rt(t,e,st,null,l,Y)}for(T in l)if(Y=l[T],X=n[T],l.hasOwnProperty(T)&&Y!==X&&(Y!=null||X!=null))switch(T){case"selected":t.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Rt(t,e,T,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var rt in n)Y=n[rt],n.hasOwnProperty(rt)&&Y!=null&&!l.hasOwnProperty(rt)&&Rt(t,e,rt,null,l,Y);for(L in l)if(Y=l[L],X=n[L],l.hasOwnProperty(L)&&Y!==X&&(Y!=null||X!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(f(137,e));break;default:Rt(t,e,L,Y,l,X)}return;default:if(hc(e)){for(var Nt in n)Y=n[Nt],n.hasOwnProperty(Nt)&&Y!==void 0&&!l.hasOwnProperty(Nt)&&$s(t,e,Nt,void 0,l,Y);for(q in l)Y=l[q],X=n[q],!l.hasOwnProperty(q)||Y===X||Y===void 0&&X===void 0||$s(t,e,q,Y,l,X);return}}for(var z in n)Y=n[z],n.hasOwnProperty(z)&&Y!=null&&!l.hasOwnProperty(z)&&Rt(t,e,z,null,l,Y);for(Z in l)Y=l[Z],X=n[Z],!l.hasOwnProperty(Z)||Y===X||Y==null&&X==null||Rt(t,e,Z,Y,l,X)}var Is=null,Ps=null;function $u(t){return t.nodeType===9?t:t.ownerDocument}function Q1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function to(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eo=null;function Og(){var t=window.event;return t&&t.type==="popstate"?t===eo?!1:(eo=t,!0):(eo=null,!1)}var V1=typeof setTimeout=="function"?setTimeout:void 0,Tg=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,Bg=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(t){return W1.resolve(null).then(t).catch(Mg)}:V1;function Mg(t){setTimeout(function(){throw t})}function ia(t){return t==="head"}function J1(t,e){var n=e,l=0,s=0;do{var y=n.nextSibling;if(t.removeChild(n),y&&y.nodeType===8)if(n=y.data,n==="/$"){if(0<l&&8>l){n=l;var m=t.ownerDocument;if(n&1&&mi(m.documentElement),n&2&&mi(m.body),n&4)for(n=m.head,mi(n),m=n.firstChild;m;){var x=m.nextSibling,T=m.nodeName;m[zl]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&m.rel.toLowerCase()==="stylesheet"||n.removeChild(m),m=x}}if(s===0){t.removeChild(y),Oi(e);return}s--}else n==="$"||n==="$?"||n==="$!"?s++:l=n.charCodeAt(0)-48;else l=0;n=y}while(n);Oi(e)}function no(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":no(n),rc(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function Rg(t,e,n,l){for(;t.nodeType===1;){var s=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(y=t.getAttribute("rel"),y==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(y!==s.rel||t.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||t.getAttribute("title")!==(s.title==null?null:s.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(y=t.getAttribute("src"),(y!==(s.src==null?null:s.src)||t.getAttribute("type")!==(s.type==null?null:s.type)||t.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&y&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var y=s.name==null?null:""+s.name;if(s.type==="hidden"&&t.getAttribute("name")===y)return t}else return t;if(t=tn(t.nextSibling),t===null)break}return null}function Ng(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=tn(t.nextSibling),t===null))return null;return t}function ao(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function kg(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var l=function(){e(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var lo=null;function $1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function I1(t,e,n){switch(e=$u(n),t){case"html":if(t=e.documentElement,!t)throw Error(f(452));return t;case"head":if(t=e.head,!t)throw Error(f(453));return t;case"body":if(t=e.body,!t)throw Error(f(454));return t;default:throw Error(f(451))}}function mi(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);rc(t)}var We=new Map,P1=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var zn=C.d;C.d={f:zg,r:Cg,D:Hg,C:Lg,L:Gg,m:Yg,X:jg,S:Xg,M:qg};function zg(){var t=zn.f(),e=qu();return t||e}function Cg(t){var e=ja(t);e!==null&&e.tag===5&&e.type==="form"?A0(e):zn.r(t)}var bl=typeof document>"u"?null:document;function th(t,e,n){var l=bl;if(l&&typeof e=="string"&&e){var s=je(e);s='link[rel="'+t+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),P1.has(s)||(P1.add(s),t={rel:t,crossOrigin:n,href:e},l.querySelector(s)===null&&(e=l.createElement("link"),fe(e,"link",t),ne(e),l.head.appendChild(e)))}}function Hg(t){zn.D(t),th("dns-prefetch",t,null)}function Lg(t,e){zn.C(t,e),th("preconnect",t,e)}function Gg(t,e,n){zn.L(t,e,n);var l=bl;if(l&&t&&e){var s='link[rel="preload"][as="'+je(e)+'"]';e==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+je(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+je(n.imageSizes)+'"]')):s+='[href="'+je(t)+'"]';var y=s;switch(e){case"style":y=wl(t);break;case"script":y=xl(t)}We.has(y)||(t=S({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),We.set(y,t),l.querySelector(s)!==null||e==="style"&&l.querySelector(vi(y))||e==="script"&&l.querySelector(bi(y))||(e=l.createElement("link"),fe(e,"link",t),ne(e),l.head.appendChild(e)))}}function Yg(t,e){zn.m(t,e);var n=bl;if(n&&t){var l=e&&typeof e.as=="string"?e.as:"script",s='link[rel="modulepreload"][as="'+je(l)+'"][href="'+je(t)+'"]',y=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=xl(t)}if(!We.has(y)&&(t=S({rel:"modulepreload",href:t},e),We.set(y,t),n.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bi(y)))return}l=n.createElement("link"),fe(l,"link",t),ne(l),n.head.appendChild(l)}}}function Xg(t,e,n){zn.S(t,e,n);var l=bl;if(l&&t){var s=qa(l).hoistableStyles,y=wl(t);e=e||"default";var m=s.get(y);if(!m){var x={loading:0,preload:null};if(m=l.querySelector(vi(y)))x.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":e},n),(n=We.get(y))&&io(t,n);var T=m=l.createElement("link");ne(T),fe(T,"link",t),T._p=new Promise(function(L,q){T.onload=L,T.onerror=q}),T.addEventListener("load",function(){x.loading|=1}),T.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Pu(m,e,l)}m={type:"stylesheet",instance:m,count:1,state:x},s.set(y,m)}}}function jg(t,e){zn.X(t,e);var n=bl;if(n&&t){var l=qa(n).hoistableScripts,s=xl(t),y=l.get(s);y||(y=n.querySelector(bi(s)),y||(t=S({src:t,async:!0},e),(e=We.get(s))&&uo(t,e),y=n.createElement("script"),ne(y),fe(y,"link",t),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(s,y))}}function qg(t,e){zn.M(t,e);var n=bl;if(n&&t){var l=qa(n).hoistableScripts,s=xl(t),y=l.get(s);y||(y=n.querySelector(bi(s)),y||(t=S({src:t,async:!0,type:"module"},e),(e=We.get(s))&&uo(t,e),y=n.createElement("script"),ne(y),fe(y,"link",t),n.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(s,y))}}function eh(t,e,n,l){var s=(s=ot.current)?Iu(s):null;if(!s)throw Error(f(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=wl(n.href),n=qa(s).hoistableStyles,l=n.get(e),l||(l={type:"style",instance:null,count:0,state:null},n.set(e,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=wl(n.href);var y=qa(s).hoistableStyles,m=y.get(t);if(m||(s=s.ownerDocument||s,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(t,m),(y=s.querySelector(vi(t)))&&!y._p&&(m.instance=y,m.state.loading=5),We.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},We.set(t,n),y||Fg(s,t,n,m.state))),e&&l===null)throw Error(f(528,""));return m}if(e&&l!==null)throw Error(f(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=xl(n),n=qa(s).hoistableScripts,l=n.get(e),l||(l={type:"script",instance:null,count:0,state:null},n.set(e,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,t))}}function wl(t){return'href="'+je(t)+'"'}function vi(t){return'link[rel="stylesheet"]['+t+"]"}function nh(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function Fg(t,e,n,l){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?l.loading=1:(e=t.createElement("link"),l.preload=e,e.addEventListener("load",function(){return l.loading|=1}),e.addEventListener("error",function(){return l.loading|=2}),fe(e,"link",n),ne(e),t.head.appendChild(e))}function xl(t){return'[src="'+je(t)+'"]'}function bi(t){return"script[async]"+t}function ah(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var l=t.querySelector('style[data-href~="'+je(n.href)+'"]');if(l)return e.instance=l,ne(l),l;var s=S({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ne(l),fe(l,"style",s),Pu(l,n.precedence,t),e.instance=l;case"stylesheet":s=wl(n.href);var y=t.querySelector(vi(s));if(y)return e.state.loading|=4,e.instance=y,ne(y),y;l=nh(n),(s=We.get(s))&&io(l,s),y=(t.ownerDocument||t).createElement("link"),ne(y);var m=y;return m._p=new Promise(function(x,T){m.onload=x,m.onerror=T}),fe(y,"link",l),e.state.loading|=4,Pu(y,n.precedence,t),e.instance=y;case"script":return y=xl(n.src),(s=t.querySelector(bi(y)))?(e.instance=s,ne(s),s):(l=n,(s=We.get(y))&&(l=S({},n),uo(l,s)),t=t.ownerDocument||t,s=t.createElement("script"),ne(s),fe(s,"link",l),t.head.appendChild(s),e.instance=s);case"void":return null;default:throw Error(f(443,e.type))}else e.type==="stylesheet"&&(e.state.loading&4)===0&&(l=e.instance,e.state.loading|=4,Pu(l,n.precedence,t));return e.instance}function Pu(t,e,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,y=s,m=0;m<l.length;m++){var x=l[m];if(x.dataset.precedence===e)y=x;else if(y!==s)break}y?y.parentNode.insertBefore(t,y.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function io(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function uo(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var tr=null;function lh(t,e,n){if(tr===null){var l=new Map,s=tr=new Map;s.set(n,l)}else s=tr,l=s.get(n),l||(l=new Map,s.set(n,l));if(l.has(t))return l;for(l.set(t,null),n=n.getElementsByTagName(t),s=0;s<n.length;s++){var y=n[s];if(!(y[zl]||y[pe]||t==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var m=y.getAttribute(e)||"";m=t+m;var x=l.get(m);x?x.push(y):l.set(m,[y])}}return l}function ih(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Zg(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function uh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wi=null;function Qg(){}function Kg(t,e,n){if(wi===null)throw Error(f(475));var l=wi;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(e.state.loading&4)===0){if(e.instance===null){var s=wl(n.href),y=t.querySelector(vi(s));if(y){t=y._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=er.bind(l),t.then(l,l)),e.state.loading|=4,e.instance=y,ne(y);return}y=t.ownerDocument||t,n=nh(n),(s=We.get(s))&&io(n,s),y=y.createElement("link"),ne(y);var m=y;m._p=new Promise(function(x,T){m.onload=x,m.onerror=T}),fe(y,"link",n),e.instance=y}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(e,t),(t=e.state.preload)&&(e.state.loading&3)===0&&(l.count++,e=er.bind(l),t.addEventListener("load",e),t.addEventListener("error",e))}}function Vg(){if(wi===null)throw Error(f(475));var t=wi;return t.stylesheets&&t.count===0&&ro(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&ro(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function er(){if(this.count--,this.count===0){if(this.stylesheets)ro(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nr=null;function ro(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nr=new Map,e.forEach(Wg,t),nr=null,er.call(t))}function Wg(t,e){if(!(e.state.loading&4)){var n=nr.get(t);if(n)var l=n.get(null);else{n=new Map,nr.set(t,n);for(var s=t.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<s.length;y++){var m=s[y];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),l=m)}l&&n.set(null,l)}s=e.instance,m=s.getAttribute("data-precedence"),y=n.get(m)||l,y===l&&n.set(null,s),n.set(m,s),this.count++,l=er.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),y?y.parentNode.insertBefore(s,y.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(s,t.firstChild)),e.state.loading|=4}}var xi={$$typeof:M,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Jg(t,e,n,l,s,y,m,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ac(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.hiddenUpdates=ac(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=y,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function rh(t,e,n,l,s,y,m,x,T,L,q,Z){return t=new Jg(t,e,n,m,x,T,L,Z),e=1,y===!0&&(e|=24),y=Re(3,null,null,e),t.current=y,y.stateNode=t,e=jc(),e.refCount++,t.pooledCache=e,e.refCount++,y.memoizedState={element:l,isDehydrated:n,cache:e},Qc(y),t}function ch(t){return t?(t=el,t):el}function sh(t,e,n,l,s,y){s=ch(s),l.context===null?l.context=s:l.pendingContext=s,l=Qn(e),l.payload={element:n},y=y===void 0?null:y,y!==null&&(l.callback=y),n=Kn(t,l,e),n!==null&&(He(n,t,e),ti(n,t,e))}function oh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function co(t,e){oh(t,e),(t=t.alternate)&&oh(t,e)}function fh(t){if(t.tag===13){var e=tl(t,67108864);e!==null&&He(e,t,67108864),co(t,67108864)}}var ar=!0;function $g(t,e,n,l){var s=R.T;R.T=null;var y=C.p;try{C.p=2,so(t,e,n,l)}finally{C.p=y,R.T=s}}function Ig(t,e,n,l){var s=R.T;R.T=null;var y=C.p;try{C.p=8,so(t,e,n,l)}finally{C.p=y,R.T=s}}function so(t,e,n,l){if(ar){var s=oo(l);if(s===null)Js(t,e,l,lr,n),hh(t,l);else if(t4(s,t,e,n,l))l.stopPropagation();else if(hh(t,l),e&4&&-1<Pg.indexOf(t)){for(;s!==null;){var y=ja(s);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var m=pa(y.pendingLanes);if(m!==0){var x=y;for(x.pendingLanes|=2,x.entangledLanes|=2;m;){var T=1<<31-Be(m);x.entanglements[1]|=T,m&=~T}sn(y),(Ut&6)===0&&(Xu=an()+500,Di(0))}}break;case 13:x=tl(y,2),x!==null&&He(x,y,2),qu(),co(y,2)}if(y=oo(l),y===null&&Js(t,e,l,lr,n),y===s)break;s=y}s!==null&&l.stopPropagation()}else Js(t,e,l,null,n)}}function oo(t){return t=gc(t),fo(t)}var lr=null;function fo(t){if(lr=null,t=Xa(t),t!==null){var e=u(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=c(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return lr=t,null}function dh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ly()){case _f:return 2;case Uf:return 8;case Ji:case Gy:return 32;case Of:return 268435456;default:return 32}default:return 32}}var ho=!1,ua=null,ra=null,ca=null,Ei=new Map,_i=new Map,sa=[],Pg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hh(t,e){switch(t){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Ei.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(e.pointerId)}}function Ui(t,e,n,l,s,y){return t===null||t.nativeEvent!==y?(t={blockedOn:e,domEventName:n,eventSystemFlags:l,nativeEvent:y,targetContainers:[s]},e!==null&&(e=ja(e),e!==null&&fh(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function t4(t,e,n,l,s){switch(e){case"focusin":return ua=Ui(ua,t,e,n,l,s),!0;case"dragenter":return ra=Ui(ra,t,e,n,l,s),!0;case"mouseover":return ca=Ui(ca,t,e,n,l,s),!0;case"pointerover":var y=s.pointerId;return Ei.set(y,Ui(Ei.get(y)||null,t,e,n,l,s)),!0;case"gotpointercapture":return y=s.pointerId,_i.set(y,Ui(_i.get(y)||null,t,e,n,l,s)),!0}return!1}function yh(t){var e=Xa(t.target);if(e!==null){var n=u(e);if(n!==null){if(e=n.tag,e===13){if(e=c(n),e!==null){t.blockedOn=e,Ky(t.priority,function(){if(n.tag===13){var l=Ce();l=lc(l);var s=tl(n,l);s!==null&&He(s,n,l),co(n,l)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ir(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=oo(t.nativeEvent);if(n===null){n=t.nativeEvent;var l=new n.constructor(n.type,n);yc=l,n.target.dispatchEvent(l),yc=null}else return e=ja(n),e!==null&&fh(e),t.blockedOn=n,!1;e.shift()}return!0}function gh(t,e,n){ir(t)&&n.delete(e)}function e4(){ho=!1,ua!==null&&ir(ua)&&(ua=null),ra!==null&&ir(ra)&&(ra=null),ca!==null&&ir(ca)&&(ca=null),Ei.forEach(gh),_i.forEach(gh)}function ur(t,e){t.blockedOn===e&&(t.blockedOn=null,ho||(ho=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,e4)))}var rr=null;function ph(t){rr!==t&&(rr=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){rr===t&&(rr=null);for(var e=0;e<t.length;e+=3){var n=t[e],l=t[e+1],s=t[e+2];if(typeof l!="function"){if(fo(l||n)===null)continue;break}var y=ja(n);y!==null&&(t.splice(e,3),e-=3,fs(y,{pending:!0,data:s,method:n.method,action:l},l,s))}}))}function Oi(t){function e(T){return ur(T,t)}ua!==null&&ur(ua,t),ra!==null&&ur(ra,t),ca!==null&&ur(ca,t),Ei.forEach(e),_i.forEach(e);for(var n=0;n<sa.length;n++){var l=sa[n];l.blockedOn===t&&(l.blockedOn=null)}for(;0<sa.length&&(n=sa[0],n.blockedOn===null);)yh(n),n.blockedOn===null&&sa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var s=n[l],y=n[l+1],m=s[ve]||null;if(typeof y=="function")m||ph(n);else if(m){var x=null;if(y&&y.hasAttribute("formAction")){if(s=y,m=y[ve]||null)x=m.formAction;else if(fo(s)!==null)continue}else x=m.action;typeof x=="function"?n[l+1]=x:(n.splice(l,3),l-=3),ph(n)}}}function yo(t){this._internalRoot=t}cr.prototype.render=yo.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(f(409));var n=e.current,l=Ce();sh(n,l,t,e,null,null)},cr.prototype.unmount=yo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sh(t.current,2,null,t,null,null),qu(),e[Ya]=null}};function cr(t){this._internalRoot=t}cr.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sa.length&&e!==0&&e<sa[n].priority;n++);sa.splice(n,0,t),n===0&&yh(t)}};var Dh=i.version;if(Dh!=="19.1.0")throw Error(f(527,Dh,"19.1.0"));C.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(f(188)):(t=Object.keys(t).join(","),Error(f(268,t)));return t=h(e),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var n4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sr.isDisabled&&sr.supportsFiber)try{Rl=sr.inject(n4),Te=sr}catch{}}return Ti.createRoot=function(t,e){if(!d(t))throw Error(f(299));var n=!1,l="",s=N0,y=k0,m=z0,x=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(l=e.identifierPrefix),e.onUncaughtError!==void 0&&(s=e.onUncaughtError),e.onCaughtError!==void 0&&(y=e.onCaughtError),e.onRecoverableError!==void 0&&(m=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(x=e.unstable_transitionCallbacks)),e=rh(t,1,!1,null,null,n,l,s,y,m,x,null),t[Ya]=e.current,Ws(t),new yo(e)},Ti.hydrateRoot=function(t,e,n){if(!d(t))throw Error(f(299));var l=!1,s="",y=N0,m=k0,x=z0,T=null,L=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(y=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(x=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks),n.formState!==void 0&&(L=n.formState)),e=rh(t,1,!0,e,n??null,l,s,y,m,x,T,L),e.context=ch(null),n=e.current,l=Ce(),l=lc(l),s=Qn(l),s.callback=null,Kn(n,s,l),n=l,e.current.lanes=n,kl(e,n),sn(e),t[Ya]=e.current,Ws(t),new cr(e)},Ti.version="19.1.0",Ti}var Eh;function d4(){if(Eh)return po.exports;Eh=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),po.exports=f4(),po.exports}var h4=d4(),mo={exports:{}},Bi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h;function y4(){if(_h)return Bi;_h=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function r(f,d,u){var c=null;if(u!==void 0&&(c=""+u),d.key!==void 0&&(c=""+d.key),"key"in d){u={};for(var o in d)o!=="key"&&(u[o]=d[o])}else u=d;return d=u.ref,{$$typeof:a,type:f,key:c,ref:d!==void 0?d:null,props:u}}return Bi.Fragment=i,Bi.jsx=r,Bi.jsxs=r,Bi}var Uh;function g4(){return Uh||(Uh=1,mo.exports=y4()),mo.exports}var El=g4();const q2=(a,i)=>{const r=Math.ceil(a/8);return{data:new Uint8Array(r*i),width:a,height:i,rowBytes:r}},_t=a=>({data:new Uint8Array(a.data),width:a.width,height:a.height,rowBytes:a.rowBytes}),p4=a=>{a.data.fill(0)},D4=({renderer:a,width:i=512,height:r=342,scale:f=2,fps:d=20,totalLevels:u=30,onLevelSelect:c})=>{const[o,h]=ya.useState("1"),g=ya.useRef(null),S=ya.useRef(0),D=ya.useRef(0),p=1e3/d,b=ya.useRef(new Set),w=ya.useRef(0);ya.useEffect(()=>{const A=g.current;if(!A)return;const _=A.getContext("2d");if(!_)return;_.imageSmoothingEnabled=!1;const v=q2(i,r),M=G=>{b.current.add(G.code),(G.code==="Space"||G.code==="KeyZ"||G.code==="KeyX"||G.code==="Period"||G.code==="Slash")&&G.preventDefault()},U=G=>{b.current.delete(G.code)};window.addEventListener("keydown",M),window.addEventListener("keyup",U);const k=G=>{const Q=G-D.current;if(Q>=p){p4(v),a(v,{keysDown:b.current,keysPressed:new Set,keysReleased:new Set,frameCount:w.current,deltaTime:Q,totalTime:G,targetDelta:p},{width:i,height:r,fps:d});const W=document.createElement("canvas");W.width=v.width,W.height=v.height;const J=W.getContext("2d"),B=new ImageData(v.width,v.height),ut=B.data;for(let Dt=0;Dt<v.height;Dt++)for(let ee=0;ee<v.width;ee++){const ye=Dt*v.rowBytes+Math.floor(ee/8),bt=128>>ee%8,R=(v.data[ye]&bt)!==0,C=(Dt*v.width+ee)*4,K=R?0:255;ut[C]=K,ut[C+1]=K,ut[C+2]=K,ut[C+3]=255}J.putImageData(B,0,0),_.imageSmoothingEnabled=!1,_.drawImage(W,0,0,v.width*f,v.height*f),D.current=G,w.current++}S.current=requestAnimationFrame(k)};return S.current=requestAnimationFrame(k),()=>{S.current&&cancelAnimationFrame(S.current),window.removeEventListener("keydown",M),window.removeEventListener("keyup",U)}},[a,i,r,f,d,p]);const E=A=>{const _=A.target.value;h(_),c&&c(parseInt(_,10))};return El.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px",alignItems:"center"},children:[c&&El.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",padding:"10px",backgroundColor:"#222",borderRadius:"5px"},children:[El.jsx("label",{style:{color:"white",fontFamily:"monospace"},children:"Jump to Level:"}),El.jsx("select",{value:o,onChange:E,style:{padding:"5px",fontFamily:"monospace",backgroundColor:"#333",color:"white",border:"1px solid #666",borderRadius:"3px"},children:Array.from({length:u},(A,_)=>_+1).map(A=>El.jsxs("option",{value:A,children:["Level ",A]},A))})]}),El.jsx("canvas",{ref:g,width:i*f,height:r*f,style:{imageRendering:"pixelated",WebkitImageRendering:"pixelated",MozImageRendering:"crisp-edges",border:"2px solid #666",display:"block"}})]})},S4=(a,i,r)=>{let f=[];for(;f.length<r&&i<a.length;){let d=a[i];if(i++,d!==void 0&&d<128){let u=d+1,c=Math.min(i+u,a.length);for(let o=i;o<c;o++){const h=a[o];h!==void 0&&f.push(h)}i+=u}else if(d!==void 0&&d>128){let u=257-d;if(i<a.length){const c=a[i];if(c!==void 0)for(let o=0;o<u;o++)f.push(c);i++}else break}}for(;f.length<r;)f.push(0);return{bytePtr:i,unpackedArray:new Uint8Array(f)}};function F2(a,i=342){const r=i,f=new Uint8Array(a),d=new Uint8Array(r*64);let u=0;for(let c=0;c<r;c++){const o=S4(f,u,72);u=o.bytePtr;const h=c*64;for(let g=0;g<64;g++){const S=o.unpackedArray[g];S!==void 0&&(d[h+g]=S)}if(u>=f.length&&c<r-1){console.warn(`Data ended early at line ${c+1} of ${r}`);break}}return d}const de=32,$t=48,Hn=32,Qt=16,Ln=32,Bt=15;var Zt=(a=>(a[a.WALL=0]="WALL",a[a.DIFF=1]="DIFF",a[a.GROUND=2]="GROUND",a[a.FOLLOW=3]="FOLLOW",a[a.GENERATOR=4]="GENERATOR",a))(Zt||{});const Ca=2,vo=32,bo=16,Ol=8,Z2=9,Ko=7,Q2=8*48,K2=Q2+2*48,V2=K2+32,Oh=V2,Th=4*48;function A4(){return{def:new Uint8Array(4*de),mask:new Uint8Array(4*de)}}function Bh(){return{def:new Uint8Array(6*$t),mask:new Uint8Array(6*$t),images:{background1:new Uint8Array(6*$t),background2:new Uint8Array(6*$t)}}}function m4(){return{def:new Uint8Array(4*Hn),mask:new Uint8Array(4*Hn),images:{background1:new Uint8Array(4*Hn),background2:new Uint8Array(4*Hn)}}}function v4(){return{def:new Uint8Array(2*Qt),mask:new Uint8Array(2*Qt),images:{background1:new Uint8Array(2*Qt),background2:new Uint8Array(2*Qt)}}}function b4(){return{def:new Uint8Array(4*Ln),mask:new Uint8Array(4*Ln),images:{background1:new Uint8Array(4*Ln),background2:new Uint8Array(4*Ln)}}}function df(a,i,r,f){if(a<0||i<0)return!1;const d=i*f+Math.floor(a/8),u=7-a%8;return d>=r.length?!1:((r[d]??0)&1<<u)!==0}function hf(a,i,r,f,d){if(a<0||i<0)return;const u=i*d+Math.floor(a/8),c=7-a%8;u>=f.length||f[u]!==void 0&&(f[u]|=1<<c)}function Mh(a,i,r){const f=new Uint8Array(a.length);for(let d=0;d<=i;d++)for(let u=0;u<=i;u++)df(i-u,i-d,a,r)&&hf(d,u,!0,f,r);return f}function Rh(a,i,r){const f=new Uint8Array(a.length);for(let d=0;d<=i;d++)for(let u=0;u<=i;u++)df(i-d,u,a,r)&&hf(d,u,!0,f,r);return f}function Nh(a){const f=new Uint8Array(288);for(let d=0;d<48;d++)for(let u=0;u<48;u++)df(u,d,a,6)&&hf(47-d,u,!0,f,6);return f}function w4(a){var r,f,d,u,c,o;const i={};for(let h=0;h<vo;h++)i[h]={def:new Uint8Array(4*de),mask:new Uint8Array(4*de)};for(let h=0;h<5;h++)i[h]={def:new Uint8Array(((r=a[h])==null?void 0:r.def)??[]),mask:new Uint8Array(((f=a[h])==null?void 0:f.mask)??[])};for(let h=0;h<4;h++)i[8-h]={def:Mh(((d=a[h])==null?void 0:d.def)??new Uint8Array(4*de),2*Bt,4),mask:Mh(((u=a[h])==null?void 0:u.mask)??new Uint8Array(4*de),2*Bt,4)};for(let h=1;h<9;h++)i[32-h]={def:Rh(((c=i[h])==null?void 0:c.def)??new Uint8Array(4*de),2*Bt,4),mask:Rh(((o=i[h])==null?void 0:o.mask)??new Uint8Array(4*de),2*Bt,4)};for(let h=1;h<9;h++){const g=i[8-h];if(g){const S=new Uint8Array(4*de),D=new Uint8Array(4*de);for(let p=0;p<de;p++)for(let b=0;b<4;b++){const E=(de-1-p)*4+b,A=p*4+b;S[A]=g.def[E]??0,D[A]=g.mask[E]??0}i[8+h]={def:S,mask:D}}if(h!==8){const S=i[24+h];if(S){const D=new Uint8Array(4*de),p=new Uint8Array(4*de);for(let b=0;b<de;b++)for(let w=0;w<4;w++){const A=(de-1-b)*4+w,_=b*4+w;D[_]=S.def[A]??0,p[_]=S.mask[A]??0}i[24-h]={def:D,mask:p}}}}return{rotations:i,getRotation(h){const g=(h%360+360)%360,S=Math.round(g/11.25)%vo,D=i[S];if(!D)throw new Error(`Ship sprite not found at index ${S}`);return D},getRotationIndex(h){const g=i[h%vo];if(!g)throw new Error(`Ship sprite not found at index ${h}`);return g}}}const Cr={N:1,E:5},An={UP:-1,DN:1},ue={NORMAL:0,BOUNCE:1,GHOST:2,EXPLODE:3},Br={ESE:4,ENE:6,NE:7,NNE:8};function x4(a){return`line-${a}`}function E4(){let a="world-fixed";return{setMode(i){a=i},getMode(){return a},getAlignment(i){if("objectX"in i)return a==="screen-fixed"?i.objectX+i.objectY&1:i.screenX+i.screenY+i.objectX+i.objectY&1;if(a==="screen-fixed"){const r=i.x-i.screenX,f=i.y-i.screenY;return r+f&1}else return i.x+i.y&1}}}const W2=E4(),_4=W2.setMode;function re(a){return W2.getAlignment(a)}const I=512,yf=342,St=24,lt=yf-St,or=200,wo=170,xo=341,Mr=106,Rr=211,on=16,Ki=St*64,U4=lt*64,J2=[2863311530,1431655765];function he(a){return`Minified Redux error #${a}; visit https://redux.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}var O4=typeof Symbol=="function"&&Symbol.observable||"@@observable",kh=O4,Eo=()=>Math.random().toString(36).substring(7).split("").join("."),T4={INIT:`@@redux/INIT${Eo()}`,REPLACE:`@@redux/REPLACE${Eo()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Eo()}`},Hr=T4;function gf(a){if(typeof a!="object"||a===null)return!1;let i=a;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(a)===i||Object.getPrototypeOf(a)===null}function $2(a,i,r){if(typeof a!="function")throw new Error(he(2));if(typeof i=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(he(0));if(typeof i=="function"&&typeof r>"u"&&(r=i,i=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(he(1));return r($2)(a,i)}let f=a,d=i,u=new Map,c=u,o=0,h=!1;function g(){c===u&&(c=new Map,u.forEach((A,_)=>{c.set(_,A)}))}function S(){if(h)throw new Error(he(3));return d}function D(A){if(typeof A!="function")throw new Error(he(4));if(h)throw new Error(he(5));let _=!0;g();const v=o++;return c.set(v,A),function(){if(_){if(h)throw new Error(he(6));_=!1,g(),c.delete(v),u=null}}}function p(A){if(!gf(A))throw new Error(he(7));if(typeof A.type>"u")throw new Error(he(8));if(typeof A.type!="string")throw new Error(he(17));if(h)throw new Error(he(9));try{h=!0,d=f(d,A)}finally{h=!1}return(u=c).forEach(v=>{v()}),A}function b(A){if(typeof A!="function")throw new Error(he(10));f=A,p({type:Hr.REPLACE})}function w(){const A=D;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(he(11));function v(){const U=_;U.next&&U.next(S())}return v(),{unsubscribe:A(v)}},[kh](){return this}}}return p({type:Hr.INIT}),{dispatch:p,subscribe:D,getState:S,replaceReducer:b,[kh]:w}}function B4(a){Object.keys(a).forEach(i=>{const r=a[i];if(typeof r(void 0,{type:Hr.INIT})>"u")throw new Error(he(12));if(typeof r(void 0,{type:Hr.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(he(13))})}function M4(a){const i=Object.keys(a),r={};for(let u=0;u<i.length;u++){const c=i[u];typeof a[c]=="function"&&(r[c]=a[c])}const f=Object.keys(r);let d;try{B4(r)}catch(u){d=u}return function(c={},o){if(d)throw d;let h=!1;const g={};for(let S=0;S<f.length;S++){const D=f[S],p=r[D],b=c[D],w=p(b,o);if(typeof w>"u")throw o&&o.type,new Error(he(14));g[D]=w,h=h||w!==b}return h=h||f.length!==Object.keys(c).length,h?g:c}}function Lr(...a){return a.length===0?i=>i:a.length===1?a[0]:a.reduce((i,r)=>(...f)=>i(r(...f)))}function R4(...a){return i=>(r,f)=>{const d=i(r,f);let u=()=>{throw new Error(he(15))};const c={getState:d.getState,dispatch:(h,...g)=>u(h,...g)},o=a.map(h=>h(c));return u=Lr(...o)(d.dispatch),{...d,dispatch:u}}}function N4(a){return gf(a)&&"type"in a&&typeof a.type=="string"}var I2=Symbol.for("immer-nothing"),zh=Symbol.for("immer-draftable"),Ge=Symbol.for("immer-state");function en(a,...i){throw new Error(`[Immer] minified error nr: ${a}. Full error at: https://bit.ly/3cXEKWf`)}var Bl=Object.getPrototypeOf;function Ha(a){return!!a&&!!a[Ge]}function Yn(a){var i;return a?P2(a)||Array.isArray(a)||!!a[zh]||!!((i=a.constructor)!=null&&i[zh])||Vr(a)||Wr(a):!1}var k4=Object.prototype.constructor.toString();function P2(a){if(!a||typeof a!="object")return!1;const i=Bl(a);if(i===null)return!0;const r=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===k4}function Gr(a,i){Kr(a)===0?Reflect.ownKeys(a).forEach(r=>{i(r,a[r],a)}):a.forEach((r,f)=>i(f,r,a))}function Kr(a){const i=a[Ge];return i?i.type_:Array.isArray(a)?1:Vr(a)?2:Wr(a)?3:0}function Vo(a,i){return Kr(a)===2?a.has(i):Object.prototype.hasOwnProperty.call(a,i)}function ty(a,i,r){const f=Kr(a);f===2?a.set(i,r):f===3?a.add(r):a[i]=r}function z4(a,i){return a===i?a!==0||1/a===1/i:a!==a&&i!==i}function Vr(a){return a instanceof Map}function Wr(a){return a instanceof Set}function za(a){return a.copy_||a.base_}function Wo(a,i){if(Vr(a))return new Map(a);if(Wr(a))return new Set(a);if(Array.isArray(a))return Array.prototype.slice.call(a);const r=P2(a);if(i===!0||i==="class_only"&&!r){const f=Object.getOwnPropertyDescriptors(a);delete f[Ge];let d=Reflect.ownKeys(f);for(let u=0;u<d.length;u++){const c=d[u],o=f[c];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(f[c]={configurable:!0,writable:!0,enumerable:o.enumerable,value:a[c]})}return Object.create(Bl(a),f)}else{const f=Bl(a);if(f!==null&&r)return{...a};const d=Object.create(f);return Object.assign(d,a)}}function pf(a,i=!1){return Jr(a)||Ha(a)||!Yn(a)||(Kr(a)>1&&(a.set=a.add=a.clear=a.delete=C4),Object.freeze(a),i&&Object.entries(a).forEach(([r,f])=>pf(f,!0))),a}function C4(){en(2)}function Jr(a){return Object.isFrozen(a)}var H4={};function La(a){const i=H4[a];return i||en(0,a),i}var ji;function ey(){return ji}function L4(a,i){return{drafts_:[],parent_:a,immer_:i,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ch(a,i){i&&(La("Patches"),a.patches_=[],a.inversePatches_=[],a.patchListener_=i)}function Jo(a){$o(a),a.drafts_.forEach(G4),a.drafts_=null}function $o(a){a===ji&&(ji=a.parent_)}function Hh(a){return ji=L4(ji,a)}function G4(a){const i=a[Ge];i.type_===0||i.type_===1?i.revoke_():i.revoked_=!0}function Lh(a,i){i.unfinalizedDrafts_=i.drafts_.length;const r=i.drafts_[0];return a!==void 0&&a!==r?(r[Ge].modified_&&(Jo(i),en(4)),Yn(a)&&(a=Yr(i,a),i.parent_||Xr(i,a)),i.patches_&&La("Patches").generateReplacementPatches_(r[Ge].base_,a,i.patches_,i.inversePatches_)):a=Yr(i,r,[]),Jo(i),i.patches_&&i.patchListener_(i.patches_,i.inversePatches_),a!==I2?a:void 0}function Yr(a,i,r){if(Jr(i))return i;const f=i[Ge];if(!f)return Gr(i,(d,u)=>Gh(a,f,i,d,u,r)),i;if(f.scope_!==a)return i;if(!f.modified_)return Xr(a,f.base_,!0),f.base_;if(!f.finalized_){f.finalized_=!0,f.scope_.unfinalizedDrafts_--;const d=f.copy_;let u=d,c=!1;f.type_===3&&(u=new Set(d),d.clear(),c=!0),Gr(u,(o,h)=>Gh(a,f,d,o,h,r,c)),Xr(a,d,!1),r&&a.patches_&&La("Patches").generatePatches_(f,r,a.patches_,a.inversePatches_)}return f.copy_}function Gh(a,i,r,f,d,u,c){if(Ha(d)){const o=u&&i&&i.type_!==3&&!Vo(i.assigned_,f)?u.concat(f):void 0,h=Yr(a,d,o);if(ty(r,f,h),Ha(h))a.canAutoFreeze_=!1;else return}else c&&r.add(d);if(Yn(d)&&!Jr(d)){if(!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1)return;Yr(a,d),(!i||!i.scope_.parent_)&&typeof f!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,f)&&Xr(a,d)}}function Xr(a,i,r=!1){!a.parent_&&a.immer_.autoFreeze_&&a.canAutoFreeze_&&pf(i,r)}function Y4(a,i){const r=Array.isArray(a),f={type_:r?1:0,scope_:i?i.scope_:ey(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:a,draft_:null,copy_:null,revoke_:null,isManual_:!1};let d=f,u=Df;r&&(d=[f],u=qi);const{revoke:c,proxy:o}=Proxy.revocable(d,u);return f.draft_=o,f.revoke_=c,o}var Df={get(a,i){if(i===Ge)return a;const r=za(a);if(!Vo(r,i))return X4(a,r,i);const f=r[i];return a.finalized_||!Yn(f)?f:f===_o(a.base_,i)?(Uo(a),a.copy_[i]=Po(f,a)):f},has(a,i){return i in za(a)},ownKeys(a){return Reflect.ownKeys(za(a))},set(a,i,r){const f=ny(za(a),i);if(f!=null&&f.set)return f.set.call(a.draft_,r),!0;if(!a.modified_){const d=_o(za(a),i),u=d==null?void 0:d[Ge];if(u&&u.base_===r)return a.copy_[i]=r,a.assigned_[i]=!1,!0;if(z4(r,d)&&(r!==void 0||Vo(a.base_,i)))return!0;Uo(a),Io(a)}return a.copy_[i]===r&&(r!==void 0||i in a.copy_)||Number.isNaN(r)&&Number.isNaN(a.copy_[i])||(a.copy_[i]=r,a.assigned_[i]=!0),!0},deleteProperty(a,i){return _o(a.base_,i)!==void 0||i in a.base_?(a.assigned_[i]=!1,Uo(a),Io(a)):delete a.assigned_[i],a.copy_&&delete a.copy_[i],!0},getOwnPropertyDescriptor(a,i){const r=za(a),f=Reflect.getOwnPropertyDescriptor(r,i);return f&&{writable:!0,configurable:a.type_!==1||i!=="length",enumerable:f.enumerable,value:r[i]}},defineProperty(){en(11)},getPrototypeOf(a){return Bl(a.base_)},setPrototypeOf(){en(12)}},qi={};Gr(Df,(a,i)=>{qi[a]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}});qi.deleteProperty=function(a,i){return qi.set.call(this,a,i,void 0)};qi.set=function(a,i,r){return Df.set.call(this,a[0],i,r,a[0])};function _o(a,i){const r=a[Ge];return(r?za(r):a)[i]}function X4(a,i,r){var d;const f=ny(i,r);return f?"value"in f?f.value:(d=f.get)==null?void 0:d.call(a.draft_):void 0}function ny(a,i){if(!(i in a))return;let r=Bl(a);for(;r;){const f=Object.getOwnPropertyDescriptor(r,i);if(f)return f;r=Bl(r)}}function Io(a){a.modified_||(a.modified_=!0,a.parent_&&Io(a.parent_))}function Uo(a){a.copy_||(a.copy_=Wo(a.base_,a.scope_.immer_.useStrictShallowCopy_))}var j4=class{constructor(a){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(i,r,f)=>{if(typeof i=="function"&&typeof r!="function"){const u=r;r=i;const c=this;return function(h=u,...g){return c.produce(h,S=>r.call(this,S,...g))}}typeof r!="function"&&en(6),f!==void 0&&typeof f!="function"&&en(7);let d;if(Yn(i)){const u=Hh(this),c=Po(i,void 0);let o=!0;try{d=r(c),o=!1}finally{o?Jo(u):$o(u)}return Ch(u,f),Lh(d,u)}else if(!i||typeof i!="object"){if(d=r(i),d===void 0&&(d=i),d===I2&&(d=void 0),this.autoFreeze_&&pf(d,!0),f){const u=[],c=[];La("Patches").generateReplacementPatches_(i,d,u,c),f(u,c)}return d}else en(1,i)},this.produceWithPatches=(i,r)=>{if(typeof i=="function")return(c,...o)=>this.produceWithPatches(c,h=>i(h,...o));let f,d;return[this.produce(i,r,(c,o)=>{f=c,d=o}),f,d]},typeof(a==null?void 0:a.autoFreeze)=="boolean"&&this.setAutoFreeze(a.autoFreeze),typeof(a==null?void 0:a.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(a.useStrictShallowCopy)}createDraft(a){Yn(a)||en(8),Ha(a)&&(a=q4(a));const i=Hh(this),r=Po(a,void 0);return r[Ge].isManual_=!0,$o(i),r}finishDraft(a,i){const r=a&&a[Ge];(!r||!r.isManual_)&&en(9);const{scope_:f}=r;return Ch(f,i),Lh(void 0,f)}setAutoFreeze(a){this.autoFreeze_=a}setUseStrictShallowCopy(a){this.useStrictShallowCopy_=a}applyPatches(a,i){let r;for(r=i.length-1;r>=0;r--){const d=i[r];if(d.path.length===0&&d.op==="replace"){a=d.value;break}}r>-1&&(i=i.slice(r+1));const f=La("Patches").applyPatches_;return Ha(a)?f(a,i):this.produce(a,d=>f(d,i))}};function Po(a,i){const r=Vr(a)?La("MapSet").proxyMap_(a,i):Wr(a)?La("MapSet").proxySet_(a,i):Y4(a,i);return(i?i.scope_:ey()).drafts_.push(r),r}function q4(a){return Ha(a)||en(10,a),ay(a)}function ay(a){if(!Yn(a)||Jr(a))return a;const i=a[Ge];let r;if(i){if(!i.modified_)return i.base_;i.finalized_=!0,r=Wo(a,i.scope_.immer_.useStrictShallowCopy_)}else r=Wo(a,!0);return Gr(r,(f,d)=>{ty(r,f,ay(d))}),i&&(i.finalized_=!1),r}var Ye=new j4,ly=Ye.produce;Ye.produceWithPatches.bind(Ye);Ye.setAutoFreeze.bind(Ye);Ye.setUseStrictShallowCopy.bind(Ye);Ye.applyPatches.bind(Ye);Ye.createDraft.bind(Ye);Ye.finishDraft.bind(Ye);function iy(a){return({dispatch:r,getState:f})=>d=>u=>typeof u=="function"?u(r,f,a):d(u)}var F4=iy(),Z4=iy,Q4=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lr:Lr.apply(null,arguments)};function Yh(a,i){function r(...f){if(i){let d=i(...f);if(!d)throw new Error(Gn(0));return{type:a,payload:d.payload,..."meta"in d&&{meta:d.meta},..."error"in d&&{error:d.error}}}return{type:a,payload:f[0]}}return r.toString=()=>`${a}`,r.type=a,r.match=f=>N4(f)&&f.type===a,r}var uy=class Hi extends Array{constructor(...i){super(...i),Object.setPrototypeOf(this,Hi.prototype)}static get[Symbol.species](){return Hi}concat(...i){return super.concat.apply(this,i)}prepend(...i){return i.length===1&&Array.isArray(i[0])?new Hi(...i[0].concat(this)):new Hi(...i.concat(this))}};function Xh(a){return Yn(a)?ly(a,()=>{}):a}function fr(a,i,r){return a.has(i)?a.get(i):a.set(i,r(i)).get(i)}function K4(a){return typeof a=="boolean"}var V4=()=>function(i){const{thunk:r=!0,immutableCheck:f=!0,serializableCheck:d=!0,actionCreatorCheck:u=!0}=i??{};let c=new uy;return r&&(K4(r)?c.push(F4):c.push(Z4(r.extraArgument))),c},W4="RTK_autoBatch",jh=a=>i=>{setTimeout(i,a)},J4=(a={type:"raf"})=>i=>(...r)=>{const f=i(...r);let d=!0,u=!1,c=!1;const o=new Set,h=a.type==="tick"?queueMicrotask:a.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jh(10):a.type==="callback"?a.queueNotification:jh(a.timeout),g=()=>{c=!1,u&&(u=!1,o.forEach(S=>S()))};return Object.assign({},f,{subscribe(S){const D=()=>d&&S(),p=f.subscribe(D);return o.add(S),()=>{p(),o.delete(S)}},dispatch(S){var D;try{return d=!((D=S==null?void 0:S.meta)!=null&&D[W4]),u=!d,u&&(c||(c=!0,h(g))),f.dispatch(S)}finally{d=!0}}})},$4=a=>function(r){const{autoBatch:f=!0}=r??{};let d=new uy(a);return f&&d.push(J4(typeof f=="object"?f:void 0)),d};function I4(a){const i=V4(),{reducer:r=void 0,middleware:f,devTools:d=!0,preloadedState:u=void 0,enhancers:c=void 0}=a||{};let o;if(typeof r=="function")o=r;else if(gf(r))o=M4(r);else throw new Error(Gn(1));let h;typeof f=="function"?h=f(i):h=i();let g=Lr;d&&(g=Q4({trace:!1,...typeof d=="object"&&d}));const S=R4(...h),D=$4(S);let p=typeof c=="function"?c(D):D();const b=g(...p);return $2(o,u,b)}function ry(a){const i={},r=[];let f;const d={addCase(u,c){const o=typeof u=="string"?u:u.type;if(!o)throw new Error(Gn(28));if(o in i)throw new Error(Gn(29));return i[o]=c,d},addMatcher(u,c){return r.push({matcher:u,reducer:c}),d},addDefaultCase(u){return f=u,d}};return a(d),[i,r,f]}function P4(a){return typeof a=="function"}function t3(a,i){let[r,f,d]=ry(i),u;if(P4(a))u=()=>Xh(a());else{const o=Xh(a);u=()=>o}function c(o=u(),h){let g=[r[h.type],...f.filter(({matcher:S})=>S(h)).map(({reducer:S})=>S)];return g.filter(S=>!!S).length===0&&(g=[d]),g.reduce((S,D)=>{if(D)if(Ha(S)){const b=D(S,h);return b===void 0?S:b}else{if(Yn(S))return ly(S,p=>D(p,h));{const p=D(S,h);if(p===void 0){if(S===null)return S;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return S},o)}return c.getInitialState=u,c}var e3=Symbol.for("rtk-slice-createasyncthunk");function n3(a,i){return`${a}/${i}`}function a3({creators:a}={}){var r;const i=(r=a==null?void 0:a.asyncThunk)==null?void 0:r[e3];return function(d){const{name:u,reducerPath:c=u}=d;if(!u)throw new Error(Gn(11));const o=(typeof d.reducers=="function"?d.reducers(i3()):d.reducers)||{},h=Object.keys(o),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},S={addCase(U,k){const G=typeof U=="string"?U:U.type;if(!G)throw new Error(Gn(12));if(G in g.sliceCaseReducersByType)throw new Error(Gn(13));return g.sliceCaseReducersByType[G]=k,S},addMatcher(U,k){return g.sliceMatchers.push({matcher:U,reducer:k}),S},exposeAction(U,k){return g.actionCreators[U]=k,S},exposeCaseReducer(U,k){return g.sliceCaseReducersByName[U]=k,S}};h.forEach(U=>{const k=o[U],G={reducerName:U,type:n3(u,U),createNotation:typeof d.reducers=="function"};r3(k)?s3(G,k,S,i):u3(G,k,S)});function D(){const[U={},k=[],G=void 0]=typeof d.extraReducers=="function"?ry(d.extraReducers):[d.extraReducers],Q={...U,...g.sliceCaseReducersByType};return t3(d.initialState,W=>{for(let J in Q)W.addCase(J,Q[J]);for(let J of g.sliceMatchers)W.addMatcher(J.matcher,J.reducer);for(let J of k)W.addMatcher(J.matcher,J.reducer);G&&W.addDefaultCase(G)})}const p=U=>U,b=new Map,w=new WeakMap;let E;function A(U,k){return E||(E=D()),E(U,k)}function _(){return E||(E=D()),E.getInitialState()}function v(U,k=!1){function G(W){let J=W[U];return typeof J>"u"&&k&&(J=fr(w,G,_)),J}function Q(W=p){const J=fr(b,k,()=>new WeakMap);return fr(J,W,()=>{const B={};for(const[ut,Dt]of Object.entries(d.selectors??{}))B[ut]=l3(Dt,W,()=>fr(w,W,_),k);return B})}return{reducerPath:U,getSelectors:Q,get selectors(){return Q(G)},selectSlice:G}}const M={name:u,reducer:A,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:_,...v(c),injectInto(U,{reducerPath:k,...G}={}){const Q=k??c;return U.inject({reducerPath:Q,reducer:A},G),{...M,...v(Q,!0)}}};return M}}function l3(a,i,r,f){function d(u,...c){let o=i(u);return typeof o>"u"&&f&&(o=r()),a(o,...c)}return d.unwrapped=a,d}var mn=a3();function i3(){function a(i,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:i,...r}}return a.withTypes=()=>a,{reducer(i){return Object.assign({[i.name](...r){return i(...r)}}[i.name],{_reducerDefinitionType:"reducer"})},preparedReducer(i,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:i,reducer:r}},asyncThunk:a}}function u3({type:a,reducerName:i,createNotation:r},f,d){let u,c;if("reducer"in f){if(r&&!c3(f))throw new Error(Gn(17));u=f.reducer,c=f.prepare}else u=f;d.addCase(a,u).exposeCaseReducer(i,u).exposeAction(i,c?Yh(a,c):Yh(a))}function r3(a){return a._reducerDefinitionType==="asyncThunk"}function c3(a){return a._reducerDefinitionType==="reducerWithPrepare"}function s3({type:a,reducerName:i},r,f,d){if(!d)throw new Error(Gn(18));const{payloadCreator:u,fulfilled:c,pending:o,rejected:h,settled:g,options:S}=r,D=d(a,u,S);f.exposeAction(i,D),c&&f.addCase(D.fulfilled,c),o&&f.addCase(D.pending,o),h&&f.addCase(D.rejected,h),g&&f.addMatcher(D.settled,g),f.exposeCaseReducer(i,{fulfilled:c||dr,pending:o||dr,rejected:h||dr,settled:g||dr})}function dr(){}function Gn(a){return`Minified Redux Toolkit error #${a}; visit https://redux-toolkit.js.org/Errors?code=${a} for the full message or use the non-minified dev environment for full errors. `}const o3={screenx:0,screeny:0},jr=mn({name:"screen",initialState:o3,reducers:{setPosition:(a,i)=>{a.screenx=i.payload.x,a.screeny=i.payload.y},updatePosition:(a,i)=>{a.screenx=i.payload.x,a.screeny=i.payload.y},resetScreen:(a,i)=>{a.screenx=i.payload.x,a.screeny=i.payload.y}}});function f3(a){return i=>{const{screenX:r,screenY:f}=a,d=_t(i),u=re({x:r,y:f,screenX:r,screenY:f}),c=te(u),o=te(u^1);let h=Ki;const g=lt;for(let S=0;S<g;S++){const D=(S&1)===0?c:o,p=[D>>>24&255,D>>>16&255,D>>>8&255,D&255];for(let b=0;b<16;b++){for(let w=0;w<4;w++)h+w<d.data.length&&(d.data[h+w]=p[w]);h+=4}}return d}}function d3(){return a=>{const i=_t(a);for(let r=Ki;r<i.data.length;r++)i.data[r]=0;return i}}function h3(a){return i=>{const{color:r}=a,f=_t(i),d=new Uint8Array(4);d[0]=r>>>24&255,d[1]=r>>>16&255,d[2]=r>>>8&255,d[3]=r&255;let u=Ki;const c=U4/4;for(let o=0;o<c;o++)u+3<f.data.length&&(f.data[u]=d[0],f.data[u+1]=d[1],f.data[u+2]=d[2],f.data[u+3]=d[3]),u+=4;return f}}function y3(a){const{from:i,to:r,durationFrames:f,seed:d=4357}=a;if(f===0)return{nextFrame:()=>_t(r),progress:1,isComplete:!0,reset:()=>{}};const u=Math.floor(8192/f);let c=d,o=_t(i),h=0,g=!0;const S=w=>{if(w>=8152)return 0;const E=w<8040?10:9,A=w>>3<<1,v=32896>>(w&7);let M=0;for(let U=0;U<E;U++){const k=Ki+A+U*2038;if(k+1<r.data.length&&k+1<o.data.length){const Q=(r.data[k]<<8|r.data[k+1])&v,W=o.data[k]<<8|o.data[k+1],J=~v&65535,B=W&J|Q;o.data[k]=B>>8&255,o.data[k+1]=B&255,M++}}return M},D=()=>{c=c<<1,c&8192&&(c^=4287),c&=8191};return{nextFrame:()=>{if(h>=f)return _t(r);let w=0;for(;w<u;){if(!g&&c===d)return h=f,_t(r);S(c),w++,D(),g=!1}return h++,_t(o)},get progress(){return Math.min(1,h/f)},get isComplete(){return h>=f},reset:()=>{c=d,o=_t(i),h=0,g=!0}}}function cy(a,i){return i<=0?-a:a}function Oe(a,i,r){const f=i>>3&-2,d=r<<6;return a+f+d}function Sf(a,i,r){const f=i>>3,d=r<<6;return a+f+d}function ce(a,i,r){return Oe(a,i,r)}function sy(a,i,r){return Sf(a,i,r)}function g3(a){return i=>{const{x:r,y:f}=a,d=_t(i),u=f+St,o=ce(0,0,u)+Math.floor(r/8),g=~(128>>(r&7))&255;return o<d.data.length&&(d.data[o]=d.data[o]&g),d}}function p3(a){const i=a==null?void 0:a.starCount,r=a==null?void 0:a.additionalRender;return f=>{let d=h3({color:4294967295})(f);for(let u=0;u<i;u++){const c=Sn(I),o=Sn(lt);d=g3({x:c,y:o})(d)}return r&&(d=r(d)),d}}function te(a){const[i,r]=J2;return a===0?i:r}function D3(a,i,r,f){const d=r-a,u=f-i;let c=Math.atan2(u,d);return c=c*180/Math.PI,c<0&&(c+=360),c=(c+90)%360,Math.floor(c)}function Sn(a){return Math.floor(Math.random()*a)}function S3(a){const i={[Zt.WALL]:{},[Zt.DIFF]:{},[Zt.GROUND]:[],[Zt.FOLLOW]:[],[Zt.GENERATOR]:[]};for(let r=0;r<Ca;r++){const f=i[r],d=a[r];if(d){for(let u=0;u<4;u++){const c=d[u];c&&(f[u]={def:new Uint8Array(c.def),mask:new Uint8Array(c.mask),images:{background1:new Uint8Array(6*$t),background2:new Uint8Array(6*$t)}})}for(let u=4;u<bo;u++){const c=u-4,o=f[c];o&&(f[u]={def:Nh(o.def),mask:Nh(o.mask),images:{background1:new Uint8Array(6*$t),background2:new Uint8Array(6*$t)}})}for(let u=0;u<bo;u++){const c=f[u];c&&(c.images.background1=hr(c.def,c.mask,0),c.images.background2=hr(c.def,c.mask,1))}}}for(let r=Zt.GROUND;r<=Zt.GENERATOR;r++){const f=i[r],d=a[r];if(d)for(let u=0;u<8;u++){const c=d[u];c&&(f[u]={def:new Uint8Array(c.def),mask:new Uint8Array(c.mask),images:{background1:hr(c.def,c.mask,0),background2:hr(c.def,c.mask,1)}})}}return{kinds:i,getSprite(r,f){switch(r){case Zt.WALL:case Zt.DIFF:const u=i[r][f%bo];if(!u)throw new Error(`Bunker sprite not found: ${r} rotation ${f}`);return u;case Zt.GROUND:case Zt.FOLLOW:case Zt.GENERATOR:const c=i[r],o=f%8,h=c[o];if(!h)throw new Error(`Bunker sprite not found: ${r} frame ${o}`);return h;default:throw new Error(`Unknown bunker kind: ${r}`)}}}}function hr(a,i,r){const f=new Uint8Array(a.length);for(let d=0;d<$t;d++){const u=d*6,c=(r+d)%2===0?0:1,h=te(c)>>24&255;for(let g=0;g<6;g++){const S=u+g;f[S]=h&i[S]^a[S]}}return f}function A3(a){const i=[];for(let d=0;d<Ol;d++){const u=a[d];u&&(i[d]={def:new Uint8Array(u.def),mask:new Uint8Array(u.mask),images:{background1:yr(u.def,u.mask,0),background2:yr(u.def,u.mask,1)}})}const r=a[Z2-1];if(!r)throw new Error("Empty fuel cell sprite not found");const f={def:new Uint8Array(r.def),mask:new Uint8Array(r.mask),images:{background1:yr(r.def,r.mask,0),background2:yr(r.def,r.mask,1)}};return{frames:i,emptyCell:f,getFrame(d){const u=i[d];if(!u)throw new Error(`Fuel sprite not found at index ${d}`);return u}}}function yr(a,i,r){const f=new Uint8Array(a.length);for(let d=0;d<Hn;d++){const u=d*4,c=(r+d)%2===0?0:1,o=te(c);for(let h=0;h<4;h++){const g=u+h,S=o>>(3-h)*8&255,D=i[g]??0,p=a[g]??0;f[g]=S&D^p}}return f}function m3(a){var r,f;const i={};for(let d=0;d<Ko;d++){i[d]={};const u=i[d];if(u){for(let c=0;c<16;c++)u[c]={def:new Uint8Array(2*Qt),mask:new Uint8Array(2*Qt),images:{background1:new Uint8Array(2*Qt),background2:new Uint8Array(2*Qt)}};for(let c=0;c<4;c++){const o=(r=a[d])==null?void 0:r[c];o&&(u[c]={def:new Uint8Array(o.def),mask:new Uint8Array(o.mask),images:{background1:new Uint8Array(2*Qt),background2:new Uint8Array(2*Qt)}})}for(let c=4;c<16;c++){const o=u[c-4];if(!o)continue;const h=v3(o);u[c]=h}for(let c=0;c<16;c++){const o=(f=i[d])==null?void 0:f[c];if(o)for(let h=0;h<2;h++){const g=h===0?o.images.background1:o.images.background2;for(let S=0;S<Qt;S++){const D=(h+S)%2===0?0:1,b=te(D)>>16&65535;for(let w=0;w<2;w++){const E=S*2+w,A=b>>(1-w)*8&255,_=o.mask[E]??0,v=o.def[E]??0;g[E]=A&_^v}}}}}}return{kinds:i,getSprite(d,u){var g;const c=d%Ko,o=u%16,h=(g=i[c])==null?void 0:g[o];if(!h)throw new Error(`Shard sprite not found: kind ${c} rotation ${o}`);return h}}}function v3(a){const i={def:new Uint8Array(2*Qt),mask:new Uint8Array(2*Qt),images:{background1:new Uint8Array(2*Qt),background2:new Uint8Array(2*Qt)}};return qh(a.def,i.def),qh(a.mask,i.mask),i}function qh(a,i){for(let r=0;r<Qt;r++){let f=0;for(let d=0;d<Qt;d++){const u=Qt-1-d;(a[u*2]<<8|a[u*2+1])<<r&32768&&(f|=32768>>d)}i[r*2]=f>>8&255,i[r*2+1]=f&255}}function b3(a,i){return{def:new Uint8Array(a),mask:new Uint8Array(i),images:{background1:Fh(a,i,0),background2:Fh(a,i,1)}}}function Fh(a,i,r){const f=new Uint8Array(a.length);for(let d=0;d<Ln;d++){const u=d*4,c=(r+d)%2===0?0:1,o=te(c);for(let h=0;h<4;h++){const g=u+h,S=o>>(3-h)*8&255,D=i[g]??0,p=a[g]??0;f[g]=S&D^p}}return f}const w3=8,x3=7,E3=32,_3=[new Uint8Array([90,172,90,84,56,8,16]),new Uint8Array([128,108,180,200,80,80,32]),new Uint8Array([64,168,122,148,104,80,64]),new Uint8Array([128,112,168,84,152,96,128]),new Uint8Array([48,20,76,54,74,88,128]),new Uint8Array([0,16,40,52,76,84,170]),new Uint8Array([8,16,44,88,44,234,20]),new Uint8Array([0,12,20,104,156,100,26]),new Uint8Array([10,20,110,186,36,26,4]),new Uint8Array([26,100,156,104,20,12,0]),new Uint8Array([20,234,44,88,44,16,8]),new Uint8Array([170,84,76,52,40,16,0]),new Uint8Array([128,88,74,54,76,20,48]),new Uint8Array([128,96,152,84,168,112,128]),new Uint8Array([64,80,104,148,122,168,64]),new Uint8Array([32,80,80,200,180,108,128]),new Uint8Array([16,8,56,84,90,172,90]),new Uint8Array([8,20,20,42,90,108,2]),new Uint8Array([4,20,44,82,188,42,4]),new Uint8Array([2,12,50,84,42,28,2]),new Uint8Array([2,52,164,216,100,80,24]),new Uint8Array([170,84,100,88,40,16,0]),new Uint8Array([80,174,104,52,104,16,32]),new Uint8Array([176,76,114,44,80,96,0]),new Uint8Array([64,176,72,186,236,80,160]),new Uint8Array([0,96,80,44,114,76,176]),new Uint8Array([32,16,104,52,104,174,80]),new Uint8Array([0,16,40,88,100,84,170]),new Uint8Array([24,80,100,216,164,52,2]),new Uint8Array([2,28,42,84,50,12,2]),new Uint8Array([4,42,188,82,44,20,4]),new Uint8Array([2,108,90,42,20,20,8])],U3=16,qr=[new Uint8Array([36,149,90,60,60,0,0,0]),new Uint8Array([72,43,60,63,12,0,0,0]),new Uint8Array([36,21,26,30,13,0,0,0]),new Uint8Array([10,10,28,31,12,14,1,0]),new Uint8Array([2,4,25,30,28,27,4,2]),new Uint8Array([0,1,14,12,31,28,10,10]),new Uint8Array([0,0,0,13,30,26,21,36]),new Uint8Array([0,0,0,12,63,60,43,72]),new Uint8Array([0,0,0,60,60,90,149,36]),new Uint8Array([0,0,0,48,253,60,212,18]),new Uint8Array([0,0,0,176,120,120,164,36]),new Uint8Array([0,128,112,48,248,56,80,80]),new Uint8Array([64,32,152,120,56,216,32,64]),new Uint8Array([80,80,56,248,48,112,128,0]),new Uint8Array([36,164,120,120,176,0,0,0]),new Uint8Array([18,212,60,253,48,0,0,0])],Zh=37,O3=[new Uint8Array([195,153,153,153,153,153,153,153,195]),new Uint8Array([231,199,231,231,231,231,231,231,231]),new Uint8Array([195,185,249,249,243,231,207,159,129]),new Uint8Array([129,243,231,195,249,249,249,185,195]),new Uint8Array([249,241,233,217,185,128,249,249,249]),new Uint8Array([129,159,159,131,249,249,249,185,195]),new Uint8Array([227,207,159,131,153,153,153,153,195]),new Uint8Array([129,249,249,249,243,231,231,231,231]),new Uint8Array([195,153,153,153,195,153,153,153,195]),new Uint8Array([195,153,153,153,153,193,249,243,199]),new Uint8Array([195,153,153,153,129,153,153,153,153]),new Uint8Array([131,153,153,153,131,153,153,153,131]),new Uint8Array([195,157,159,159,159,159,159,157,195]),new Uint8Array([131,153,153,153,153,153,153,153,131]),new Uint8Array([129,159,159,159,135,159,159,159,129]),new Uint8Array([129,159,159,159,135,159,159,159,159]),new Uint8Array([195,157,159,159,145,153,153,153,195]),new Uint8Array([153,153,153,153,129,153,153,153,153]),new Uint8Array([231,231,231,231,231,231,231,231,231]),new Uint8Array([249,249,249,249,249,153,153,153,195]),new Uint8Array([156,153,147,135,143,135,147,153,156]),new Uint8Array([207,207,207,207,207,207,207,207,193]),new Uint8Array([190,156,136,128,128,148,156,156,156]),new Uint8Array([188,156,140,132,128,144,152,156,158]),new Uint8Array([195,153,153,153,153,153,153,153,195]),new Uint8Array([131,153,153,153,131,159,159,159,159]),new Uint8Array([195,153,153,153,153,153,137,147,197]),new Uint8Array([131,153,153,153,131,153,153,153,153]),new Uint8Array([199,155,159,143,199,227,243,179,199]),new Uint8Array([129,231,231,231,231,231,231,231,231]),new Uint8Array([153,153,153,153,153,153,153,153,195]),new Uint8Array([153,153,153,153,153,195,195,231,231]),new Uint8Array([156,156,156,156,148,128,136,156,179]),new Uint8Array([153,153,153,153,195,153,153,153,153]),new Uint8Array([153,153,153,153,195,231,231,231,231]),new Uint8Array([129,249,249,243,231,207,159,159,129]),new Uint8Array([247,247,227,227,227,193,193,128,190]),new Uint8Array([255,255,255,255,255,255,255,255,255])];function T3(){const a=_3.map(i=>({def:i,width:w3,height:x3}));return{frames:a,getFrame(i){const r=a[i%E3];if(!r)throw new Error(`Flame sprite not found at index ${i}`);return r}}}function B3(){return{frames:qr,getFrame(a){const i=qr[a%U3];if(!i)throw new Error(`Strafe sprite not found at index ${a}`);return i}}}function M3(){const a=O3.map(i=>{const r=new Uint8Array(i.length);for(let f=0;f<i.length;f++)r[f]=i[f]^255;return r});return{characters:a,getCharacter(i){let r;if(typeof i=="number")r=i;else if(i===" ")r=Zh;else if(i==="SHIP")r=Zh-1;else if(i>="0"&&i<="9")r=i.charCodeAt(0)-48;else if(i>="A"&&i<="Z")r=i.charCodeAt(0)-65+10;else if(i>="a"&&i<="z")r=i.charCodeAt(0)-97+10;else return null;return r>=0&&r<a.length?a[r]:null}}}function Le(a,i,r,f,d,u,c,o){const h=i/8,g=o,S=u/8;for(let D=0;D<c;D++){const p=(d+D)*h+Math.floor(f/8),b=D*g;for(let w=0;w<S;w++)r[b+w]=a[p+w]??0}}function R3(a){const i=[];let r=null;for(let f=0;f<11;f++){const d=f*32+1,u=K2+1;if(f<5){const c=A4();Le(a,512,c.mask,d-1,u-1,32,32,4),i[f]=c}else if(f<10){const c=i[f-5];if(!c)continue;Le(a,512,c.def,d-1,u-1,32,32,4)}else{const c=new Uint8Array(4*de);Le(a,512,c,d-1,u-1,32,32,4),r=c}}return{baseShips:i,shield:r}}function N3(a){var d,u,c;const i=[],f=[];for(let o=0;o<8;o++){f[o]=[];for(let h=0;h<8;h++){const g=Bh(),S=h*48,D=o*48;if(o<Ca)if(h<4)Le(a,512,g.def,S,D,48,$t,6);else{const p=(d=f[o])==null?void 0:d[h-4];p&&Le(a,512,p.mask,S,D,48,$t,6);continue}else o%2===0?Le(a,512,g.def,S,D,48,$t,6):Le(a,512,g.mask,S,D,48,$t,6);f[o][h]=g}}i[Zt.WALL]=f[0].slice(0,4),i[Zt.DIFF]=f[1].slice(0,4);for(let o=0;o<3;o++){const h=o+2;i[h]=[];const g=2+o*2,S=g+1;for(let D=0;D<8;D++){const p=Bh(),b=(u=f[g])==null?void 0:u[D],w=(c=f[S])==null?void 0:c[D];b!=null&&b.def&&(p.def=new Uint8Array(b.def)),w!=null&&w.mask&&(p.mask=new Uint8Array(w.mask)),i[h].push(p)}}return i}function k3(a){const i=[];for(let r=0;r<2;r++)for(let f=0;f<Z2;f++){const d=f*48,u=r*48+Q2;if(r===0){const c=m4();Le(a,512,c.def,d,u,32,Hn,4),i[f]=c}else{const c=i[f];if(!c)continue;Le(a,512,c.mask,d,u,32,Hn,4)}}return i}function z3(a){const i=[];for(let r=0;r<Ko;r++){i[r]=[];const f=i[r];for(let d=0;d<8;d++){const u=d*16,c=V2+r*Qt;if(d<4){const o=v4();Le(a,512,o.def,u,c,16,Qt-1,2),i[r]&&(f[d]=o)}else{const o=f[d-4];if(!o)continue;Le(a,512,o.mask,u,c,16,Qt-1,2)}}}return i}function C3(a){const i=b4();return Le(a,512,i.def,Th,Oh,32,32,4),Le(a,512,i.mask,Th+32,Oh,32,32,4),i}function H3(a){const i=F2(a,684),{baseShips:r,shield:f}=R3(i),d=N3(i),u=k3(i),c=z3(i),o=C3(i);return{ships:w4(r),bunkers:S3(d),fuels:A3(u),shards:m3(c),crater:b3(o.def,o.mask),shield:{def:f},flames:T3(),strafe:B3(),digits:M3()}}const tf={GALAXY_DATA:"/release_galaxy.bin",SPRITE_RESOURCE:"/rsrc_260.bin",STATUS_BAR_RESOURCE:"/rsrc_259.bin"};function L3(a){const i=new Uint16Array(a.length/2);for(let r=0;r<i.length;r++)i[r]=a[r*2]<<8|a[r*2+1];return i}function G3(a,i,r){return{data:new Uint8Array(a),width:i,height:r,rowBytes:i/8}}function Tt(a,i,r){return{uint8:a,uint16:L3(a),bitmap:G3(a,i,r)}}async function Y3(){const a=await fetch(tf.SPRITE_RESOURCE);if(!a.ok)throw new Error("Failed to load sprite resource");const i=await a.arrayBuffer(),r=H3(i),f=await fetch(tf.STATUS_BAR_RESOURCE);if(!f.ok)throw new Error("Failed to load status bar resource");const d=await f.arrayBuffer(),u=F2(d,24),c=q2(512,24);c.data.set(u);const o=X3(r,c);return{getShipSprite(h,g){const S=`${h}-${g.variant}`,D=o.ship.get(S);if(!D)throw new Error(`Ship sprite not found: rotation=${h}, variant=${g.variant}`);return D},getBunkerSprite(h,g,S){const D=`${h}-${g}-${S.variant}`,p=o.bunker.get(D);if(!p)throw new Error(`Bunker sprite not found: kind=${h}, rotation=${g}, variant=${S.variant}`);return p},getFuelSprite(h,g){const S=`${h}-${g.variant}`,D=o.fuel.get(S);if(!D)throw new Error(`Fuel sprite not found: frame=${h}, variant=${g.variant}`);return D},getShardSprite(h,g,S){const D=`${h}-${g}-${S.variant}`,p=o.shard.get(D);if(!p)throw new Error(`Shard sprite not found: kind=${h}, rotation=${g}, variant=${S.variant}`);return p},getCraterSprite(h){const g=o.crater.get(h.variant);if(!g)throw new Error(`Crater sprite not found: variant=${h.variant}`);return g},getShieldSprite(){return o.shield},getFlameSprite(h){const g=o.flame.get(h);if(!g)throw new Error(`Flame sprite not found: frame=${h}`);return g},getStrafeSprite(h){const g=o.strafe.get(h);if(!g)throw new Error(`Strafe sprite not found: rotation=${h}`);return g},getDigitSprite(h){return o.digit.get(h)||null},getStatusBarTemplate(){return o.statusBarTemplate}}}function X3(a,i){const r={ship:new Map,bunker:new Map,fuel:new Map,shard:new Map,crater:new Map,shield:Tt(a.shield.def,32,32),flame:new Map,strafe:new Map,digit:new Map,statusBarTemplate:i};for(let u=0;u<32;u++){const c=a.ships.getRotationIndex(u);r.ship.set(`${u}-def`,Tt(c.def,32,32)),r.ship.set(`${u}-mask`,Tt(c.mask,32,32))}for(const[,u]of Object.entries(Zt)){if(typeof u!="number")continue;const c=u;if(c===Zt.WALL||c===Zt.DIFF)for(let o=0;o<16;o++){const h=a.bunkers.getSprite(c,o);r.bunker.set(`${c}-${o}-def`,Tt(h.def,48,48)),r.bunker.set(`${c}-${o}-mask`,Tt(h.mask,48,48)),r.bunker.set(`${c}-${o}-background1`,Tt(h.images.background1,48,48)),r.bunker.set(`${c}-${o}-background2`,Tt(h.images.background2,48,48))}else for(let o=0;o<8;o++){const h=a.bunkers.getSprite(c,o);r.bunker.set(`${c}-${o}-def`,Tt(h.def,48,48)),r.bunker.set(`${c}-${o}-mask`,Tt(h.mask,48,48)),r.bunker.set(`${c}-${o}-background1`,Tt(h.images.background1,48,48)),r.bunker.set(`${c}-${o}-background2`,Tt(h.images.background2,48,48))}}for(let u=0;u<9;u++){const c=u===8?a.fuels.emptyCell:a.fuels.getFrame(u);r.fuel.set(`${u}-def`,Tt(c.def,32,32)),r.fuel.set(`${u}-mask`,Tt(c.mask,32,32)),r.fuel.set(`${u}-background1`,Tt(c.images.background1,32,32)),r.fuel.set(`${u}-background2`,Tt(c.images.background2,32,32))}for(let u=0;u<7;u++)for(let c=0;c<16;c++){const o=a.shards.getSprite(u,c);r.shard.set(`${u}-${c}-def`,Tt(o.def,16,16)),r.shard.set(`${u}-${c}-mask`,Tt(o.mask,16,16)),r.shard.set(`${u}-${c}-background1`,Tt(o.images.background1,16,16)),r.shard.set(`${u}-${c}-background2`,Tt(o.images.background2,16,16))}r.crater.set("def",Tt(a.crater.def,32,32)),r.crater.set("mask",Tt(a.crater.mask,32,32)),r.crater.set("background1",Tt(a.crater.images.background1,32,32)),r.crater.set("background2",Tt(a.crater.images.background2,32,32));for(let u=0;u<a.flames.frames.length;u++){const c=a.flames.getFrame(u);r.flame.set(u,Tt(c.def,c.width,c.height))}for(let u=0;u<16;u++){const c=a.strafe.getFrame(u);r.strafe.set(u,Tt(c,8,8))}for(let u=0;u<=9;u++){const c=u.toString(),o=a.digits.getCharacter(c);o&&r.digit.set(c,Tt(o,8,9))}for(let u=0;u<26;u++){const c=String.fromCharCode(65+u),o=a.digits.getCharacter(c);o&&r.digit.set(c,Tt(o,8,9))}const f=a.digits.getCharacter("SHIP");f&&r.digit.set("SHIP",Tt(f,8,9));const d=a.digits.getCharacter(" ");return d&&r.digit.set(" ",Tt(d,8,9)),r}var $e=(a=>(a[a.LEFT=0]="LEFT",a[a.RIGHT=1]="RIGHT",a[a.THRUST=2]="THRUST",a[a.SHIELD=3]="SHIELD",a[a.FIRE=4]="FIRE",a))($e||{});const j3=60,q3=30,oy=1e4,F3=16,Z3=83,Mi=12,Q3=2e3,K3=30,gr={thrustx:[0,9,18,27,34,40,44,47,48,47,44,40,34,27,18,9,0,-9,-18,-27,-34,-40,-44,-47,-48,-47,-44,-40,-34,-27,-18,-9],bounce_vecs:[0,18,34,44,48,44,34,18,0,-18,-34,-44,-48,-44,-34,-18,0]},$r=2,fy=1,V3="GAME OVER",W3="LEVEL COMPLETE",J3={shiprot:0,fuel:oy,lives:$r,flaming:!1,flameBlink:0,thrusting:!1,firing:!1,bouncing:!1,refueling:!1,shielding:!1,dx:0,dy:0,cartooning:!1,shipx:0,shipy:0,xslow:0,yslow:0,unbouncex:0,unbouncey:0,deadCount:0,startx:0,starty:0,globalx:0,globaly:0},Jt=mn({name:"ship",initialState:J3,reducers:{initShip:(a,i)=>{a.shipx=i.payload.x,a.shipy=i.payload.y,a.dx=0,a.dy=0,a.xslow=0,a.yslow=0,a.shiprot=0,a.flaming=!1,a.flameBlink=0,a.thrusting=!1,a.firing=!1,a.bouncing=!1,a.shielding=!1,i.payload.globalx!==void 0&&i.payload.globaly!==void 0&&(a.unbouncex=i.payload.globalx,a.unbouncey=i.payload.globaly,a.globalx=i.payload.globalx,a.globaly=i.payload.globaly)},updatePosition:(a,i)=>{a.shipx=i.payload.x,a.shipy=i.payload.y,i.payload.dx!==void 0&&(a.dx=i.payload.dx),i.payload.dy!==void 0&&(a.dy=i.payload.dy),i.payload.globalx!==void 0&&(a.globalx=i.payload.globalx),i.payload.globaly!==void 0&&(a.globaly=i.payload.globaly)},shipControlMovement:(a,i)=>{const{controlsPressed:r,gravity:f}=i.payload,d=new Set(r);d.has($e.LEFT)&&(a.shiprot=a.shiprot-1&31),d.has($e.RIGHT)&&(a.shiprot=a.shiprot+1&31),a.flaming=!1,d.has($e.THRUST)&&a.fuel?(a.dx+=(a.bouncing?1:2)*gr.thrustx[a.shiprot],a.dy+=(a.bouncing?1:2)*gr.thrustx[a.shiprot+24&31],a.flameBlink?(a.flameBlink--,a.flaming=!0):a.flameBlink=4,a.thrusting=!0,a.fuel=Math.max(0,a.fuel-F3)):a.thrusting=!1,a.dx-=(a.dx>>6)+(a.dx>0?1:0),a.dy-=(a.dy>>6)+(a.dy>0&&!a.cartooning?1:0),a.bouncing||(a.dx+=f.x,a.dy+=f.y)},setFiring:(a,i)=>{a.firing=i.payload},moveShip:a=>{a.xslow+=a.dx,a.shipx+=a.xslow>>8,a.xslow&=255,a.yslow+=a.dy,a.shipy+=a.yslow>>8,a.yslow&=255},bounceShip:(a,i)=>{const{norm:r}=i.payload,f=gr.bounce_vecs[r],d=gr.bounce_vecs[r+12&15],u=a.dx*f+a.dy*d;if(u<256*64){let c=u<0?-u:u;c<10*256&&(c=10*256);const o=Math.floor(f*c/(24*48)),h=Math.floor(d*c/(24*48));a.dx+=o,a.dy+=h}a.bouncing=!0},noBounce:(a,i)=>{a.bouncing=!1,a.unbouncex=i.payload.globalx,a.unbouncey=i.payload.globaly},killShip:a=>{a.deadCount=j3,a.flaming=!1,a.thrusting=!1,a.refueling=!1,a.shielding=!1,a.lives>0&&a.lives--},decrementDeadCount:a=>{a.deadCount>0&&a.deadCount--},respawnShip:a=>{a.shipx=128,a.shipy=96,a.dx=0,a.dy=0,a.xslow=0,a.yslow=0,a.shiprot=0,a.fuel=oy,a.flaming=!1,a.flameBlink=0,a.thrusting=!1,a.firing=!1,a.bouncing=!1,a.refueling=!1,a.shielding=!1},stopShipMovement:a=>{a.dx=0,a.dy=0,a.xslow=0,a.yslow=0},setStartPosition:(a,i)=>{a.startx=i.payload.x,a.starty=i.payload.y},shieldActivate:a=>{a.shielding=!0,a.refueling=!1},shieldDeactivate:a=>{a.shielding=!1},activateShieldFeedback:a=>{a.shielding=!0},refuelingOn:a=>{a.refueling=!0},refuelingOff:a=>{a.refueling=!1},consumeFuel:(a,i)=>{a.fuel=Math.max(0,a.fuel-i.payload),a.fuel===0&&(a.shielding=!1)},collectFuel:(a,i)=>{a.fuel+=i.payload*Q3},setLives:(a,i)=>{a.lives=i.payload},extraLife:a=>{a.lives++},resetLives:a=>{a.lives=$r}}}),Qh=32,$3=8;function ef(a,i){const{x:r,height:f,def:d}=i,u=i.y+St;if(d.width!==Qh)throw new Error(`Sprite must be ${Qh} pixels wide`);let c=J2[1-(u&1)]??1431655765;for(let o=0;o<f;o++){const h=u+o;if(h<0||h>=a.height)continue;const g=o*d.rowBytes,S=(d.data[g]??0)<<24|(d.data[g+1]??0)<<16|(d.data[g+2]??0)<<8|(d.data[g+3]??0);if(S===0){c=(c>>>1|c<<31)>>>0;continue}const D=Math.floor(r/16)*16,p=h*a.rowBytes,b=Math.floor(D/$3),w=r&15,E=S>>>w,_=(S&65535)<<16-w&65535,v=E&c,M=_&(c&65535);if(v!==0){let U=0;for(let k=0;k<4;k++){const G=p+b+k;G<a.data.length&&(U=U<<8|(a.data[G]??0))}if((v&U)!==0)return!0}if(M!==0&&b+4<a.rowBytes){let U=0;for(let k=0;k<2;k++){const G=p+b+4+k;G<a.data.length&&(U=U<<8|(a.data[G]??0))}if((M&U)!==0)return!0}c=(c>>>1|c<<31)>>>0}return!1}const Gt={shotvecs:[0,14,27,40,51,60,67,71,72,71,67,60,51,40,27,14,0,-14,-27,-40,-51,-60,-67,-71,-72,-71,-67,-60,-51,-40,-27,-14],NUMBULLETS:6,NUMSHOTS:20,SHOOTMARG:300,SHOTLEN:35,BUNKSHLEN:30},Ri=19,Af=5,dy=4,I3=[[2,13,18,22,24,21,16,10,-2,-13,-18,-22,-24,-21,-16,-10],[0,3,15,31,24,31,17,3,0,-3,-15,-31,-24,-31,-17,-3],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4,-4],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],P3=[[-24,-21,-16,-10,2,13,18,22,24,21,16,10,-2,-13,-18,-22],[-24,-31,-17,-3,0,3,15,31,24,31,17,3,0,-3,-15,-31],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3,-3],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],Kh=[0,18,34,44,48,44,34,18,0,-18,-34,-44,-48,-44,-34,-18];var gn=(a=>(a[a.WALL=0]="WALL",a[a.DIFF=1]="DIFF",a[a.GROUND=2]="GROUND",a[a.FOLLOW=3]="FOLLOW",a[a.GENERATOR=4]="GENERATOR",a))(gn||{});const hy={NUMBUNKERS:25,NUMCRATERS:50},pr=16,fa=16,tp=[[24,24,24,23,22,22,22,24,24,24,24,25,26,26,26,24],[25,22,21,14,10,13,18,22,23,26,27,34,38,35,30,26],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]],ep=[[26,26,26,24,24,24,24,23,22,22,22,24,24,24,24,25],[38,35,30,26,25,22,21,14,10,13,18,22,23,26,27,34],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24],[24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]],Oo=8,Dr=2,np=3,ap={worldwidth:0,worldheight:0,worldwrap:!1,shootslow:0,xstart:0,ystart:0,planetbonus:0,gravx:0,gravy:0,numcraters:0,lines:[],bunkers:[],fuels:[],craters:[],gravityPoints:[],wallsSorted:!1},Vi=mn({name:"planet",initialState:ap,reducers:{loadPlanet:(a,i)=>{const r=i.payload;return r.fuels||(r.fuels=[]),r.gravityPoints||(r.gravityPoints=[]),r},updateBunkerRotations:(a,i)=>{const{globalx:r,globaly:f}=i.payload;for(let d=0;d<a.bunkers.length;d++){const u=a.bunkers[d];if(u.rot<0)break;if(u.kind>=Ca&&(u.rotcount===void 0&&(u.rotcount=Dr),u.rotcount--,u.rotcount<=0))if(u.kind===gn.FOLLOW){const c=Dy(u,{globalx:r,globaly:f,worldwidth:a.worldwidth,worldwrap:a.worldwrap});u.rot+=c,u.rot&=Oo-1,u.rotcount=3*Dr}else u.rot++,u.rot&=Oo-1,u.rotcount=Dr}},initializeBunkers:a=>{var f;let i=a.bunkers.findIndex(d=>d.rot<0);i===-1&&(i=a.bunkers.length);const r=a.bunkers.slice(0,i);r.sort((d,u)=>d.x-u.x),a.bunkers.splice(0,i,...r);for(let d=0;d<a.bunkers.length;d++){const u=a.bunkers[d];if(u.rot<0)break;u.alive=!0,u.kind>=Ca&&(u.rot=Math.floor(Math.random()*Oo),u.rotcount=Math.floor(Math.random()*Dr)),u.kind===gn.DIFF&&(u.rot&3)===2&&(u.rotcount=3)}a.gravityPoints=[];for(const d of a.bunkers){if(d.rot<0)break;d.alive&&d.kind===gn.GENERATOR&&a.gravityPoints.push({x:d.x,y:d.y,str:-(((f=d.ranges[0])==null?void 0:f.low)??0)})}},updateFuelAnimations:a=>{if(!a.fuels||a.fuels.length===0)return;const i=Sn(a.fuels.length);for(let r=0;r<a.fuels.length;r++){const f=a.fuels[r];if(f){if(f.x>=1e4)break;f.alive&&(r===i?(f.currentfig=Ol-2+Sn(2),f.figcount=1):f.figcount<=0?(f.currentfig++,f.currentfig>=Ol-2&&(f.currentfig=0),f.figcount=1):f.figcount--)}}},initializeFuels:a=>{if(!(!a.fuels||a.fuels.length===0))for(let i=0;i<a.fuels.length;i++){const r=a.fuels[i];if(r){if(r.x>=1e4)break;r.alive=!0,r.currentfig=Sn(Ol),r.figcount=Sn(np)}}},killBunker:(a,i)=>{var f;const r=a.bunkers[i.payload.index];if(!(!r||!r.alive)&&!(r.kind===gn.DIFF&&(r.rot&3)===2&&((!r.rotcount||r.rotcount<=0)&&(r.rotcount=3),r.rotcount--,r.rotcount>0))&&(r.alive=!1,r.kind>=Ca&&a.numcraters<hy.NUMCRATERS&&(a.craters[a.numcraters]={x:r.x,y:r.y},a.numcraters++),r.kind===gn.GENERATOR)){a.gravityPoints=[];for(const d of a.bunkers){if(d.rot<0)break;d.alive&&d.kind===gn.GENERATOR&&a.gravityPoints.push({x:d.x,y:d.y,str:-(((f=d.ranges[0])==null?void 0:f.low)??0)})}}},collectFuelCells:(a,i)=>{i.payload.forEach(f=>{const d=a.fuels[f];d&&d.alive&&(d.alive=!1,d.currentfig=Ol)})}}}),{loadPlanet:PS,updateBunkerRotations:lp,initializeBunkers:ip,updateFuelAnimations:up,initializeFuels:rp,killBunker:Vh,collectFuelCells:tA}=Vi.actions,cp=()=>({data:{D0:0,D1:0,D2:0,D3:0,D4:0,D5:0,D6:0,D7:0},address:{A0:0,A1:0,A2:0,A3:0,A4:0,A5:0,A6:0,A7:0},flags:{zeroFlag:!1,negativeFlag:!1,carryFlag:!1,overflowFlag:!1}}),sp=a=>{const i=u=>{const c=u.toUpperCase();if(c in a.data)return a.data[c];if(c in a.address)return a.address[c];throw new Error(`Unknown register: ${u}`)},r=(u,c)=>{const o=u.toUpperCase();if(o in a.data)a.data[o]=c;else if(o in a.address)a.address[o]=c;else throw new Error(`Unknown register: ${u}`)},f=u=>{const c={zero:"zeroFlag",negative:"negativeFlag",carry:"carryFlag",overflow:"overflowFlag"};return a.flags[c[u]]},d=(u,c)=>{const h=u&(c==="b"?255:c==="w"?65535:4294967295);a.flags.zeroFlag=h===0,a.flags.negativeFlag=c==="b"?(h&128)!==0:c==="w"?(h&32768)!==0:(h&2147483648)!==0};return{move_b:(u,c)=>{r(u,c&255)},move_w:(u,c)=>{r(u,c&65535)},move_l:(u,c)=>{r(u,c)},ror_l:(u,c)=>{if(c=c&31,c===0)return a.flags.carryFlag=!1,d(u,"l"),a.flags.overflowFlag=!1,u;const o=(u>>>c|u<<32-c)>>>0;return a.flags.carryFlag=(u>>c-1&1)===1,d(o,"l"),a.flags.overflowFlag=!1,o},ror_w:(u,c)=>{c=c&15;const o=u&65535;if(c===0)return a.flags.carryFlag=!1,d(o,"w"),a.flags.overflowFlag=!1,o;const h=(o>>>c|o<<16-c)&65535;return a.flags.carryFlag=(o>>c-1&1)===1,d(h,"w"),a.flags.overflowFlag=!1,h},rol_w:(u,c)=>{c=c&15;const o=u&65535;if(c===0)return a.flags.carryFlag=!1,d(o,"w"),a.flags.overflowFlag=!1,o;const h=(o<<c|o>>>16-c)&65535;return a.flags.carryFlag=(o>>16-c&1)===1,d(h,"w"),a.flags.overflowFlag=!1,h},lsr_w:(u,c)=>{c=c&15;const o=u&65535;if(c===0)return a.flags.carryFlag=!1,d(o,"w"),a.flags.overflowFlag=!1,o;const h=o>>>c;return a.flags.carryFlag=(o>>c-1&1)===1,d(h,"w"),a.flags.overflowFlag=!1,h},lsr_l:(u,c)=>{if(c=c&31,c===0)return a.flags.carryFlag=!1,d(u,"l"),a.flags.overflowFlag=!1,u;const o=u>>>c;return a.flags.carryFlag=(u>>c-1&1)===1,d(o,"l"),a.flags.overflowFlag=!1,o},lsr_b:(u,c)=>{c=c&7;const o=u&255;if(c===0)return a.flags.carryFlag=!1,d(o,"b"),a.flags.overflowFlag=!1,o;const h=o>>>c;return a.flags.carryFlag=(o>>c-1&1)===1,d(h,"b"),a.flags.overflowFlag=!1,h},asr_w:(u,c)=>{c=c&15;const o=u&65535;if(c===0)return a.flags.carryFlag=!1,d(o,"w"),a.flags.overflowFlag=!1,o;const g=(o|(o&32768?4294901760:0))>>c&65535;return a.flags.carryFlag=(o>>c-1&1)===1,d(g,"w"),a.flags.overflowFlag=!1,g},asr_l:(u,c)=>{if(c=c&31,c===0)return a.flags.carryFlag=!1,d(u,"l"),a.flags.overflowFlag=!1,u;const o=u>>c;return a.flags.carryFlag=(u>>c-1&1)===1,d(o,"l"),a.flags.overflowFlag=!1,o},swap:u=>{const c=(u>>>16|(u&65535)<<16)>>>0;return d(c,"l"),a.flags.carryFlag=!1,a.flags.overflowFlag=!1,c},neg_w:u=>{const o=i(u)&65535,h=-o&65535,g=h<<16>>16;r(u,g),d(h,"w"),a.flags.overflowFlag=o===32768,a.flags.carryFlag=h!==0},muls:(u,c)=>{const o=i(u),h=i(c),g=o<<16>>16,S=h<<16>>16,D=g*S;r(u,D),a.flags.negativeFlag=D<0,a.flags.zeroFlag=D===0,a.flags.overflowFlag=!1,a.flags.carryFlag=!1},add_w:(u,c)=>{const o=i(u)&65535,h=i(c),g=h&65535,S=g+o,D=S&65535,p=h&4294901760|D;r(c,p),d(D,"w");const b=(o&32768)!==0,w=(g&32768)!==0,E=(D&32768)!==0;a.flags.overflowFlag=b===w&&b!==E,a.flags.carryFlag=S>65535},cmp_w:(u,c)=>{const o=i(u),h=i(c),g=o<<16>>16,S=h<<16>>16,D=S-g;a.flags.zeroFlag=D===0,a.flags.negativeFlag=D<0;const p=g<0,b=S<0,w=D<0;a.flags.overflowFlag=b!==p&&w!==b;const E=o&65535,A=h&65535;a.flags.carryFlag=E>A},addq_w:(u,c)=>{const o=i(u)&65535,h=c&65535,g=o+h&65535;r(u,g),d(g,"w");const S=(o&32768)!==0,D=(h&32768)!==0,p=(g&32768)!==0;a.flags.overflowFlag=S===D&&S!==p,a.flags.carryFlag=g<o},subq_w:(u,c)=>{const o=i(u)&65535,h=c&65535,g=o-h&65535;r(u,g),d(g,"w");const S=(o&32768)!==0,D=(h&32768)!==0,p=(g&32768)!==0;a.flags.overflowFlag=S!==D&&p===D,a.flags.carryFlag=h>o},adda_w:(u,c)=>{const o=i(u);r(u,o+c)},andi_w:(u,c)=>{const h=i(u)&c;r(u,h),d(h,"w")},tst_b:u=>{d(u,"b")},tst_w:u=>{d(u,"w")},cmp_b:(u,c)=>{const h=(i(u)&255)-c;d(h,"b")},dbra:u=>{const o=i(u)-1&65535;return r(u,o),o!==65535},dbne:u=>{if(!a.flags.zeroFlag)return!1;const o=i(u)-1&65535;return r(u,o),o!==65535},dbcs:u=>{if(a.flags.carryFlag)return!1;const o=i(u)-1&65535;return r(u,o),o!==65535},bgt:()=>{const{negativeFlag:u,zeroFlag:c,overflowFlag:o}=a.flags;return u===o&&!c},blt:()=>a.flags.negativeFlag&&!a.flags.overflowFlag||!a.flags.negativeFlag&&a.flags.overflowFlag,beq:()=>a.flags.zeroFlag,bra:()=>!0,bset_b:(u,c,o)=>{c>=0&&c<u.length&&(u[c]|=1<<(o&7))},eor_l:(u,c,o)=>{c>=0&&c+3<u.length&&(u[c]^=o>>>24&255,u[c+1]^=o>>>16&255,u[c+2]^=o>>>8&255,u[c+3]^=o&255)},eor_w:(u,c,o)=>{c>=0&&c+1<u.length&&(u[c]^=o>>>8&255,u[c+1]^=o&255)},and_w:(u,c,o)=>{c>=0&&c+1<u.length&&(u[c]&=o>>>8&255,u[c+1]&=o&255)},and_l:(u,c,o)=>{c>=0&&c+3<u.length&&(u[c]&=o>>>24&255,u[c+1]&=o>>>16&255,u[c+2]&=o>>>8&255,u[c+3]&=o&255)},or_l:(u,c,o)=>{c>=0&&c+3<u.length&&(u[c]|=o>>>24&255,u[c+1]|=o>>>16&255,u[c+2]|=o>>>8&255,u[c+3]|=o&255)},or_w:(u,c,o)=>{c>=0&&c+1<u.length&&(u[c]|=o>>>8&255,u[c+1]|=o&255)},or_b:(u,c,o)=>{c>=0&&c<u.length&&(u[c]|=o&255)},getReg:i,setReg:r,getFlag:f}},xt=a=>{const i=cp();a&&(a.data&&Object.assign(i.data,a.data),a.address&&Object.assign(i.address,a.address),a.flags&&Object.assign(i.flags,a.flags));const r=sp(i);return{registers:i,instructions:r,get D0(){return i.data.D0},set D0(d){i.data.D0=d},get D1(){return i.data.D1},set D1(d){i.data.D1=d},get D2(){return i.data.D2},set D2(d){i.data.D2=d},get D3(){return i.data.D3},set D3(d){i.data.D3=d},get D4(){return i.data.D4},set D4(d){i.data.D4=d},get D5(){return i.data.D5},set D5(d){i.data.D5=d},get D6(){return i.data.D6},set D6(d){i.data.D6=d},get D7(){return i.data.D7},set D7(d){i.data.D7=d},get A0(){return i.address.A0},set A0(d){i.address.A0=d},get A1(){return i.address.A1},set A1(d){i.address.A1=d},get A2(){return i.address.A2},set A2(d){i.address.A2=d},get A3(){return i.address.A3},set A3(d){i.address.A3=d},get A4(){return i.address.A4},set A4(d){i.address.A4=d},get A5(){return i.address.A5},set A5(d){i.address.A5=d},get A6(){return i.address.A6},set A6(d){i.address.A6=d},get A7(){return i.address.A7},set A7(d){i.address.A7=d}}},yy=2,gy=a=>i=>a.getInt16(i,!1),op=a=>i=>function*(){for(let r=i;r<a.byteLength-1;r+=yy)yield gy(a)(r)};function mf(a){const i=a.slice(0),r=new DataView(i);return{getWord:gy(r),wordIterator:f=>{const d=op(r)(f)();let u=f;return{nextWord:()=>{const c=d.next();if(c.done)throw new Error("Attempted to iterate past buffer bounds");return u+=yy,c.value},nextOffset:()=>u}}}}function fp(a,i,r){const u=i[r-1];if(u===void 0)throw new Error("No planet location noted in index");const c=1540*u,o=c+1540,h=mf(a.slice(c,o));let g=h.wordIterator(0);const S=g.nextWord(),D=g.nextWord(),p=!!g.nextWord(),b=g.nextWord();let w=g.nextWord();w%=S;const E=g.nextWord(),A=g.nextWord(),_=g.nextWord(),v=g.nextWord(),M=g.nextWord();g=h.wordIterator(30);const U=125,k=25,G=15,Q=25,W=[];let J=!1;for(let bt=0;bt<U;bt++){let R=g.nextWord();const C=g.nextWord();let K=g.nextWord(),tt=g.nextWord();const O=tt>>8,j=tt&7,$=(tt&31)>>3,V=[0,2,2,2,1,0],at=[0,0,1,2,2,2];(j===2||j===4)&&(K|=1);const ge=R+(at[j]*K>>1),zt=C+O*(V[j]*K>>1),nn=O===-1?10-j:j;(!j||ge>4e3||C>4e3)&&(R=1e4),J=R===1e4?!0:J,J||W.push({id:x4(W.length),startx:R,starty:C,length:K,endx:ge,endy:zt,up_down:O,type:j,kind:$,newtype:nn,nextId:null,nextwhId:null})}const B=[];J=!1;for(let bt=0;bt<k;bt++){let R=g.nextWord();const C=g.nextWord();let K=g.nextWord();const tt=!0,O=[];for(let $=0;$<2;$++)O.push({low:g.nextWord(),high:g.nextWord()});let j=0;K===-1?j=0:(j=K>>8,K&=255),(R>4e3||C>4e3)&&(R=1e4),J=R===1e4?!0:J,J||B.push({x:R,y:C,rot:K,alive:tt,ranges:O,kind:j})}const ut=[];J=!1;let Dt;for(let bt=0;bt<G;bt++)Dt={x:g.nextWord(),y:g.nextWord(),alive:!0,currentfig:1,figcount:1},(Dt.x>4e3||Dt.y>4e3)&&(Dt.x=1e4),J=Dt.x===1e4?!0:J,J||ut.push(Dt);ut.length>0&&(ut[G-1]={x:2e4,y:0,alive:!1,currentfig:1,figcount:1});const ee=[];let ye;for(let bt=0;bt<Q;bt++)ye={x:g.nextWord(),y:g.nextWord()},ee.push(ye);return{worldwidth:S,worldheight:D,worldwrap:p,shootslow:b,xstart:w,ystart:E,planetbonus:A,gravx:_,gravy:v,numcraters:M,lines:W,bunkers:B,fuels:ut,craters:ee,gravityPoints:[],wallsSorted:!1}}function py(a,i,r,f,d){const u=f-i,c=d-r;let o=Math.atan2(u,-c)*(180/Math.PI);o<0&&(o+=360);const g=[0,22,45,67,90,112,135,157,180,202,225,247,270,292,315,337][a+12&15];return o<g&&(o+=360),o<g+180}function Wh(a){return i=>{const{bunkrec:r,scrnx:f,scrny:d,getSprite:u}=a;let c=_t(i);const o=f-48,h=f+I+48;for(const g of r){if(g.rot<0)break;if(g.alive&&g.x>o&&g.x<h){const S=ep[g.kind][g.rot],D=g.y-d-S;if(D>-48&&D<lt){const p=tp[g.kind][g.rot],b=g.x-f-p,w=u(g.kind,g.rot);if(g.kind>=Ca||g.rot<=1||g.rot>=9){const E=re({x:g.x+p,y:g.y+S,screenX:f,screenY:d}),A={width:48,height:$t,data:E===0?w.images.background1:w.images.background2,rowBytes:6};c=dp({x:b,y:D,def:A})(c)}else{const E={width:48,height:$t,data:w.def,rowBytes:6},A={width:48,height:$t,data:w.mask,rowBytes:6};c=hp({x:b,y:D,def:E,mask:A})(c)}}}}return c}}function dp(a){return i=>{const{x:r,y:f,def:d}=a;if(r<=-48||r>=I)return i;const u=_t(i);let c=lt-1-f;c>$t-1&&(c=$t-1);let o=f,h=0;f<0&&(h=-f*6,c+=f,o=0),o+=St;const g=xt({data:{D3:c,D4:4294967295,D5:4294967295},address:{A0:ce(0,r,o)}});r<-32?(g.D4=0,g.D5=65535):r<-16?g.D4=0:r<0?g.D4=65535:r>=I-16?(g.D5=0,g.D4=g.D4^65535):r>=I-32?g.D5=0:r>=I-48&&(g.D5=g.D5^65535);const S=r&15,D=16-S,p=S;g.D4=g.D4<<p>>>0,g.D5=g.D5>>>D;const b=64;let w=h;for(;;){if(g.A0+=b,w+5>=d.data.length)return u;const E=d.data[w]<<8|d.data[w+1],A=d.data[w+2]<<24|d.data[w+3]<<16|d.data[w+4]<<8|d.data[w+5];if(w+=6,E!==0||A!==0){w-=6,g.A0-=b;break}if(g.D3--,g.D3<0)return u}do{if(w+5>=d.data.length)break;let E=d.data[w]<<24|d.data[w+1]<<16|d.data[w+2]<<8|d.data[w+3];if(E=E&g.D4,E===0){w+=2;let A=d.data[w]<<24|d.data[w+1]<<16|d.data[w+2]<<8|d.data[w+3];if(w+=4,A=A&g.D5,A!==0&&(A=A<<D>>>0,g.A0+7<u.data.length)){const v=(u.data[g.A0+4]<<24|u.data[g.A0+5]<<16|u.data[g.A0+6]<<8|u.data[g.A0+7])^A;u.data[g.A0+4]=v>>>24&255,u.data[g.A0+5]=v>>>16&255,u.data[g.A0+6]=v>>>8&255,u.data[g.A0+7]=v&255}}else{w+=2;let A=d.data[w]<<24|d.data[w+1]<<16|d.data[w+2]<<8|d.data[w+3];if(w+=4,A=A&g.D5,A===0){if(E=E>>>p,g.A0+3<u.data.length){const v=(u.data[g.A0]<<24|u.data[g.A0+1]<<16|u.data[g.A0+2]<<8|u.data[g.A0+3])^E;u.data[g.A0]=v>>>24&255,u.data[g.A0+1]=v>>>16&255,u.data[g.A0+2]=v>>>8&255,u.data[g.A0+3]=v&255}}else{if(E=E>>>p,A=A<<D>>>0,g.A0+3<u.data.length){const v=(u.data[g.A0]<<24|u.data[g.A0+1]<<16|u.data[g.A0+2]<<8|u.data[g.A0+3])^E;u.data[g.A0]=v>>>24&255,u.data[g.A0+1]=v>>>16&255,u.data[g.A0+2]=v>>>8&255,u.data[g.A0+3]=v&255}if(g.A0+7<u.data.length){const v=(u.data[g.A0+4]<<24|u.data[g.A0+5]<<16|u.data[g.A0+6]<<8|u.data[g.A0+7])^A;u.data[g.A0+4]=v>>>24&255,u.data[g.A0+5]=v>>>16&255,u.data[g.A0+6]=v>>>8&255,u.data[g.A0+7]=v&255}}}g.A0+=b}while(g.instructions.dbra("D3"));return u}}function hp(a){return i=>{const{x:r,y:f,def:d,mask:u}=a;if(r<=-48||r>=I)return i;const c=_t(i);let o=lt-1-f;o>$t-1&&(o=$t-1);let h=f,g=0,S=0;f<0&&(g=-f*6,S=-f*6,o+=f,h=0),h+=St;const D=xt({data:{D3:o,D4:4294967295,D5:4294967295},address:{A0:ce(0,r,h)}});r<-32?(D.D4=0,D.D5=65535):r<-16?D.D4=0:r<0?D.D4=65535:r>=I-16?(D.D5=0,D.D4=D.D4^65535):r>=I-32?D.D5=0:r>=I-48&&(D.D5=D.D5^65535);const p=r&15,b=16-p,w=p,E=64;let A=g,_=S;for(;;){if(D.A0+=E,A+=6,_+5>=u.data.length)return c;const v=u.data[_]<<8|u.data[_+1],M=u.data[_+2]<<24|u.data[_+3]<<16|u.data[_+4]<<8|u.data[_+5];if(_+=6,v!==0||M!==0){_-=6,A-=6,D.A0-=E;break}if(D.D3--,D.D3<0)return c}for(;D.D3>=0&&!(_+3>=u.data.length);){let v=u.data[_]<<24|u.data[_+1]<<16|u.data[_+2]<<8|u.data[_+3];if(_+=4,v===0){if(A+=4,D.A0+=4,_+1<u.data.length){const M=u.data[_]<<8|u.data[_+1];if(_+=2,M===0)break;let U=M<<b>>>0;if(U=U&D.D5,U=~U>>>0,D.A0+3<c.data.length){const k=c.data[D.A0]<<24|c.data[D.A0+1]<<16|c.data[D.A0+2]<<8|c.data[D.A0+3];U=U&k}if(A+1<d.data.length){const k=d.data[A]<<8|d.data[A+1];A+=2;let G=k<<b>>>0;G=G&D.D5,U=U|G,D.A0+3<c.data.length&&(c.data[D.A0]=U>>>24&255,c.data[D.A0+1]=U>>>16&255,c.data[D.A0+2]=U>>>8&255,c.data[D.A0+3]=U&255)}}}else{const M=v&65535;if(v=v>>>w,v=v&D.D4,v=~v>>>0,D.A0+3<c.data.length){const W=c.data[D.A0]<<24|c.data[D.A0+1]<<16|c.data[D.A0+2]<<8|c.data[D.A0+3];v=v&W}let U=0;A+3<d.data.length&&(U=d.data[A]<<24|d.data[A+1]<<16|d.data[A+2]<<8|d.data[A+3]),A+=4;const k=U&65535;U=U>>>w,U=U&D.D4,v=v|U,D.A0+3<c.data.length&&(c.data[D.A0]=v>>>24&255,c.data[D.A0+1]=v>>>16&255,c.data[D.A0+2]=v>>>8&255,c.data[D.A0+3]=v&255),D.A0+=4;let G=0;if(_+1<u.data.length){const W=M,J=u.data[_]<<8|u.data[_+1];G=W<<16|J,_+=2}if(G=G<<b>>>0,G=G&D.D5,G=~G>>>0,D.A0+3<c.data.length){const W=c.data[D.A0]<<24|c.data[D.A0+1]<<16|c.data[D.A0+2]<<8|c.data[D.A0+3];G=G&W}let Q=0;if(A+1<d.data.length){const W=k,J=d.data[A]<<8|d.data[A+1];Q=W<<16|J,A+=2}Q=Q<<b>>>0,Q=Q&D.D5,G=G|Q,D.A0+3<c.data.length&&(c.data[D.A0]=G>>>24&255,c.data[D.A0+1]=G>>>16&255,c.data[D.A0+2]=G>>>8&255,c.data[D.A0+3]=G&255)}D.A0+=60,D.D3--}return c}}function nf(a){return i=>{const{x:r,y:f,def:d,height:u}=a,c=_t(i);let o=f,h=u,g=0;if(o<0?(g=-o*4,h+=o,o=0):o+h>lt&&(h=lt-o),h<=0)return c;const S=o+St,D=xt({data:{D3:h-1,D4:4294967295,D5:4294967295},address:{A0:ce(0,r,S)}});if(D.D3<0)return c;r<-16?D.D4=0:r<0?D.D4=65535:r>=I-16?(D.D4=D.D4^65535,D.D5=D.D5^65535):r>=I-32&&(D.D5=D.D5^65535);const p=r&15,b=16-p,w=p,E=64;let A=g;do{if(A+3>=d.data.length)break;let _=d.data[A]<<24|d.data[A+1]<<16|d.data[A+2]<<8|d.data[A+3];if(A+=4,_!==0){const v=_&65535;_=_>>>w;let M=v<<b&65535;if(_=_&D.D4,M=M&(D.D5&65535),D.A0+3<c.data.length){const k=(c.data[D.A0]<<24|c.data[D.A0+1]<<16|c.data[D.A0+2]<<8|c.data[D.A0+3])^_;c.data[D.A0]=k>>>24&255,c.data[D.A0+1]=k>>>16&255,c.data[D.A0+2]=k>>>8&255,c.data[D.A0+3]=k&255}if(M!==0&&D.A0+5<c.data.length){const k=(c.data[D.A0+4]<<8|c.data[D.A0+5])^M;c.data[D.A0+4]=k>>>8&255,c.data[D.A0+5]=k&255}}D.A0+=E}while(D.instructions.dbra("D3"));return c}}function yp(a){return i=>{const{craters:r,numcraters:f,scrnx:d,scrny:u,worldwidth:c,on_right_side:o,craterImages:h}=a;let g=i;const S=u-fa,D=u+lt+fa,p=d-fa,b=d+I+fa,w=Math.min(f,r.length);for(let E=0;E<w;E++){const A=r[E];if(A&&A.y>=S&&A.y<=D){if(A.x>=p&&A.x<b){const _=re({x:A.x,y:A.y,screenX:d,screenY:u}),v={width:32,height:Ln,data:_===0?h.background1:h.background2,rowBytes:4};g=nf({x:A.x-d-fa,y:A.y-u-fa,def:v,height:Ln})(g)}else if(o&&A.x<b-c){const _=re({x:A.x,y:A.y,screenX:d,screenY:u}),v={width:32,height:Ln,data:_===0?h.background1:h.background2,rowBytes:4};g=nf({x:A.x-d+c-fa,y:A.y-u-fa,def:v,height:Ln})(g)}}}return g}}function Jh(a){return i=>{const{fuels:r,scrnx:f,scrny:d,fuelSprites:u}=a;let c=i;const o=f-pr,h=f+(pr+I);for(const g of r)if(g){if(g.x>=1e4)break;if(g.x>o&&g.x<h){const S=g.y-d-pr;if(S>-32&&S<lt){const D=re({x:g.x,y:g.y,screenX:f,screenY:d});let p;g.currentfig>=Ol?p=u.emptyCell:p=u.getFrame(g.currentfig);const b={width:32,height:Hn,data:D===0?p.images.background1:p.images.background2,rowBytes:4};c=nf({x:g.x-f-pr,y:S,def:b,height:Hn})(c)}}}return c}}const{loadPlanet:eA}=Vi.actions;function af(a,i){const{globalx:r,globaly:f,worldwidth:d,worldwrap:u}=i;let c=f-a.y,o=r-a.x;return u&&(o>d>>1?o-=d:o<-(d>>1)&&(o+=d)),D3(0,0,o,c)}function Dy(a,i){let r=af(a,i);r+=11,r>=360&&(r-=360),r=Math.floor((r<<1)/45),r>=8&&(r-=8);let f=r-a.rot;return f<0&&(f+=8),f===0?0:f<4?1:-1}const gp=[[8,7,6,5,-1,-1,-1,11,10,9,8],[0,15,14,13,-1,-1,-1,3,2,1,0]],pp=[[8,7,6,5,-1,-1,-1,-1,-1,9,8],[-1,-1,-1,-1,-1,-1,-1,3,2,1,-1]];function Nr(a,i,r){if(a.type===Cr.N)return i>a.startx?4:a.kind===ue.BOUNCE?12:-1;const f=[0,0,4,2,1,0],d=a.up_down*f[a.type],u=a.starty+(d*(i-a.startx)>>1),c=r<u?1:0,o=5+a.type*a.up_down;return o<0||o>10?-1:a.kind===ue.BOUNCE?gp[c][o]:pp[c][o]}function Ue(a,i){return a=Math.trunc(a),i=Math.trunc(i),Math.trunc(a/i)}function da(a,i){return a=Math.trunc(a),i=Math.trunc(i),Math.imul(a,i)}const Dp=[0,0,4,2,1,0];function To(a,i,r){let f=a.lifecount;const d=r;let u=null,c=-1;const o=a.x8>>3,h=a.y8>>3;let g=a.x8+a.h*f>>3,S=a.y8+a.v*f>>3;for(const p of i){if(o<p.startx&&g<p.startx)break;if(p.kind!==ue.GHOST&&!(o>=p.endx&&g>=p.endx))if(p.type===Cr.N){const b=h+Ue(da(a.v,p.startx-o),a.h);if(b>=p.starty&&b<=p.starty+p.length){const w=Ue(p.startx-o<<3,a.h);w<f&&(f=w,c=Nr(p,o,h),u=p,g=a.x8+a.h*f>>3,S=a.y8+a.v*f>>3)}}else{const b=p.up_down*Dp[p.type],w=da(h-p.starty,2)-da(b,o-p.startx),E=da(S-p.starty,2)-da(b,g-p.startx);if(w<0&&E<0||w>0&&E>0)continue;if(a.h===0){if(o>=p.startx&&o<=p.endx){const A=p.starty+Ue(da(o-p.startx,b),2),_=Ue(A-h<<3,a.v);_<f&&(f=_,c=Nr(p,o,h),u=p,g=a.x8+a.h*f>>3,S=a.y8+a.v*f>>3)}}else{const A=Ue(a.v<<8,a.h);if(b<<7===A)continue;const _=(a.y8-(p.starty<<3)<<8)+(da(b,p.startx)<<10)-da(A,a.x8),v=(b<<7)-A,M=Ue(_,v),U=Ue(M,8);if(U>=p.startx&&U<=p.endx){const k=Ue(M-a.x8,a.h);k<f&&(f=k,c=Nr(p,o,h),u=p,g=a.x8+a.h*f>>3,S=a.y8+a.v*f>>3)}}}}let D=0;return u&&u.kind===ue.BOUNCE&&(D=d-f),{framesToImpact:f,strafedir:c,btime:D,hitlineId:(u==null?void 0:u.id)||""}}function vf(a,i,r,f,d,u){const c=f?i.filter(S=>S.id!==f):i,o=d<<3;let h=To(a,c,r);const g=a.x8+h.framesToImpact*a.h>>3;if(u){if(g<0){const S={...a,x8:a.x8+o};h=To(S,c,r)}else if(g>d){const S={...a,x8:a.x8-o};h=To(S,c,r)}}return{...a,x:a.x8>>3,y:a.y8>>3,lifecount:h.framesToImpact,strafedir:h.strafedir,btime:h.btime,hitlineId:h.hitlineId}}function Sp(a){return i=>{const r=Dy(a.bp,a);let f;if(r===0)f=af(a.bp,a);else{f=a.bp.rot*45>>1;const d=af(a.bp,a)-f;(d>90&&d<270||d<-90)&&(f+=180)}return f*=64,f=Math.floor(f/45),Sy({loangle:f-2,hiangle:f+2})(i)}}function Sy(a){return i=>{let r=Sn(a.hiangle-a.loangle+1)+a.loangle;r&=511;const f=r>>4;r&=15;const d=f+24&31,u=Gt.shotvecs[f]+(r*(Gt.shotvecs[f+1&31]-Gt.shotvecs[f])>>4),c=Gt.shotvecs[d]+(r*(Gt.shotvecs[d+1&31]-Gt.shotvecs[d])>>4);return{...i,h:u,v:c}}}function Ap(a){return i=>{const{bp:r,lifecount:f}=a,d=r.x+I3[r.kind][r.rot]<<3,u=r.y+P3[r.kind][r.rot]<<3;return{...i,x8:d,y8:u,x:d>>3,y:u>>3,lifecount:f,btime:0,hitlineId:"",origin:{x:r.x,y:r.y}}}}function mp(a){return i=>{const{screenx:r,screenr:f,screeny:d,screenb:u,bunkrecs:c,worldwidth:o}=a;let h=0,g;for(h=0;h<Gt.NUMSHOTS&&i[h].lifecount;h++);if(h===Gt.NUMSHOTS)return i;g=i[h];const S=r-Gt.SHOOTMARG,D=f+Gt.SHOOTMARG;let p=S;p<0?p+=o:p-=o;const b=p+(I+2*Gt.SHOOTMARG),w=d-Gt.SHOOTMARG,E=u+Gt.SHOOTMARG,A=new Array(hy.NUMBUNKERS).fill(0);let _=0;for(let J=0;J<c.length&&c[J].rot>=0;J++){const B=c[J];if(B.alive&&B.y>w&&B.y<E&&(B.x>S&&B.x<D||B.x>p&&B.x<b)){let ut=1;if(B.kind===gn.GENERATOR)ut=0;else if(B.kind===gn.DIFF)switch(B.rot&3){case 0:ut=0;break;case 1:case 3:ut=2;break;case 2:ut=1;break}A[J]=ut,_+=ut}}if(_===0)return i;let v=Sn(_),M=0;for(M=0;!((v-=A[M])<0);M++);const U=c[M],k=Sn(2),G=U.kind===gn.FOLLOW?Sp({bp:U,...a}):Sy({loangle:U.ranges[k].low,hiangle:U.ranges[k].high});let Q=Ap({bp:U,lifecount:Gt.BUNKSHLEN})(G(g));Q=vf(Q,a.walls,Q.lifecount+Q.btime,void 0,a.worldwidth,a.worldwrap);const W=[...i];W[h]=Q;for(let J=U.x;J<o<<1;J+=o)J>r&&J<f&&U.y>d&&U.y<u||J>r-or&&J<f+or&&U.y>d-or&&U.y<u+or;return W}}function vp(a){const i={...a};return i.x8-=Ue(i.h,3),i.y8-=Ue(i.v,3),i.x=i.x8>>3,i.y=i.y8>>3,i}function Bo(a,i,r,f,d){let u=vp(a);for(let c=0;c<8&&u.lifecount===0&&u.btime>0;c++){const o=Kh[u.strafedir],h=Kh[u.strafedir+12&15],g=u.h*o+u.v*h;u.h-=Ue(o*g,24*48),u.v-=Ue(h*g,24*48),u.lifecount=u.btime,u.btime=0,u.hitlineId="",u=vf(u,r,u.lifecount,i.id,f,d)}return u.lifecount===0&&(u.strafedir=-1),u}function $h(a,i){if(a.lifecount<=0)return a;const r={...a},f=i.worldwidth<<3;r.lifecount--;let d=r.x8+r.h,u=r.y8+r.v;return u<0&&(r.lifecount=0),d<0?i.worldwrap?d+=f:r.lifecount=0:d>=f&&(i.worldwrap?d-=f:r.lifecount=0),r.x8=d,r.y8=u,r.x=d>>3,r.y=u>>3,r}function Ay(a,i,r){const f=xt();return f.instructions.move_w("D2",r),f.instructions.move_w("D1",a),f.instructions.move_w("D0",i),f.instructions.muls("D0","D0"),f.instructions.muls("D1","D1"),f.instructions.muls("D2","D2"),f.instructions.add_w("D0","D1"),f.D0=0,f.instructions.cmp_w("D2","D1"),!f.instructions.bgt()}function bp(a,i){const r=a.x-Ri,f=a.x+Ri,d=a.y-Ri,u=a.y+Ri;let c=0;for(;c<i.length&&i[c].x<r;c++);for(;c<i.length&&i[c].x<f;c++){const o=i[c];if(o.alive&&o.y<u&&o.y>d&&Ay(o.x-a.x,o.y-a.y,Ri)&&(o.kind>=Ca||py(o.rot,o.x,o.y,a.x-(a.h>>3),a.y-(a.v>>3))))return{hit:!0,bunkerIndex:c}}return{hit:!1}}function bf(a,i,r){const f=xt();f.instructions.move_w("D0",r);const d=f.D0<<16>>16,u=a<<16>>16;if(d<u)return!1;const c=i<<16>>16;if(d<c)return!1;f.instructions.neg_w("D0");const o=f.D0<<16>>16;return!(o>u||o>c||(f.instructions.move_w("D1",a),f.instructions.move_w("D2",i),f.instructions.muls("D0","D0"),f.instructions.muls("D1","D1"),f.instructions.muls("D2","D2"),f.instructions.add_w("D2","D1"),f.instructions.cmp_w("D0","D1"),f.instructions.bgt()))}function wp(a,i,r){if(!r)return{hit:!1};const f=i.x-Bt,d=i.x+Bt,u=i.y-Bt,c=i.y+Bt;if(a.x<=f||a.x>=d||a.y<=u||a.y>=c)return{hit:!1};const o=a.x-i.x,h=a.y-i.y;return bf(o,h,Bt)?{hit:!0,activateShield:!0}:{hit:!1}}function Ih(a,i,r){return f=>{if(r<0)return f;let d=0,u=f[0].lifecount;for(let c=0;c<Af&&u>0;c++){const o=f[c];o.lifecount<u&&(d=c,u=o.lifecount)}return f.map((c,o)=>o===d?{x:a,y:i,lifecount:dy,rot:r}:c)}}const Gi=()=>({x:0,y:0,x8:0,y8:0,lifecount:0,v:0,h:0,strafedir:0,btime:0,hitlineId:"",justDied:!1,origin:{x:0,y:0}}),xp={shipshots:Array.from({length:Gt.NUMBULLETS},Gi),bunkshots:Array.from({length:Gt.NUMSHOTS},Gi),strafes:Array.from({length:Af},()=>({x:0,y:0,lifecount:0,rot:0})),pendingBunkerKills:[],selfHitShield:!1},Ir=mn({name:"shots",initialState:xp,reducers:{initShipshot:(a,i)=>{const{shielding:r,shiprot:f,dx:d,dy:u,globalx:c,globaly:o,walls:h,worldwidth:g,worldwrap:S}=i.payload;let D=0;for(D=0;D<Gt.NUMBULLETS&&a.shipshots[D].lifecount;D++);if(D<Gt.NUMBULLETS&&!r){const p=f+24&31;let b={...a.shipshots[D],h:Gt.shotvecs[f]+(d>>5),v:Gt.shotvecs[p]+(u>>5),x8:c<<3,y8:o<<3,lifecount:Gt.SHOTLEN,btime:0,strafedir:-1,hitlineId:"",justDied:!1,origin:{x:c,y:o}};if(b=vf(b,h,Gt.SHOTLEN,void 0,g,S),b.lifecount>0){const w=b.x8+Gt.shotvecs[f],E=b.y8+Gt.shotvecs[p];b={...b,x8:w,y8:E,x:w>>3,y:E>>3,lifecount:b.lifecount-1}}if(b.lifecount===0&&b.btime>0){const w=h.find(E=>E.id===b.hitlineId);w&&(b=Bo(b,w,h,g,S))}a.shipshots=a.shipshots.map((w,E)=>E===D?b:w)}},doStrafes:a=>{a.strafes=a.strafes.map(i=>i.lifecount>0?{...i,lifecount:i.lifecount-1}:i)},startStrafe:(a,i)=>{const{x:r,y:f,dir:d}=i.payload;let u=0,c=a.strafes[0].lifecount;for(let o=1;o<Af;o++)a.strafes[o].lifecount<c&&(c=a.strafes[o].lifecount,u=o);a.strafes[u]={x:r,y:f,lifecount:dy,rot:d}},moveShipshots:(a,i)=>{const{bunkers:r,shipPosition:f,shipAlive:d,walls:u,worldwidth:c,worldwrap:o}=i.payload;a.pendingBunkerKills=[],a.selfHitShield=!1,a.shipshots=a.shipshots.map(h=>{let g={...h,justDied:!1};if(h.lifecount<=0)return g;g=$h(g,{worldwidth:c,worldwrap:o});const S=bp(g,r);if(S.hit&&S.bunkerIndex!==void 0)return g.lifecount=0,g.btime=0,g.strafedir=-1,a.pendingBunkerKills.push(S.bunkerIndex),g;if(wp(g,f,d).hit)return a.selfHitShield=!0,g.lifecount=0,g.btime=0,g.strafedir=-1,g;if(g.lifecount===0&&g.btime>0){const p=u.find(b=>b.id===g.hitlineId);p&&(g=Bo(g,p,u,c,o))}return g.lifecount===0&&g.strafedir>=0&&(a.strafes=Ih(g.x,g.y,g.strafedir)(a.strafes)),g.lifecount===0&&h.lifecount>0&&(g.justDied=!0),g})},moveBullets:(a,i)=>{const{worldwidth:r,worldwrap:f,walls:d,shipGlobalX:u,shipGlobalY:c,shielding:o}=i.payload;a.bunkshots=a.bunkshots.map(h=>{let g={...h,justDied:!1};if(h.lifecount<=0)return g;if(o&&u!==void 0&&c!==void 0){const S=u-Mi,D=u+Mi,p=c-Mi,b=c+Mi;if(h.x>S&&h.x<D&&h.y>p&&h.y<b&&Ay(h.x-u,h.y-c,Mi))return g.lifecount=0,g.btime=0,g.strafedir=-1,g.justDied=!0,g}if(g=$h(g,{worldwidth:r,worldwrap:f}),g.lifecount===0&&g.btime>0){const S=d.find(D=>D.id===g.hitlineId);S&&(g.x8-=g.h,g.y8-=g.v,g.x=g.x8>>3,g.y=g.y8>>3,g=Bo(g,S,d,r,f))}else g.lifecount===0&&h.lifecount>0&&(g.justDied=!0);return g.lifecount===0&&g.strafedir>=0&&(a.strafes=Ih(g.x,g.y,g.strafedir)(a.strafes)),g})},bunkShoot:(a,i)=>{a.bunkshots=mp(i.payload)(a.bunkshots)},clearAllShots:a=>{a.shipshots=a.shipshots.map(()=>Gi()),a.bunkshots=a.bunkshots.map(()=>Gi()),a.strafes=a.strafes.map(()=>({x:0,y:0,lifecount:0,rot:0}))},clearBunkShots:a=>{a.bunkshots=a.bunkshots.map(()=>Gi())}}}),{initShipshot:nA,doStrafes:Ep,startStrafe:aA,moveShipshots:lA,moveBullets:_p,bunkShoot:Up,clearAllShots:Op,clearBunkShots:Tp}=Ir.actions;function Ph(a){return i=>{const{x:r,y:f,def:d,height:u}=a,c=_t(i);if(u<=0)return c;const o=f+St,h=xt({data:{},address:{A0:Sf(0,r,o)}}),g=r&7,S=63,D=u-1;for(let p=0;p<=D;p++){let b=d[p]&255;b=(b>>>g|b<<16-g)&65535,h.A0<c.data.length&&(c.data[h.A0]|=b&255),h.A0++,b=(b<<8|b>>>8)&65535,h.A0<c.data.length&&(c.data[h.A0]|=b&255),h.A0+=S}return c}}function Sr(a,i,r){const f=_t(r),u=(i+St)*f.rowBytes,c=Math.floor(a/8),o=a&7,h=192>>o,g=u+c,S=u+f.rowBytes+c;return g>=0&&g<f.data.length&&(f.data[g]|=h,o>=7&&c+1<f.rowBytes&&(f.data[g+1]|=128)),S>=0&&S<f.data.length&&(f.data[S]|=h,o>=7&&c+1<f.rowBytes&&(f.data[S+1]|=128)),f}const Bp=[24576,61440,61440,24576],Mp=[24576,36864,36864,24576];function t2(a){return i=>{const{x:r,y:f}=a,d=_t(i),u=f+St,c=xt({data:{D2:3},address:{A0:Oe(0,r,u)}}),h=16-(r&15);for(let g=0;g<4;g++){let S=Bp[g];S=S<<h,S=~S>>>0;let D=Mp[g];D=D<<h;let p=0;c.A0<d.data.length-3&&(p=d.data[c.A0]<<24|d.data[c.A0+1]<<16|d.data[c.A0+2]<<8|d.data[c.A0+3]);const b=p&S|D;c.A0<d.data.length-3&&(d.data[c.A0]=b>>>24&255,d.data[c.A0+1]=b>>>16&255,d.data[c.A0+2]=b>>>8&255,d.data[c.A0+3]=b&255),c.A0+=64}return d}}const Ni=8,e2=3;function Rp(a){return i=>{const{x:r,y:f,rot:d,scrnx:u,scrny:c,worldwidth:o}=a;let h=r-e2-u,g=f-e2-c;if(g>=0&&g<lt-Ni){if(h>=0&&h<I-Ni){const S=qr[d];if(S){const D=Array.from(S);return Ph({x:h,y:g,def:D,height:Ni})(i)}}else if(h+=o,h>=0&&h<I-Ni){const S=qr[d];if(S){const D=Array.from(S);return Ph({x:h,y:g,def:D,height:Ni})(i)}}}return i}}const Np=9,kp=8,zp=0,Cp=8,Hp=8,Lp=12,Gp=296,Yp=12,Xp=384,jp=12,qp=456,Fp=12,Zp=12,Qp=216,Kp=224,Vp=[100,0,100,400,500],Wp=[10,200,300,200],Jp=15;function $p(a,i){return a===Zt.DIFF?Wp[i&3]:Vp[a]??0}const Ip={score:0,planetbonus:0,currentlevel:1,curmessage:null},pn=mn({name:"status",initialState:Ip,reducers:{decrementBonus:a=>{a.planetbonus>0&&(a.planetbonus-=10,a.planetbonus<0&&(a.planetbonus=0))},addScore:(a,i)=>{a.score+=i.payload},scoreBunker:(a,i)=>{const r=$p(i.payload.kind,i.payload.rot);a.score+=r},scoreFuel:a=>{a.score+=Jp},setMessage:(a,i)=>{a.curmessage=i.payload},setPlanetBonus:(a,i)=>{a.planetbonus=i.payload},nextLevel:a=>{a.currentlevel++},initStatus:a=>{a.score=0,a.planetbonus=0,a.currentlevel=1,a.curmessage=null}}}),{setMessage:iA,setPlanetBonus:uA,nextLevel:rA,initStatus:cA}=pn.actions;function Ga(a){return i=>{const{x:r,y:f,digitSprite:d,statusBarTemplate:u}=a,c=_t(i),o=Math.floor(r/8),h=f*64;let g=h+o,S=h+o;const D=Math.floor(Np/3);let p=0;for(let b=0;b<D;b++){for(let w=0;w<3;w++){const E=g+w*64,A=S+w*64;if(E<c.data.length&&A<u.data.length&&p<d.data.length){const _=u.data[A]||0,v=d.data[p]||0,M=_^v;c.data[E]=M}p++}g+=64*3,S+=64*3}return c}}function Mo(a){return i=>{const{statusBarTemplate:r}=a,f=_t(i),d=Math.min(Ki,r.data.length);for(let u=0;u<d&&u<f.data.length;u++)f.data[u]=r.data[u];return f}}function wf(a){return i=>{const{x:r,y:f,value:d,spriteService:u}=a,c=u.getStatusBarTemplate();let o=i,h=Math.abs(d),g=r;do{const D=h%10,p=u.getDigitSprite(D.toString());p&&(o=Ga({x:g,y:f,digitSprite:p.bitmap,statusBarTemplate:c})(o)),h=Math.floor(h/10),g-=8}while(h>0&&g>=0);const S=u.getDigitSprite(" ");return S&&g>=0&&(o=Ga({x:g,y:f,digitSprite:S.bitmap,statusBarTemplate:c})(o)),o}}function Pp(a){return i=>{const{x:r,y:f,value:d,spriteService:u}=a,c=u.getStatusBarTemplate();let o=i,h=Math.abs(d),g=r;do{const D=h%10,p=u.getDigitSprite(D.toString());p&&(o=Ga({x:g,y:f,digitSprite:p.bitmap,statusBarTemplate:c})(o)),h=Math.floor(h/10),g-=8}while(h>0&&g>=0);const S=u.getDigitSprite(" ");return S&&g>=0&&(o=Ga({x:g,y:f,digitSprite:S.bitmap,statusBarTemplate:c})(o)),o}}function t6(a){return i=>{const{x:r,y:f,text:d,spriteService:u}=a,c=u.getStatusBarTemplate();if(!d)return i;let o=i,h=r;for(const g of d){const S=g.toUpperCase();if(S>="A"&&S<="Z"){const D=u.getDigitSprite(S);D&&(o=Ga({x:h,y:f,digitSprite:D.bitmap,statusBarTemplate:c})(o)),h+=8}else if(g===" "){const D=u.getDigitSprite(" ");D&&(o=Ga({x:h,y:f,digitSprite:D.bitmap,statusBarTemplate:c})(o)),h+=8}}return o}}function e6(a){return i=>{const{fuel:r,spriteService:f}=a;return wf({x:Gp,y:Yp,value:r,spriteService:f})(i)}}function n6(a){return i=>{const{score:r,spriteService:f}=a,d=r<1e6?Qp:Kp;return Pp({x:d,y:Zp,value:r,spriteService:f})(i)}}function a6(a){return i=>{const{bonus:r,spriteService:f}=a;return wf({x:Xp,y:jp,value:r,spriteService:f})(i)}}function l6(a){return i=>{const{lives:r,spriteService:f}=a,d=f.getStatusBarTemplate();let u=i,c=kp;const o=f.getDigitSprite("SHIP");if(o)for(let h=0;h<r&&c<150;h++,c+=Cp)u=Ga({x:c,y:zp,digitSprite:o.bitmap,statusBarTemplate:d})(u);return u}}function i6(a){return i=>{const{level:r,spriteService:f}=a;return wf({x:qp,y:Fp,value:r,spriteService:f})(i)}}function u6(a){return i=>{const{message:r,spriteService:f}=a;return r?t6({x:Hp,y:Lp,text:r,spriteService:f})(i):i}}function Ro(a){return i=>{const{fuel:r,lives:f,score:d,bonus:u,level:c,message:o,spriteService:h}=a;let g=i;return g=e6({fuel:r,spriteService:h})(g),g=l6({lives:f,spriteService:h})(g),g=n6({score:d,spriteService:h})(g),g=a6({bonus:u,spriteService:h})(g),g=i6({level:c,spriteService:h})(g),g=u6({message:o,spriteService:h})(g),g}}function my(a){const{x:i,y:r,gravx:f,gravy:d,gravityPoints:u,worldwidth:c,worldwrap:o}=a;let h=f,g=d;const S=c>>1;for(const D of u){let p=i-D.x;o&&(p>S?p-=c:p<-S&&(p+=c));const b=r-D.y;let w=p*p+b*b,E=p*D.str,A=b*D.str;for(w=w>>4,E=E<<4,A=A<<4;w>32767;)w=w>>4,E=E>>4,A=A>>4;w>=8&&(h+=Math.floor(E/w),g+=Math.floor(A/w))}return{xg:h,yg:g}}var et=(a=>(a[a.NO_SOUND=0]="NO_SOUND",a[a.FIRE_SOUND=1]="FIRE_SOUND",a[a.EXP1_SOUND=2]="EXP1_SOUND",a[a.THRU_SOUND=3]="THRU_SOUND",a[a.BUNK_SOUND=4]="BUNK_SOUND",a[a.SOFT_SOUND=5]="SOFT_SOUND",a[a.SHLD_SOUND=6]="SHLD_SOUND",a[a.FUEL_SOUND=7]="FUEL_SOUND",a[a.EXP2_SOUND=8]="EXP2_SOUND",a[a.EXP3_SOUND=9]="EXP3_SOUND",a[a.CRACK_SOUND=10]="CRACK_SOUND",a[a.FIZZ_SOUND=11]="FIZZ_SOUND",a[a.ECHO_SOUND=12]="ECHO_SOUND",a))(et||{});const r6={discrete:[],continuous:{thrusting:!1,shielding:!1},lastContinuous:{thrusting:!1,shielding:!1},enabled:!0,volume:.5,currentSound:et.NO_SOUND},vy=mn({name:"sound",initialState:r6,reducers:{resetFrame:a=>{a.discrete=[],a.lastContinuous={thrusting:a.continuous.thrusting,shielding:a.continuous.shielding}},playDiscrete:(a,i)=>{a.discrete.includes(i.payload)||a.discrete.push(i.payload)},setThrusting:(a,i)=>{a.continuous.thrusting=i.payload},setShielding:(a,i)=>{a.continuous.shielding=i.payload},setVolume:(a,i)=>{a.volume=Math.max(0,Math.min(1,i.payload))},toggleSound:a=>{a.enabled=!a.enabled,a.enabled||(a.currentSound=et.NO_SOUND)},setEnabled:(a,i)=>{a.enabled=i.payload,a.enabled||(a.currentSound=et.NO_SOUND)},setCurrentSound:(a,i)=>{a.currentSound=i.payload},startSound:(a,i)=>{a.currentSound=i.payload},stopSound:a=>{a.currentSound=et.NO_SOUND}}}),{resetFrame:c6,playDiscrete:yn,setThrusting:Yi,setShielding:Xi,setVolume:sA,toggleSound:oA,setEnabled:fA,setCurrentSound:dA,startSound:hA,stopSound:yA}=vy.actions,s6=vy.reducer,o6=a=>(i,r)=>{const{controlsPressed:f}=a,d=new Set(f),u=r(),{ship:c,planet:o}=u,h=my({x:c.globalx,y:c.globaly,gravx:o.gravx,gravy:o.gravy,gravityPoints:o.gravityPoints||[],worldwidth:o.worldwidth,worldwrap:o.worldwrap}),g={x:h.xg,y:h.yg};i(Jt.actions.shipControlMovement({controlsPressed:f,gravity:g}));const S=r(),{walls:D}=S,p=S.ship,b=S.planet,w=d.has($e.THRUST)&&p.fuel>0,E=d.has($e.SHIELD)&&p.fuel>0,{globalx:A,globaly:_}=p,v=Object.values(D.updatedWalls.length>0?D.updatedWalls:D.organizedWalls);if(E){i(Jt.actions.shieldActivate()),i(Jt.actions.consumeFuel(Z3));const M=[];if(b.fuels.forEach((U,k)=>{if(U.alive){const G=A-U.x,Q=_-U.y;bf(G,Q,K3)&&M.push(k)}}),M.length>0){i(Vi.actions.collectFuelCells(M)),i(Jt.actions.collectFuel(M.length));for(let U=0;U<M.length;U++)i(pn.actions.scoreFuel());i(yn(et.FUEL_SOUND))}}else i(Jt.actions.shieldDeactivate());E?(i(Xi(!0)),i(Yi(!1))):w?(i(Yi(!0)),i(Xi(!1))):(i(Yi(!1)),i(Xi(!1))),d.has($e.FIRE)?p.firing||(i(Jt.actions.setFiring(!0)),i(Ir.actions.initShipshot({shielding:p.shielding,shiprot:p.shiprot,dx:p.dx,dy:p.dy,globalx:A,globaly:_,walls:v,worldwidth:b.worldwidth,worldwrap:b.worldwrap})),p.shielding||i(yn(et.FIRE_SOUND))):i(Jt.actions.setFiring(!1))},lf=a=>i=>{const{x:r,y:f,len:d,u_d:u}=a;let c={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},o;u===4567?o=32768:(r&15)===15?(r<I-1&&(c=lf({x:r+1,y:f,len:d,u_d:4567})(c)),o=1):o=3<<14-(r&15);let h=ce(0,r,f);const g=d>>3,S=d&7;for(let D=0;D<g;D++)Cn(c,h,o),Cn(c,h+64*1,o),Cn(c,h+64*2,o),Cn(c,h+64*3,o),Cn(c,h+64*4,o),Cn(c,h+64*5,o),Cn(c,h+64*6,o),Cn(c,h+64*7,o),h+=64*8;for(let D=0;D<=S;D++)Cn(c,h,o),h+=64;return c};function Cn(a,i,r){if(i>=0&&i+1<a.data.length){const f=r>>>8&255,d=r&255;a.data[i]|=f,a.data[i+1]|=d}}const n2=3221225472,a2=4290772992,f6=a=>i=>{const{line:r,scrx:f,scry:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},c=r.startx-f,o=r.starty-d,h=0,g=r.length+1;if(o+h<0&&(h=-o),o+g>lt&&(g=lt-o),h>=g)return u;let S=r.h1??h;S<h&&(S=h),S>g&&(S=g);let D=r.h2??S;D<S&&(D=S),D>g&&(D=g),o+=St,c>=0&&c<I&&(S>h&&(u=lf({x:c,y:o+h,len:S-h-1,u_d:An.DN})(u)),g>D+1&&(u=lf({x:c,y:o+D,len:g-D-1,u_d:An.DN})(u))),o+=S;const p=D-S;if(p<=0)return u;const b=re({screenX:f,screenY:d,objectX:c,objectY:o}),E=te(b)&a2^n2,A=re({screenX:f,screenY:d,objectX:c,objectY:o+1}),v=te(A)&a2^n2;let M=Oe(0,c,o);const U=c&15;let k=E>>>U,G=v>>>U,Q=p>>2;const W=p&3;let J=!1;c<0?(M+=2,J=!0):(c>=I-16||(c&15)<=6)&&(k=l2(k),G=l2(G),J=!0);const B=64*4;for(let ut=0;ut<Q;ut++)J?(dn(u,M,k),dn(u,M+64,G),dn(u,M+64*2,k),dn(u,M+64*3,G)):(fn(u,M,k),fn(u,M+64,G),fn(u,M+64*2,k),fn(u,M+64*3,G)),M+=B;if(W>0)switch(W){case 3:J?(dn(u,M,k),dn(u,M+64,G),dn(u,M+128,k)):(fn(u,M,k),fn(u,M+64,G),fn(u,M+128,k));break;case 2:J?(dn(u,M,k),dn(u,M+64,G)):(fn(u,M,k),fn(u,M+64,G));break;case 1:J?dn(u,M,k):fn(u,M,k);break}return u};function l2(a){return(a>>>16|a<<16)>>>0}function fn(a,i,r){if(i>=0&&i+3<a.data.length){const f=r>>>24&255,d=r>>>16&255,u=r>>>8&255,c=r&255;a.data[i]^=f,a.data[i+1]^=d,a.data[i+2]^=u,a.data[i+3]^=c}}function dn(a,i,r){if(i>=0&&i+1<a.data.length){const f=r>>>8&255,d=r&255;a.data[i]^=f,a.data[i+1]^=d}}const uf=a=>i=>{const{x:r,y:f,len:d,dir:u}=a;let c=d;const o={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};r+(c>>1)+1>=I&&(c-=1+(c&1));let h=sy(0,r,f);const g=r&7;let S=192>>g;const D=cy(64,u);let p=c;if(g!==7)for(;;){if(h>=0&&h<o.data.length&&(o.data[h]|=S),h+=D,p--,p<0)return o;h>=0&&h<o.data.length&&(o.data[h]|=S),h+=D;const b=S&1;if(S=(S>>1|b<<7)&255,!(b===0&&(p--,p>=0))){if(p--,p<0)return o;break}}if(S=128,h>=0&&h<o.data.length&&(o.data[h]|=1),h+1>=0&&h+1<o.data.length&&(o.data[h+1]|=128),h+=D,p--,p<0||(h>=0&&h<o.data.length&&(o.data[h]|=1),h+1>=0&&h+1<o.data.length&&(o.data[h+1]|=128),h+=D,p--,p<0))return o;if(h++,D<0)for(;p-=16,!(p<0);)h>=0&&h<o.data.length&&(o.data[h]|=192),h-64>=0&&h-64<o.data.length&&(o.data[h-64]|=192),h-128>=0&&h-128<o.data.length&&(o.data[h-128]|=96),h-192>=0&&h-192<o.data.length&&(o.data[h-192]|=96),h-256>=0&&h-256<o.data.length&&(o.data[h-256]|=48),h-320>=0&&h-320<o.data.length&&(o.data[h-320]|=48),h-384>=0&&h-384<o.data.length&&(o.data[h-384]|=24),h-448>=0&&h-448<o.data.length&&(o.data[h-448]|=24),h-512>=0&&h-512<o.data.length&&(o.data[h-512]|=12),h-576>=0&&h-576<o.data.length&&(o.data[h-576]|=12),h-640>=0&&h-640<o.data.length&&(o.data[h-640]|=6),h-704>=0&&h-704<o.data.length&&(o.data[h-704]|=6),h-768>=0&&h-768<o.data.length&&(o.data[h-768]|=3),h-832>=0&&h-832<o.data.length&&(o.data[h-832]|=3),h-896>=0&&h-896<o.data.length&&(o.data[h-896]|=1),h-895>=0&&h-895<o.data.length&&(o.data[h-895]|=128),h-960>=0&&h-960<o.data.length&&(o.data[h-960]|=1),h-959>=0&&h-959<o.data.length&&(o.data[h-959]|=128),h-=64*16-1;else for(;p-=16,!(p<0);)h>=0&&h<o.data.length&&(o.data[h]|=192),h+64>=0&&h+64<o.data.length&&(o.data[h+64]|=192),h+128>=0&&h+128<o.data.length&&(o.data[h+128]|=96),h+192>=0&&h+192<o.data.length&&(o.data[h+192]|=96),h+256>=0&&h+256<o.data.length&&(o.data[h+256]|=48),h+320>=0&&h+320<o.data.length&&(o.data[h+320]|=48),h+384>=0&&h+384<o.data.length&&(o.data[h+384]|=24),h+448>=0&&h+448<o.data.length&&(o.data[h+448]|=24),h+512>=0&&h+512<o.data.length&&(o.data[h+512]|=12),h+576>=0&&h+576<o.data.length&&(o.data[h+576]|=12),h+640>=0&&h+640<o.data.length&&(o.data[h+640]|=6),h+704>=0&&h+704<o.data.length&&(o.data[h+704]|=6),h+768>=0&&h+768<o.data.length&&(o.data[h+768]|=3),h+832>=0&&h+832<o.data.length&&(o.data[h+832]|=3),h+896>=0&&h+896<o.data.length&&(o.data[h+896]|=1),h+897>=0&&h+897<o.data.length&&(o.data[h+897]|=128),h+960>=0&&h+960<o.data.length&&(o.data[h+960]|=1),h+961>=0&&h+961<o.data.length&&(o.data[h+961]|=128),h+=64*16+1;for(p+=16,S=192;;){if(h>=0&&h<o.data.length&&(o.data[h]|=S),h+=D,p--,p<0)return o;if(h>=0&&h<o.data.length&&(o.data[h]|=S),h+=D,S=S>>1&255,p--,!(p>=0)){if(S!==0)break;h-=D,h+1>=0&&h+1<o.data.length&&(o.data[h+1]|=128),h-=D,h+1>=0&&h+1<o.data.length&&(o.data[h+1]|=128);break}}return o},i2=4278190080,u2=3221225472,d6=a=>i=>{const{line:r,scrx:f,scry:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},c=r.startx-f,o=r.starty-d,h,g,S,D,p,b,w,E,A,_,v,M,U,k;_=0,k=r.length+1,c+(_>>1)<0&&(_=-c<<1),o+_<0&&(_=-o),_&1&&_++,c+(k>>1)>I-1&&(k=I-1-c<<1),o+k>lt&&(k=lt-o),_>k&&(_=k),v=r.h1??0,v<_&&(v=_),v>k&&(v=k),U=r.h2??0,U<_&&(U=_),U>k&&(U=k),M=U,c+(M>>1)>I-8&&(M=I-8-c<<1,M&1&&M--),M<v&&(M=v),c>=0?E=0:(A=r.h1??0,c+(A>>1)<-7&&(A=-7-c<<1),o+A<0&&(A=-o),A&1&&A++,E=_-A,b=c+(A>>1)+7,w=o+St+A),o+=St,D=v-_,h=M-v,p=U-M,D>0&&(u=uf({x:c+(_>>1),y:o+_,len:D-1,dir:An.DN})(u)),k-U>1&&(u=uf({x:c+(U>>1),y:o+U,len:k-U-1,dir:An.DN})(u)),c+=v>>1,o+=v;const G=re({screenX:f,screenY:d,objectX:c,objectY:o});g=te(G)&i2^u2;const W=re({screenX:f,screenY:d,objectX:c,objectY:o+1});S=te(W)&i2^u2;const B=xt({data:{D0:g,D1:S,D2:128,D3:0,D7:h,D6:c&15},address:{A0:Oe(0,c,o)}});B.D0=B.instructions.ror_l(B.D0,B.D6),B.D1=B.instructions.ror_l(B.D1,B.D6),B.D7-=1;let ut="";B.D7<0?ut="doend":ut="enterq";t:for(;;)switch(ut){case"quick":{if(B.instructions.eor_l(u.data,B.A0,B.D0),B.instructions.eor_l(u.data,B.A0+64,B.D1),B.D0=B.instructions.ror_l(B.D0,1),B.D1=B.instructions.ror_l(B.D1,1),B.instructions.eor_l(u.data,B.A0+64*2,B.D1),B.instructions.eor_l(u.data,B.A0+64*3,B.D0),B.D0=B.instructions.ror_l(B.D0,1),B.D1=B.instructions.ror_l(B.D1,1),B.A0+=64*4,B.instructions.tst_b(B.D1),B.instructions.getFlag("zero")){ut="enterq";continue t}B.D0=B.instructions.swap(B.D0),B.D1=B.instructions.swap(B.D1),B.A0+=2,ut="enterq";continue t}case"enterq":{if(B.D7-=4,B.D7>=0){ut="quick";continue t}B.D7+=4,ut="loop1";continue t}case"loop1":{if(B.instructions.eor_l(u.data,B.A0,B.D0),B.D7-=1,B.D7<0){ut="leave";continue t}if(B.instructions.eor_l(u.data,B.A0+64,B.D1),B.A0+=B.D2,B.D0=B.instructions.ror_l(B.D0,1),B.D1=B.instructions.ror_l(B.D1,1),B.D3=B.D0,B.D0=B.D1,B.D1=B.D3,B.instructions.tst_b(B.D1),B.instructions.dbne("D7")){ut="loop1";continue t}if(B.instructions.getFlag("zero")){ut="doend";continue t}if(B.D0=B.instructions.swap(B.D0),B.D1=B.instructions.swap(B.D1),B.A0+=2,B.instructions.dbra("D7")){ut="loop1";continue t}ut="leave";continue t}case"doend":{if(B.D0=B.instructions.swap(B.D0),B.D1=B.instructions.swap(B.D1),B.D7=p,B.D7-=1,B.D7<0){ut="leave";continue t}ut="loop2";continue t}case"loop2":{for(;;){if(B.instructions.eor_w(u.data,B.A0,B.D0),B.D0=B.D0&4294901760|B.instructions.lsr_w(B.D0&65535,1),B.D7-=1,B.D7<0){ut="leave";break}B.instructions.eor_w(u.data,B.A0+64,B.D1),B.D1=B.D1&4294901760|B.instructions.lsr_w(B.D1&65535,1);const Dt=B.D0;if(B.D0=B.D1,B.D1=Dt,B.A0+=B.D2,!B.instructions.dbra("D7")){ut="leave";break}}continue t}case"leave":break t}if(h=E,h>0){c=b,o=w,B.A0=ce(0,c,o),B.D0=32767,B.D0=B.instructions.lsr_w(B.D0,c),h>>=1,B.D7=h;do B.instructions.and_w(u.data,B.A0,B.D0),B.instructions.and_w(u.data,B.A0+64,B.D0),B.D0=B.instructions.lsr_w(B.D0,1),B.A0+=128;while(B.instructions.dbra("D7"))}return u},Fr=a=>i=>{const r={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};let{x:f,y:d,len:u,dir:c}=a;f+u+1>=I&&u--;const o=xt();o.A0=sy(0,f,d),f=f&7;let h=192>>f&255,g=u;if(g<0)return r;let S=64,D=64*8;if(c<=0&&(S=-S,D=-D),D+=1,h!==1){for(;;){r.data[o.A0]|=h,o.A0+=S;const b=h&1;if(h=h>>1&255,b===0){if(g--,g<0)return r}else break}if(g--,g<0)return r}if(r.data[o.A0]|=h,o.A0++,r.data[o.A0]|=128,o.A0+=S,g--,g<0)return r;const p=Math.floor(g/8)-1;if(g=g&7,p>=0)if(c>0)for(let b=0;b<=p;b++)r.data[o.A0]|=192,r.data[o.A0+64*1]|=96,r.data[o.A0+64*2]|=48,r.data[o.A0+64*3]|=24,r.data[o.A0+64*4]|=12,r.data[o.A0+64*5]|=6,r.data[o.A0+64*6]|=3,r.data[o.A0+64*7]|=1,r.data[o.A0+64*7+1]|=128,o.A0+=D;else for(let b=0;b<=p;b++)r.data[o.A0]|=192,r.data[o.A0-64*1]|=96,r.data[o.A0-64*2]|=48,r.data[o.A0-64*3]|=24,r.data[o.A0-64*4]|=12,r.data[o.A0-64*5]|=6,r.data[o.A0-64*6]|=3,r.data[o.A0-64*7]|=1,r.data[o.A0-64*7+1]|=128,o.A0+=D;for(h=192;g>=0;){r.data[o.A0]|=h&255,o.A0+=S;const b=h&1;if(h=(h>>1|b<<15)&65535,b===0){if(g--,g<0)break}else{if(g--,g<0)break;r.data[o.A0]|=h&255,o.A0++,h=(h<<8|h>>8)&65535}}return r},h6=4160749568,y6=3221225472,g6=a=>i=>{const{line:r,scrx:f,scry:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},c=r.startx-f,o=r.starty-d,h,g,S,D,p,b,w,E;if(D=0,E=r.length+1,c+D<0&&(D=-c),o+D<0&&(D=-o),c+E>I&&(E=I-c),o+E>lt&&(E=lt-o),D>=E||(w=r.h2??E,w>E&&(w=E),w<D&&(w=D),p=r.h1??D,p<D&&(p=D),p>w&&(p=w),b=w,c+b>I-16&&(b=I-16-c),b<p&&(b=p),o+=St,h=b-p,S=w-b,p>D&&(u=Fr({x:c+D,y:o+D,len:p-D-1,dir:An.DN})(u)),E>w&&(u=Fr({x:c+w,y:o+w,len:E-w-1,dir:An.DN})(u)),c+=p,o+=p,h<=0&&S<=0))return u;const A=re({screenX:f,screenY:d,objectX:c,objectY:o});g=te(A)&h6^y6;const v=xt({data:{D0:g,D2:64,D7:h},address:{A0:Oe(0,c,o)}}),M=c&15;if(v.D0=v.instructions.ror_l(v.D0,M),v.D7-=1,v.D7>=0)t:for(;;){v.instructions.eor_l(u.data,v.A0,v.D0),v.A0+=v.D2;const U=v.D0&1;if(v.D0=v.instructions.ror_l(v.D0,1),U===0&&(v.D7--,v.D7>=0)||(v.D0=v.instructions.swap(v.D0),v.A0+=2,v.D7--,v.D7>=0))continue t;v.instructions.tst_b(v.D0),v.instructions.getFlag("zero")?v.D0=v.instructions.swap(v.D0):v.A0-=2;break t}else v.D0=v.instructions.swap(v.D0);if(v.D7=S,v.D7-=1,v.D7>=0)do v.instructions.eor_w(u.data,v.A0,v.D0),v.D0=v.D0&4294901760|v.instructions.lsr_w(v.D0&65535,1),v.A0+=v.D2;while(v.instructions.dbra("D7"));return u};function r2(a,i,r,f){let d=Oe(0,i,r),c=4026531840>>>(i&15);const o=(f>>1)-1;for(let h=0;h<=o;h++)p6(a,d,c),d+=64,c>>>=2}function p6(a,i,r){if(i>=0&&i+3<a.data.length){const f=r>>>24&255,d=r>>>16&255,u=r>>>8&255,c=r&255;a.data[i]|=f,a.data[i+1]|=d,a.data[i+2]|=u,a.data[i+3]|=c}}const c2=4227858432,s2=1006632960,D6=a=>i=>{const{line:r,scrx:f,scry:d}=a,u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};let c=r.startx-f,o=r.starty-d,h,g,S,D,p,b,w,E;if(S=0,b=r.length-1,c+S<2&&(S=2-c),o+(S>>1)<0&&(S=-o<<1),S&1&&S++,c+b>I-2&&(b=I-2-c),o+(b>>1)>lt&&(b=lt-o<<1),b&1&&b--,b<=S)return u;D=12,D<S&&(D=S),D>b&&(D=b),p=r.length-5,p>b&&(p=b),p<D&&(p=D),o+=St,w=c+S,E=o+(S>>1),p<b&&r2(u,c+p,o+(p>>1),b-p),c+=D-2,o+=D>>1;const A=re({screenX:f,screenY:d,objectX:c,objectY:o});h=te(A)&c2^s2;const v=re({screenX:f,screenY:d,objectX:c,objectY:o+1});if(g=te(v)&c2^s2,D<p){const U=xt({data:{D0:0,D1:h,D2:g,D3:0},address:{A0:ce(0,c,o)}});U.D0=c,U.D0&=15,U.D1=U.instructions.lsr_l(U.D1,U.D0),U.D2=U.instructions.lsr_l(U.D2,U.D0),U.D2=U.instructions.lsr_l(U.D2,2),U.D3=p-D>>1;let k="enterfa";t:for(;;)switch(k){case"fast":{if(U.instructions.eor_l(u.data,U.A0,U.D1),U.instructions.eor_l(u.data,U.A0+64,U.D2),U.D1=U.instructions.lsr_l(U.D1,4),U.D2=U.instructions.lsr_l(U.D2,4),U.instructions.eor_l(u.data,U.A0+64*2,U.D1),U.instructions.eor_l(u.data,U.A0+64*3,U.D2),U.D1=U.instructions.lsr_l(U.D1,4),U.D2=U.instructions.lsr_l(U.D2,4),U.A0+=64*4,U.instructions.tst_b(U.D2),U.instructions.getFlag("zero")){k="enterfa";continue t}U.D1=U.instructions.swap(U.D1),U.D2=U.instructions.swap(U.D2),U.A0+=2,k="enterfa";continue t}case"enterfa":{if(U.D3-=4,U.D3>=0){k="fast";continue t}U.D3+=4,k="enter1";continue t}case"loop1":{if(U.instructions.eor_l(u.data,U.A0,U.D1),U.D3-=1,U.D3<0){k="out";continue t}U.instructions.eor_l(u.data,U.A0+64,U.D2),U.A0+=128,U.D1=U.instructions.lsr_l(U.D1,4),U.D2=U.instructions.lsr_l(U.D2,4),k="enter1";continue t}case"enter1":{if(U.instructions.dbra("D3")){k="loop1";continue t}k="out";continue t}case"out":break t}}return S<D&&r2(u,w,E,D-S),u},o2=a=>i=>{const{x:r,y:f,len:d}=a,u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},c=f+1<yf;let o=ce(0,r,f);const h=r&15;if(h+d<16){let S=65535;S>>>=1,S>>>=d,S=S6(S,h),S=~S&65535,Ar(u,o,S),c&&Ar(u,o+64,S)}else{let S=65535>>>h;Ar(u,o,S),c&&Ar(u,o+64,S),o+=2;let D=d-15+h;for(;D>=32;)mr(u,o,4294967295),c&&mr(u,o+64,4294967295),o+=4,D-=32;if(D>0){const p=~(4294967295>>>D);mr(u,o,p),c&&mr(u,o+64,p)}}return u};function S6(a,i){return i=i%16,i===0?a:(a>>>i|a<<16-i)&65535}function Ar(a,i,r){if(i>=0&&i+1<a.data.length){const f=r>>>8&255,d=r&255;a.data[i]|=f,a.data[i+1]|=d}}function mr(a,i,r){if(i>=0&&i+3<a.data.length){const f=r>>>24&255,d=r>>>16&255,u=r>>>8&255,c=r&255;a.data[i]|=f,a.data[i+1]|=d,a.data[i+2]|=u,a.data[i+3]|=c}}const A6=a=>i=>{const{line:r,scrx:f,scry:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};const c=[-1,-1,0,0,0,0];let o=0,h=r.startx-f,g=r.starty-d,S=0,D=r.length+1,p=6;if(h+S<0&&(S=-h),h+D>I&&(D=I-h),S>=D)return u;let b=16;b<S?b=S:b>D&&(b=D);let w=r.h2??0;if(w>r.length&&(w=r.length),w<b&&(w=b),w>D&&(w=D),g<0?(o-=g,p+=g,g=0):g>lt-6&&(p=lt-g),p--,p<0)return u;g+=St,g+p>=St+5&&g<yf&&(b>S&&(u=o2({x:h+S,y:g,len:b-S-1})(u)),D>w&&(u=o2({x:h+w,y:g,len:D-w-1})(u)));let E=w-b-1;if(E<0)return u;h+=b;const A=xt(),_=A.D3;if(A.A0=ce(0,h,g),A.D2=64,h=h&15,A.D0=h,A.D0=A.D0+E&65535,A.D0<16)A.D1=4294967295,A.D1=A.instructions.lsr_w(A.D1,1),A.D1=A.instructions.lsr_w(A.D1,E),A.D1=A.instructions.ror_w(A.D1,h),vr(u,A,p,o,c);else if(A.D1=4294967295,A.D1=A.instructions.lsr_w(A.D1,h),A.D1=~A.D1&65535,p===5){for(A.D1=~A.D1&65535,u.data[A.A0]|=A.D1>>>8&255,u.data[A.A0+1]|=A.D1&255,u.data[A.A0+64]|=A.D1>>>8&255,u.data[A.A0+64+1]|=A.D1&255,A.D1=~A.D1&65535,u.data[A.A0+64*2]&=A.D1>>>8&255,u.data[A.A0+64*2+1]&=A.D1&255,u.data[A.A0+64*3]&=A.D1>>>8&255,u.data[A.A0+64*3+1]&=A.D1&255,u.data[A.A0+64*4]&=A.D1>>>8&255,u.data[A.A0+64*4+1]&=A.D1&255,u.data[A.A0+64*5]&=A.D1>>>8&255,u.data[A.A0+64*5+1]&=A.D1&255,A.A0+=2,E-=15,E+=h,A.D0=0,A.D1=4294967295;E>=32;)u.data[A.A0]=255,u.data[A.A0+1]=255,u.data[A.A0+2]=255,u.data[A.A0+3]=255,u.data[A.A0+64]=255,u.data[A.A0+64+1]=255,u.data[A.A0+64+2]=255,u.data[A.A0+64+3]=255,u.data[A.A0+64*2]=0,u.data[A.A0+64*2+1]=0,u.data[A.A0+64*2+2]=0,u.data[A.A0+64*2+3]=0,u.data[A.A0+64*3]=0,u.data[A.A0+64*3+1]=0,u.data[A.A0+64*3+2]=0,u.data[A.A0+64*3+3]=0,u.data[A.A0+64*4]=0,u.data[A.A0+64*4+1]=0,u.data[A.A0+64*4+2]=0,u.data[A.A0+64*4+3]=0,u.data[A.A0+64*5]=0,u.data[A.A0+64*5+1]=0,u.data[A.A0+64*5+2]=0,u.data[A.A0+64*5+3]=0,A.A0+=4,E-=32;E+=32,A.D0=4294967295,A.D0=A.instructions.lsr_l(A.D0,E),A.D0=~A.D0>>>0,u.data[A.A0]|=A.D0>>>24&255,u.data[A.A0+1]|=A.D0>>>16&255,u.data[A.A0+2]|=A.D0>>>8&255,u.data[A.A0+3]|=A.D0&255,u.data[A.A0+64]|=A.D0>>>24&255,u.data[A.A0+64+1]|=A.D0>>>16&255,u.data[A.A0+64+2]|=A.D0>>>8&255,u.data[A.A0+64+3]|=A.D0&255,A.D0=~A.D0>>>0,u.data[A.A0+64*2]&=A.D0>>>24&255,u.data[A.A0+64*2+1]&=A.D0>>>16&255,u.data[A.A0+64*2+2]&=A.D0>>>8&255,u.data[A.A0+64*2+3]&=A.D0&255,u.data[A.A0+64*3]&=A.D0>>>24&255,u.data[A.A0+64*3+1]&=A.D0>>>16&255,u.data[A.A0+64*3+2]&=A.D0>>>8&255,u.data[A.A0+64*3+3]&=A.D0&255,u.data[A.A0+64*4]&=A.D0>>>24&255,u.data[A.A0+64*4+1]&=A.D0>>>16&255,u.data[A.A0+64*4+2]&=A.D0>>>8&255,u.data[A.A0+64*4+3]&=A.D0&255,u.data[A.A0+64*5]&=A.D0>>>24&255,u.data[A.A0+64*5+1]&=A.D0>>>16&255,u.data[A.A0+64*5+2]&=A.D0>>>8&255,u.data[A.A0+64*5+3]&=A.D0&255}else{for(vr(u,A,p,o,c),A.A0+=2,E-=15,E+=h,A.D0=0;E>=32;){let v=A.A0;A.D1=p;let M=o;for(let U=0;U<=A.D1;U++){const k=c[M++]>>>0;u.data[v]=k>>>24&255,u.data[v+1]=k>>>16&255,u.data[v+2]=k>>>8&255,u.data[v+3]=k&255,v+=A.D2}A.A0+=4,E-=32}E+=32,A.D1=4294967295,A.D1=A.instructions.lsr_l(A.D1,E),A.D1=A.instructions.swap(A.D1),vr(u,A,p,o,c),A.A0+=2,A.D1=A.instructions.swap(A.D1),vr(u,A,p,o,c)}return A.D3=_,u};function vr(a,i,r,f,d){i.D3=r,i.D0=i.D1&65535,i.D0=~i.D0&65535;let u=i.A0,c=f;for(let o=0;o<=i.D3;o++)d[c++]!==0?(a.data[u]|=i.D0>>>8&255,a.data[u+1]|=i.D0&255):(a.data[u]&=i.D1>>>8&255,a.data[u+1]&=i.D1&255),u+=i.D2}const m6=a=>i=>{const{x:r,y:f,len:d,dir:u}=a,c={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},o=xt(),{instructions:h}=o;let g=r,S=f,D=d;S-(D>>1)<=St&&(D-=1+(D&1));let p=ce(0,g,S);const b=p,w=g;if(o.D3=D,o.D3=o.D3-1&65535,(o.D3&32768)!==0||(o.D3=h.asr_w(o.D3,1),o.D2=o.D3,o.D2=o.D2<<1&65535,g=g+o.D2&65535,S=S-o.D3&65535,S=S-1&65535,p=ce(0,g,S),g=g&15,o.D0=3221225472,o.D0=h.ror_l(o.D0,g),h.or_l(c.data,p,o.D0),o.D1=64,o.D1=cy(o.D1,u),g=w,p=b,g=g&15,o.D0=3221225472,o.D0=h.ror_l(o.D0,g),h.or_l(c.data,p,o.D0),p=p+o.D1&4294967295,o.D3=o.D3-1&65535,(o.D3&32768)!==0))return c;if(o.D0=4026531840,o.D0=h.ror_l(o.D0,g),o.D4=o.D3,o.D3=o.D3&3,o.D4=h.asr_w(o.D4,2),o.D4=o.D4-1&65535,(o.D4&32768)===0)do h.or_l(c.data,p,o.D0),o.D0=h.ror_l(o.D0,2),h.or_l(c.data,p-64*1,o.D0),o.D0=h.ror_l(o.D0,2),h.or_l(c.data,p-64*2,o.D0),o.D0=h.ror_l(o.D0,2),h.or_l(c.data,p-64*3,o.D0),o.D0=h.ror_l(o.D0,2),p=p-64*4&4294967295,h.tst_b(o.D0),o.registers.flags.zeroFlag||(o.D0=h.swap(o.D0),p=p+2&4294967295);while(h.dbra("D4"));do h.or_l(c.data,p,o.D0),p=p+o.D1&4294967295,o.D0=h.ror_l(o.D0,2);while(h.dbra("D3"));return c},v6=a=>i=>{const{line:r,scrx:f,scry:d}=a,u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},c=r.startx-f,o=r.starty-d;if(c>0)return u;let h=0;c+h<-20&&(h=-20-c),o-(h>>1)>lt&&(h=o-(lt-1)<<1),h&1&&h++;let g=r.length-12;g=g<<16>>16,g>-c&&(g=-c),g&1&&g++,o<g>>1&&(g=o<<1),g-=h,g>>=1;const S=o+St-(h>>1),p=2147483647>>>c+h+20;if(g<0)return u;let b=Oe(0,0,S),w=p;for(let E=0;E<=g;E++)b6(u,b,w),b-=64,w>>>=2;return u};function b6(a,i,r){if(i>=0&&i+3<a.data.length){const f=r>>>24&255,d=r>>>16&255,u=r>>>8&255,c=r&255;a.data[i]&=f,a.data[i+1]&=d,a.data[i+2]&=u,a.data[i+3]&=c}}const f2=61440,d2=32768,w6=33554431,x6=a=>i=>{const{line:r,scrx:f,scry:d}=a,u=v6(a)(i);let c=r.startx-f,o=r.starty-d,h=0,g=r.length+1;if(c+h<0&&(h=-c),o-(h>>1)>lt&&(h=o-lt<<1),h&1&&h++,c+g>I&&(g=I-c),o-(g>>1)<0&&(g=o<<1),g&1&&g--,g<=h)return u;let S=r.h2??0;S>g&&(S=g),S&1&&S--,S<h&&(S=h);let D=S;c+D>=I-20&&(D=I-21-c),D&1&&D--,D<h&&(D=h);let p=D-h;const b=S-D;let w=g-S;o+=St;let E=c+S-2,A=o-(S>>1)+1;E<0&&(E+=2,A--,w-=2),c+=h,o-=(h>>1)+1,p>>=1,p--;const _=b>>1;p<0&&(p=0);const v=xt(),M=v.D3;if(v.A0=ce(0,c,o),v.D3=64,c>=I-16-3){if(c&=31,v.D0=f2<<16>>>0,v.D0=v.instructions.lsr_l(v.D0,c),v.D2=d2<<16>>>0,v.D2=v.instructions.asr_l(v.D2,c),c>=16&&(v.A0-=2),v.D7=_,v.D7-=1,v.D7>=0)do v.instructions.and_l(u.data,v.A0,v.D2),v.instructions.or_l(u.data,v.A0,v.D0),v.A0-=v.D3,v.D2=v.instructions.asr_l(v.D2,2),v.D0=v.instructions.lsr_l(v.D0,2);while(v.instructions.dbra("D7"))}else t:{c&=15,v.D1=d2,v.D1=v.instructions.asr_w(v.D1,c),v.D2=w6,v.D2=v.instructions.lsr_l(v.D2,c),v.D0=f2,v.D0=v.instructions.ror_w(v.D0,c),v.D7=p;let U=!0;e:for(;;){if(U||(v.instructions.and_w(u.data,v.A0,v.D1),v.instructions.or_w(u.data,v.A0,v.D0),v.instructions.and_l(u.data,v.A0+2,v.D2),v.A0-=v.D3,v.D2=v.instructions.lsr_l(v.D2,2),v.D1=v.instructions.asr_w(v.D1,2),v.D0=v.instructions.ror_w(v.D0,2)),U=!1,!v.instructions.getFlag("carry")&&(v.D7--,v.D7>=0))continue e;if(v.D7--,v.D7<0){v.D2=v.D1&65535,v.D2=v.instructions.swap(v.D2),v.D0=v.instructions.swap(v.D0),v.D0&=4294901760;break e}const k=v.D0&65535&65280;if(v.instructions.or_b(u.data,v.A0+1,v.D0),v.instructions.and_l(u.data,v.A0+2,v.D2),v.instructions.or_w(u.data,v.A0+2,k),v.A0-=v.D3,v.D2=v.instructions.lsr_l(v.D2,2),v.D0=v.instructions.ror_w(v.D0,2),v.D1=v.instructions.asr_w(k,2),v.D7--,v.D7<0)break t;if(v.instructions.or_b(u.data,v.A0+1,v.D0),v.instructions.and_l(u.data,v.A0+2,v.D2),v.instructions.or_w(u.data,v.A0+2,v.D1),v.A0-=62,v.D2=v.instructions.lsr_l(v.D2,2),v.D2=v.instructions.swap(v.D2),v.D2=v.D2&4294901760|~v.D2&65535,v.D0=v.instructions.ror_w(v.D0,2),v.D7--,v.D7<0)break e;continue e}if(v.D7=_,v.D7-=1,v.D7>=0)do v.instructions.and_l(u.data,v.A0,v.D2),v.instructions.or_l(u.data,v.A0,v.D0),v.A0-=v.D3,v.D2=v.instructions.asr_l(v.D2,2),v.D0=v.instructions.lsr_l(v.D0,2);while(v.instructions.dbra("D7"))}return v.D3=M,w>0?m6({x:E,y:A,len:w+1,dir:An.UP})(u):u},E6=4294836224,_6=3221225472,U6=a=>i=>{const{line:r,scrx:f,scry:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes},c=r.startx-f,o=r.starty-d,h=r.h1??0,g=r.length+1;o-h>=lt&&(h=o-(lt-1)),o<g&&(g=o+1),c+h<-14&&(h=-14-c),c+g>I&&(g=I-c),h>g&&(h=g);let S=r.h2??0;S>g&&(S=g);let D=S;c+D>0&&(D=-c),D<h&&(D=h);const p=D-h;c+D<0&&(D=-c),S<D&&(S=D);let b=S;c+b>I-15&&(b=I-15-c),b<D&&(b=D);let w=0;c+w<0&&(w=-c),o-w>=lt&&(w=o-(lt-1)),o+=St;const E=c+h+14,A=o-h;let _=b-D;const v=S-b,M=g-S;h-w>1&&(u=Fr({x:c+w,y:o-w,len:h-w-1,dir:An.UP})(u)),M>0&&(u=Fr({x:c+S,y:o-S,len:M-1,dir:An.UP})(u)),c+=D,o-=D;const U=re({screenX:f,screenY:d,objectX:c,objectY:o});let G=te(U)&E6^_6;if(_>0||v>0){const Q=xt();Q.A0=Oe(0,c,o);let W=Q.A0;const J=-64;if(c=c&15,G=Q.instructions.ror_l(G,c),_=_-1,_>=0){t:for(;;){const B=G>>>0;if(u.data[W]^=B>>>24&255,u.data[W+1]^=B>>>16&255,u.data[W+2]^=B>>>8&255,u.data[W+3]^=B&255,W+=J,G=Q.instructions.ror_l(G,1),Q.registers.flags.carryFlag)break;if(_--,_!==-1)continue t;break}for(G=Q.instructions.swap(G),W+=2,_--;_>=0;){const B=G>>>0;if(u.data[W]^=B>>>24&255,u.data[W+1]^=B>>>16&255,u.data[W+2]^=B>>>8&255,u.data[W+3]^=B&255,W+=J,G=Q.instructions.ror_l(G,1),Q.registers.flags.carryFlag){G=Q.instructions.swap(G),W+=2,_--;continue}if(_--,_===-1){G=Q.instructions.swap(G),W+=2,_--;break}}(G&255)!==0?W-=2:G=Q.instructions.swap(G)}else G=Q.instructions.swap(G);if(_=v,_--,_>=0)for(let B=0;B<=_;B++){const ut=G&65535;u.data[W]^=ut>>>8&255,u.data[W+1]^=ut&255,G=G&4294901760|(G&65535)>>>1,W+=J}}if(c=E,o=A,_=p,_>0){const Q=xt();Q.A0=ce(0,c,o),Q.D0=32767,Q.D0=Q.instructions.asr_w(Q.D0,c);const W=64;for(let J=_;J>=0;J--){const B=Q.D0&65535;u.data[Q.A0]&=B>>>8&255,u.data[Q.A0+1]&=B&255,Q.A0-=W,Q.D0=Q.instructions.lsr_w(Q.D0,1)}}return u},O6=a=>i=>{const{line:r,scrx:f,scry:d}=a,u=r.startx-f,c=r.starty-d;let o=0,h=r.length+1;return h&1&&h++,u+(o>>1)<0&&(o=-u<<1),c-o>lt-1&&(o=c-(lt-1)),o&1&&o++,u+(h>>1)>I&&(h=I-u<<1),c-h<-1&&(h=c+1),h>o?uf({x:u+(o>>1),y:c-o+St,len:h-o-1,dir:An.UP})(i):i},h2=[null,f6,d6,g6,D6,A6,x6,U6,O6],T6=10,B6=6,kr=a=>i=>{const{thekind:r,kindPointers:f,organizedWalls:d,viewport:u,worldwidth:c}=a;let o={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};const h=f[r];if(!h)return o;const g=u.r,S=u.b,D=u.x-T6,p=u.y-B6;let b=d[h];if(!(!b||b.startx>=g)){let _=h;for(;_!==null;){const v=d[_];if(!v||v.endx>D)break;_=v.nextId}for(;_!==null;){const v=d[_];if(!v||v.startx>=g)break;if(v.endx>=D&&(v.starty>=p||v.endy>=p)&&(v.starty<S||v.endy<S)){const M=h2[v.newtype];M&&(o=M({line:v,scrx:u.x,scry:u.y})(o))}_=v.nextId}}const w=u.r-c,E=u.x-c;let A=h;for(;A!==null;){const _=d[A];if(!_||_.startx>=w)break;if((_.starty>=p||_.endy>=p)&&(_.starty<S||_.endy<S)){const v=h2[_.newtype];v&&(o=v({line:_,scrx:E,scry:u.y})(o))}A=_.nextId}return o};function ki(a,i,r){const f=a.h-i,d=a.v-r;return f*f+d*d}const M6={0:0,1:0,2:4,3:2,4:1,5:0};function R6(a,i){const r=Math.min(i.starty,i.endy),f=Math.max(i.starty,i.endy);if(a.h<i.startx-50||a.h>i.endx+50||a.v<r-50||a.v>f+50)return 1e4;if(i.type===Cr.N){if(a.v<i.starty)return ki(a,i.startx,i.starty)+10;if(a.v>i.endy)return ki(a,i.endx,i.endy)+10;const w=a.h-i.startx;return w*w}if(i.length===0)return ki(a,i.startx,i.starty);const d=M6[i.type]*i.up_down,u=i.endx-i.startx,c=i.endy-i.starty,o=d*(i.startx-a.h)>>1,h=c*(o-i.starty+a.v),g=c*d>>1,S=u+g,D=S===0?0:Ue(h,S);let p;i.type===Cr.E?p=a.v-i.starty:p=Ue(D*-u,c);const b=a.h+D;return b<i.startx?ki(a,i.startx,i.starty)+10:b>i.endx?ki(a,i.endx,i.endy)+10:D*D+p*p}function N6(a){const{screen:i,store:r,shipDef:f,wallData:d,viewport:u,worldwidth:c}=a,o=r.getState().ship,{globalx:h,globaly:g}=o,S=ef(i,{x:o.shipx-Bt,y:o.shipy-Bt,height:32,def:f}),D=kr({thekind:ue.BOUNCE,kindPointers:d.kindPointers,organizedWalls:d.organizedWalls,viewport:u,worldwidth:c})(i),p=ef(D,{x:o.shipx-Bt,y:o.shipy-Bt,height:32,def:f});if(!S&&p){const w=k6(h,g,o.unbouncex,o.unbouncey,d);return w!==null&&r.dispatch({type:"ship/bounceShip",payload:{norm:w.norm}}),rf({x:o.shipx-Bt,y:o.shipy-Bt,def:f})(D)}else return r.dispatch({type:"ship/noBounce",payload:{globalx:h,globaly:g}}),D}function k6(a,i,r,f,d,u){const c=d.kindPointers[ue.BOUNCE];if(!c)return null;let o=null,h=1e3;const g={h:a,v:i};let S=c;for(;S!==null;){const p=d.organizedWalls[S];if(!p)break;const b=R6(g,p);b<h&&(h=b,o=p),S=p.nextId}return o?{norm:Nr(o,r,f)}:null}function rf(a){return i=>{const{x:r,y:f,def:d}=a,u=_t(i),c=f+St,o=xt({data:{D2:0,D3:d.height-1},address:{A0:ce(0,r,c)}}),h=r&15;o.D2=16,o.D2=o.D2-h;const g=64;let S=0;for(;;){let D=0;if(S<d.data.length)for(let p=0;p<4&&S+p<d.data.length;p++)D=D<<8|d.data[S+p];if(S+=4,D!==0){const p=D&65535,b=D>>>h,w=p<<o.D2&65535,E=~b>>>0,A=~w&65535;if(o.A0<u.data.length-3){let _=u.data[o.A0]<<24|u.data[o.A0+1]<<16|u.data[o.A0+2]<<8|u.data[o.A0+3];_=_&E,u.data[o.A0]=_>>>24&255,u.data[o.A0+1]=_>>>16&255,u.data[o.A0+2]=_>>>8&255,u.data[o.A0+3]=_&255}if(o.A0+4<u.data.length-1){let _=u.data[o.A0+4]<<8|u.data[o.A0+5];_=_&A,u.data[o.A0+4]=_>>>8&255,u.data[o.A0+5]=_&255}}if(o.A0+=g,!o.instructions.dbra("D3"))break}return u}}const y2=3,g2=[0,-1,-3,-4,-7,-8,-9,-9,-10,-9,-9,-8,-7,-4,-3,-1,0,1,3,4,7,8,9,9,10,9,9,8,7,4,3,1];function z6(a){return i=>{const{x:r,y:f,rot:d,flames:u}=a,c=r+g2[d]-y2,o=f+g2[d+24&31]-y2;return C6({x:c,y:o,def:u[d],height:7})(i)}}function C6(a){return i=>{const{x:r,y:f,def:d,height:u}=a,c=_t(i),o=f+St,h=xt({data:{D0:0,D1:u-1,D2:63},address:{A0:Sf(0,r,o)}}),g=r&7;let S=0;for(let D=0;D<u;D++){let p=0;S<d.data.length&&(p=d.data[S]),S++;let b=p;g>0&&(b=(b>>>g|b<<16-g)&65535),h.A0<c.data.length&&(c.data[h.A0]^=b&255),h.A0++,b=(b<<8|b>>>8)&65535,h.A0<c.data.length&&(c.data[h.A0]^=b&255),h.A0+=h.D2}return c}}function p2(a){return i=>{const{x:r,y:f,def:d,mask:u}=a,c=_t(i),o=f+St,h=xt({data:{D2:0,D3:d.height-1,D4:0,D5:0},address:{A0:ce(0,r,o)}}),g=r&15;h.D2=16,h.D2=h.D2-g;const S=64;let D=0,p=0;for(;;){let b=0;if(p<u.data.length)for(let w=0;w<4&&p+w<u.data.length;w++)b=b<<8|u.data[p+w];if(p+=4,b===0)D+=4;else{const w=b&65535,E=b>>>g,A=h.D2<16?w<<h.D2&65535:0,_=~E>>>0,v=~A&65535;let M=_,U=v,k=0,G=0;h.A0+3<c.data.length&&(k=c.data[h.A0]<<24|c.data[h.A0+1]<<16|c.data[h.A0+2]<<8|c.data[h.A0+3]),h.A0+5<c.data.length&&(G=c.data[h.A0+4]<<8|c.data[h.A0+5]),M=k&M,U=G&U;let Q=0;if(D<d.data.length)for(let W=0;W<4&&D+W<d.data.length;W++)Q=Q<<8|d.data[D+W];if(D+=4,Q!==0){const W=Q&65535,J=Q>>>g,B=h.D2<16?W<<h.D2&65535:0;M=M|J,U=U|B}h.A0+3<c.data.length&&(c.data[h.A0]=M>>>24&255,c.data[h.A0+1]=M>>>16&255,c.data[h.A0+2]=M>>>8&255,c.data[h.A0+3]=M&255),h.A0+5<c.data.length&&(c.data[h.A0+4]=U>>>8&255,c.data[h.A0+5]=U&255)}if(h.A0+=S,!h.instructions.dbra("D3"))break}return c}}function H6(a){return i=>{const{x:r,y:f,def:d,background:u}=a,c=_t(i);let o=u[f&1];const h=f+St,g=xt({data:{D2:0,D3:d.height-1},address:{A0:ce(0,r,h)}}),S=r&15;g.D2=16,g.D2=g.D2-S;const D=64;let p=0;for(;;){let b=0;if(p<d.data.length)for(let w=0;w<4&&p+w<d.data.length;w++)b=b<<8|d.data[p+w];if(p+=4,b!==0){const w=b&65535,E=b>>>S,A=w<<g.D2&65535,_=E&o,v=A&(o&65535);if(g.A0<c.data.length-3){let M=c.data[g.A0]<<24|c.data[g.A0+1]<<16|c.data[g.A0+2]<<8|c.data[g.A0+3];M=M|_,c.data[g.A0]=M>>>24&255,c.data[g.A0+1]=M>>>16&255,c.data[g.A0+2]=M>>>8&255,c.data[g.A0+3]=M&255}if(g.A0+4<c.data.length-1){let M=c.data[g.A0+4]<<8|c.data[g.A0+5];M=M|v,c.data[g.A0+4]=M>>>8&255,c.data[g.A0+5]=M&255}}if(g.A0+=D,o=(o>>>1|o<<31)>>>0,!g.instructions.dbra("D3"))break}return c}}function L6(a){return i=>{const{x:r,y:f,def:d}=a,u=_t(i),c=f+St,o=xt({data:{D2:0,D3:d.height-1},address:{A0:ce(0,r,c)}});let h=r&15;h=h+1,o.D2=16,o.D2=o.D2-h;const g=64;let S=0;for(;;){let D=0;if(S<d.data.length)for(let p=0;p<4&&S+p<d.data.length;p++)D=D<<8|d.data[S+p];if(S+=4,D!==0){const p=D&65535;let b=h<32?D>>>h:0,w=o.D2<16?p<<o.D2&65535:0;if(o.A0<u.data.length-3){const A=u.data[o.A0]<<24|u.data[o.A0+1]<<16|u.data[o.A0+2]<<8|u.data[o.A0+3];b=b&A}if(o.A0+5<u.data.length){const A=u.data[o.A0+4]<<8|u.data[o.A0+5];w=w&A}else w=0;const E=w>>>15&1;if(w=(w<<1|0)&65535,b=(b<<1|E)>>>0,o.A0<u.data.length-3){let A=u.data[o.A0]<<24|u.data[o.A0+1]<<16|u.data[o.A0+2]<<8|u.data[o.A0+3];A=A|b,u.data[o.A0]=A>>>24&255,u.data[o.A0+1]=A>>>16&255,u.data[o.A0+2]=A>>>8&255,u.data[o.A0+3]=A&255}if(o.A0+5<u.data.length){let A=u.data[o.A0+4]<<8|u.data[o.A0+5];A=A|w,u.data[o.A0+4]=A>>>8&255,u.data[o.A0+5]=A&255}}if(o.A0+=g,!o.instructions.dbra("D3"))break}return u}}const br={...ue,NUMKINDS:4},G6={JUNCTION_THRESHOLD:3},No=[32768,24576,6144,1536,384,64],Y6=[61439,53247,36863,4095],X6=[2047,8191,32767],j6=[65343,64575,61503,49215,63],q6=[16383,53247,62463,65023],zi=[65535,16383,4095,1023,255,127],F6=[32783,49183,61471,64575,65343,65535],Z6=[32769,49155,61447,64527,65311,65535],Q6=[32768,49152,61440,64513,65287,65503],K6=[65535,65535,61440,64512,65280,65408],V6=[65535,16383,36863,58367,63743,65151],W6=[65535,65535,61439,62463,63743,64575],J6=[34815,50175,61951,64767,65407,65535],$6=[65535,49151,53247,50175,57599,57407],I6=[33023,49279,61567,64575,65343,65535],P6=[32831,49215,61503,64575,65343,65535],tD=[[null,null],[zi,P6],[$6,I6],[W6,J6],[null,V6],[K6,zi],[Q6,zi],[Z6,zi],[F6,zi]];function Fi(a){const i=[];for(const r of a)i.push(r>>>8&255),i.push(r&255);return i}function Ci(a,i,r,f,d,u){var o;const c=a.length>0?a.length-1:0;((o=a[c])==null?void 0:o.id)==="sentinel_running"?a[c]={id:`w${i}`,x:r,y:f,hasj:!1,ht:d,data:Fi(u)}:a.push({id:`w${i}`,x:r,y:f,hasj:!1,ht:d,data:Fi(u)}),a.push({id:"sentinel_running",x:2e4,y:0,hasj:!1,ht:0,data:[]})}function eD(a){var d;const i=[];let r=0,f=0;for(const u of a){for(let c=0;c<2;c++){const o=(d=tD[u.newtype])==null?void 0:d[c];o&&(Ci(i,r++,c?u.endx:u.startx,c?u.endy:u.starty,6,o),f++)}switch(u.newtype){case Br.NE:Ci(i,r++,u.endx-4,u.endy+2,4,Y6),f++;break;case Br.ENE:Ci(i,r++,u.startx+16,u.starty,3,X6),f++,Ci(i,r++,u.endx-10,u.endy+1,5,j6),f++;break;case Br.ESE:Ci(i,r++,u.endx-7,u.endy-2,4,q6),f++;break}}return i.slice(0,f)}const D2=[57344,49153,32771,7],S2=[64512,61443,49167,63],nD=[3,3,3,3],wr=[2047,33791,49663,57599,61567,63551,64543,65039,65287,65411,65473],xr=[255,255,32895,32895,49215,49215,57375,57375,61455,61455,63495,63495,64515,64515,65025,65025,65280,65280],aD=22,Er=new Array(aD).fill(63);function ha(a){return a.h1??0}function ka(a){return a.h2??a.length}function lD(a,i,r,f,d){const u={},c={};let o=1e3,h=[...d],g=9-a.newtype;r&&(g=g+8&15);let S=9-i.newtype;if(f&&(S=S+8&15),g===S)return{newWhites:h,wall1Updates:u,wall2Updates:c};const D=(v,M,U,k)=>{h.push({id:`p${o++}`,x:v,y:M,hasj:!1,ht:U,data:Fi(k)})},p=(v,M,U,k)=>{h.findIndex(Q=>Q.x===v&&Q.y===M&&Q.ht<U)!==-1?b(v,M,v,M,U,k):D(v,M,U,k)},b=(v,M,U,k,G,Q)=>{const W=h.findIndex(J=>J.x===v&&J.y===M&&J.ht<G);if(W!==-1){const J=h[W];if(J){const B={id:J.id,x:U,y:k,ht:G,data:Fi(Q),hasj:J.hasj};h=[...h.slice(0,W),B,...h.slice(W+1)]}}else D(U,k,G,Q)},w=(v,M,U,k,G,Q)=>{D(U,k,G,Q)};let E,A;const _=a.length;switch(g){case 0:switch(S){case 15:case 1:E=21;break;case 2:E=10;break;case 3:case 14:E=6;break;default:return{newWhites:h,wall1Updates:u,wall2Updates:c}}if(A=ka(a),_-E>A)return{newWhites:h,wall1Updates:u,wall2Updates:c};A<_?b(a.startx,a.starty+A,a.endx,a.endy-E,E,Er):w(a.startx,a.starty+A,a.endx,a.endy-E,E,Er),u.h2=_-E;break;case 1:break;case 2:switch(S){case 0:E=3;break;case 1:E=6;break;case 3:E=4;break;case 14:E=1;break;case 15:E=2;break;default:return{newWhites:h,wall1Updates:u,wall2Updates:c}}for(A=0;A<4*E;A+=4)ha(a)<5+A&&D(a.startx+3+A,a.starty-4-A,4,D2);E--,A=5+4*E,ha(a)<A&&(u.h1=A);break;case 3:case 4:case 5:break;case 6:if(S===7)E=11;else if(S>7&&S<12)E=5;else return{newWhites:h,wall1Updates:u,wall2Updates:c};if(ha(a)>=6+E)return{newWhites:h,wall1Updates:u,wall2Updates:c};ha(a)>6?p(a.startx+6,a.starty+6,E,wr):D(a.startx+6,a.starty+6,E,wr),u.h1=6+E;break;case 7:if(S===6||S===8)E=16;else if(S===9)E=8;else if(S>9&&S<12)E=6;else return{newWhites:h,wall1Updates:u,wall2Updates:c};if(ha(a)>=6+E)return{newWhites:h,wall1Updates:u,wall2Updates:c};ha(a)>6?p(a.startx+3,a.starty+6,E,xr):D(a.startx+3,a.starty+6,E,xr),u.h1=6+E;break;case 8:switch(S){case 6:case 11:E=5;break;case 10:E=10;break;case 9:case 7:E=20;break;default:return{newWhites:h,wall1Updates:u,wall2Updates:c}}if(E+6<ha(a))return{newWhites:h,wall1Updates:u,wall2Updates:c};ha(a)>6?p(a.startx,a.starty+6,E,Er):D(a.startx,a.starty+6,E,Er),u.h1=E+6;break;case 9:break;case 10:{let v;switch(S){case 6:case 7:case 8:v=S-5;break;case 9:v=6;break;case 11:v=4;break;default:return{newWhites:h,wall1Updates:u,wall2Updates:c}}for(A=0;A<4*v;A+=4)ka(a)>_-9-A&&D(a.endx-7-A,a.endy+6+A,4,D2);v--,A=_-9-4*v,ka(a)>A&&(u.h2=A)}case 11:{let v;if(S===9)v=2;else if(S===10)v=4;else return{newWhites:h,wall1Updates:u,wall2Updates:c};const M=u.h2??ka(a);for(A=0;A<8*v;A+=8)M>=_-11-A&&(D(a.endx-18-A,a.endy+6+(A>>1),4,S2),D(a.endx-8-A,a.endy+6+(A>>1),4,S2));A=_-11-8*v,M>A&&(u.h2=A);break}case 12:S>8&&S<12&&ka(a)===_&&(D(a.endx-14,a.endy+2,4,nD),u.h2=_-14);break;case 13:break;case 14:if(S===15)E=10;else if(S<4||S===13)E=5;else return{newWhites:h,wall1Updates:u,wall2Updates:c};if(A=ka(a),A<=_-E)return{newWhites:h,wall1Updates:u,wall2Updates:c};A<_?b(a.startx+A,a.starty+A,a.endx-E,a.endy-E,E,wr):w(a.startx+A,a.starty+A,a.endx-E,a.endy-E,E,wr),u.h2=_-E;break;case 15:switch(S){case 0:E=17;break;case 1:case 14:E=11;break;case 2:case 3:E=5;break;default:return{newWhites:h,wall1Updates:u,wall2Updates:c}}if(A=ka(a),A<=_-E)return{newWhites:h,wall1Updates:u,wall2Updates:c};A<_?b(a.startx+(A>>1),a.starty+A,a.endx-(E>>1),a.endy-E,E,xr):w(a.startx+(A>>1),a.starty+A,a.endx-(E>>1),a.endy-E,E,xr),u.h2=_-E;break}return{newWhites:h,wall1Updates:u,wall2Updates:c}}const iD=[0,6,6,6,12,16,0,1,0],uD=[0,0,0,0,-1,0,-11,-5,-5];function rD(a){const i=fD(a),r=cD(i),{patches:f,finalWalls:d}=sD(i,r,lD);return{whites:f,updatedWalls:d}}function cD(a){const i=[],r=G6.JUNCTION_THRESHOLD;let f=0;for(let d=0;d<a.length;d++){const u=a[d];if(u){for(;f<a.length;){const c=a[f];if(!c||c.endx>=u.startx-r)break;f++}for(let c=0;c<2;c++){const o=c?u.endx:u.startx,h=c?u.endy:u.starty;for(let g=f;g<a.length;g++){const S=a[g];if(!S||S.startx>=o+r)break;for(let D=0;D<2;D++){const p=(D?S.endx:S.startx)-r,b=(D?S.endy:S.starty)-r;o>p&&h>b&&o<p+6&&h<b+6&&i.push([u,S,c,D])}}}}}return i}function sD(a,i,r){let f=a,d=[];for(const[u,c,o,h]of i){const g=f.find(b=>b.id===u.id)||u,S=f.find(b=>b.id===c.id)||c,D=r(g,S,o,h,d);d=D.newWhites;const p=[];Object.keys(D.wall1Updates).length>0&&p.push({wallId:u.id,...D.wall1Updates}),Object.keys(D.wall2Updates).length>0&&p.push({wallId:c.id,...D.wall2Updates}),p.length>0&&(f=oD(f,p))}return{patches:d,finalWalls:f}}function oD(a,i){const r=new Map(a.map(f=>[f.id,{...f}]));for(const f of i){const d=r.get(f.wallId);d&&(f.h1!==void 0&&(d.h1=f.h1),f.h2!==void 0&&(d.h2=f.h2))}return Array.from(r.values())}function fD(a){return a.map(i=>({...i,h1:iD[i.newtype]??0,h2:i.length+(uD[i.newtype]??0)}))}function dD(a,i){const r=a[i];if(!r)return!0;for(let f=i-1;f>=0;f--){const d=a[f];if(d){if(d.x<=r.x-3)break;if(d.y<r.y+3&&d.y>r.y-3)return!1}}for(let f=i+1;f<a.length;f++){const d=a[f];if(d){if(d.x>=r.x+3)break;if(d.y<r.y+3&&d.y>r.y-3)return!1}}return!0}function hD(a,i,r=512){const f=[...a],d=[...i];for(let u=0;u<f.length;u++){const c=f[u];if(!c||c.ht!==6||!dD(f,u)||c.x<=8||c.x>=r-8)continue;let o=-1;for(let h=0;h<d.length;h++){const g=d[h];if(g&&g.x===c.x&&g.y===c.y){o=h;break}}if(o!==-1){const h=(A,_,v)=>{const M=[];for(let G=0;G<6;G++){const Q=A[G*2]??0,W=A[G*2+1]??0;M[G]=Q<<8|W}const U=[];let k=_&65535;for(let G=0;G<6;G++){const Q=M[G]??0,W=v[G]??0;U[G]=k&(~Q|W)^W,k=(k<<1|k>>>15)&65535}return Fi(U)},g=c.x+c.y&1,S=te(g),D=h(c.data,S,No),p=te(0),b=h(c.data,p,No),w=te(1),E=h(c.data,w,No);f[u]={...c,hasj:!0,dataAlign0:b,dataAlign1:E,data:D},d.splice(o,1)}}return f}function yD(a,i){let r=eD(a);const{whites:f,updatedWalls:d}=rD(a);return r=[...r,...f],r=gD(r),r=pD(r),r=hD(r,i),r=DD(r),{whites:r,updatedWalls:d}}function gD(a){const i=[...a];for(let r=1;r<i.length;r++){const f=i[r];if(!f)continue;let d=r-1;for(;d>=0;){const u=i[d];if(!u||u.x<f.x||u.x===f.x&&u.y<=f.y)break;i[d+1]=u,d--}i[d+1]=f}return i}function pD(a){const i=a.map(f=>({...f,data:[...f.data??[]]}));let r=0;for(;r<i.length-1;){const f=i[r],d=i[r+1];if(f&&d&&f.x===d.x&&f.y===d.y&&f.ht===6&&d.ht===6){for(let u=0;u<12;u++)f.data[u]=(f.data[u]??0)&(d.data[u]??0);i.splice(r+1,1)}else r++}return i}function DD(a){const i=[...a];for(let r=0;r<18;r++)i.push({id:`sentinel${r}`,x:2e4,y:0,hasj:!1,ht:0,data:[]});return i}function SD(a){const{organizedWalls:i,kindPointers:r}=AD(a),{firstWhiteId:f,updatedWalls:d}=mD(a),u=vD(a),{whites:c,updatedWalls:o}=yD(Object.values(d),u),h={};for(const S of o)h[S.id]=S;const g={};for(const[S,D]of Object.entries(i)){const p=h[S];p?g[S]={...D,nextwhId:p.nextwhId,h1:p.h1,h2:p.h2}:g[S]=D}return{organizedWalls:g,kindPointers:r,firstWhite:f,junctions:u,whites:c,updatedWalls:o}}function AD(a){const i={},r={};for(let f=br.NORMAL;f<br.NUMKINDS;f++)r[f]=null;for(const f of a)i[f.id]={...f};for(let f=br.NORMAL;f<br.NUMKINDS;f++){let d=null;for(const u of a)if(u.kind===f){if(r[f]||(r[f]=u.id),d){const c=i[d];c&&(c.nextId=u.id)}d=u.id}if(d){const u=i[d];u&&(u.nextId=null)}}return{organizedWalls:i,kindPointers:r}}function mD(a){let i="",r=null;const f={};for(const d of a)f[d.id]={...d};for(const d of a)if(d.newtype===Br.NNE){if(i||(i=d.id),r){const u=f[r];u&&(u.nextwhId=d.id)}r=d.id}if(r){const d=f[r];d&&(d.nextwhId=null)}return{firstWhiteId:i,updatedWalls:f}}function vD(a){const i=[];for(const r of a)for(let f=0;f<2;f++){const d=f?r.endx:r.startx,u=f?r.endy:r.starty;let c=!1;for(const o of i)if(o.x<=d+3&&o.x>=d-3&&o.y<=u+3&&o.y>=u-3){c=!0;break}c||i.push({x:d,y:u})}for(let r=1;r<i.length;r++){const f=i[r];if(!f)continue;let d=r-1;for(;d>=0;){const u=i[d];if(!u||u.x<=f.x)break;i[d+1]=u,d--}i[d+1]=f}for(let r=0;r<18;r++)i.push({x:2e4,y:0});return i}const bD={organizedWalls:{},kindPointers:{[ue.NORMAL]:null,[ue.BOUNCE]:null,[ue.GHOST]:null,[ue.EXPLODE]:null},firstWhite:"",junctions:[],whites:[],updatedWalls:[]},by=mn({name:"walls",initialState:bD,reducers:{initWalls:(a,i)=>SD(i.payload.walls),clearWalls:a=>{a.organizedWalls={},a.kindPointers={[ue.NORMAL]:null,[ue.BOUNCE]:null,[ue.GHOST]:null,[ue.EXPLODE]:null},a.firstWhite="",a.junctions=[],a.whites=[],a.updatedWalls=[]}}}),wy=65535,xy=4294901760,Ey=4294967295,wD=a=>i=>{const{x:r,y:f,height:d,data:u}=a,c={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};let o=f,h=d,g=0;if(o<0){if(h+=o,h<=0)return c;g=-o*2,o=0}else if(o+h>lt){if(o>=lt)return c;h=lt-o}let S=0;if(r<0){if(r<=-16)return c;S=-65536}else if(r>=I-16){if(r>=I)return c;S=65535}o+=St;const D=16-(r&15);for(let p=0;p<h&&!(g+1>=u.length);p++){const b=u[g]<<8|u[g+1];g+=2;let w=4294901760|b;w=(w<<D|w>>>32-D)>>>0,w=(w|S)>>>0;const E=o+p,A=Oe(0,r,E);if(A>=0&&A+3<c.data.length){let _=c.data[A]<<24|c.data[A+1]<<16|c.data[A+2]<<8|c.data[A+3];_=(_&w)>>>0,c.data[A]=_>>>24&255,c.data[A+1]=_>>>16&255,c.data[A+2]=_>>>8&255,c.data[A+3]=_&255}}return c},xD=a=>i=>{const{x:r,y:f,height:d,data:u}=a,c={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};let o=f,h=d,g=0;if(o<0){if(h+=o,h<=0)return c;g=-o*2,o=0}else if(o+h>lt){if(o>=lt)return c;h=lt-o}let S=Ey;if(r<0){if(r<=-16)return c;S=wy}else if(r>=I-16){if(r>=I)return c;S=xy}o+=St;const D=16-(r&15);for(let p=0;p<h&&!(g+1>=u.length);p++){const b=u[g]<<8|u[g+1];g+=2;let w=b;w=(w<<D|w>>>32-D)>>>0,w=(w&S)>>>0;const E=o+p,A=Oe(0,r,E);if(A>=0&&A+3<c.data.length){let _=c.data[A]<<24|c.data[A+1]<<16|c.data[A+2]<<8|c.data[A+3];_=(_^w)>>>0,c.data[A]=_>>>24&255,c.data[A+1]=_>>>16&255,c.data[A+2]=_>>>8&255,c.data[A+3]=_&255}}return c},ko=15,zo=16,ED=a=>i=>{const{whites:r,viewport:f,worldwidth:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};const c=f.y,o=f.b;let h=f.x-ko,g=f.r;for(let S=0;S<2;S++){let D=0;for(;D+zo<r.length&&r[D+zo].x<=h;)D+=zo;for(;D<r.length&&r[D].x<=h;)D++;for(h+=ko;D<r.length&&r[D].x<=g;){const p=r[D];if(p.y>=o||p.y+p.ht<=c){D++;continue}const b=p.x-h,w=p.y-c;if(p.hasj){const A=re({x:p.x,y:p.y,screenX:f.x,screenY:f.y})===0?p.dataAlign0||p.data:p.dataAlign1||p.data;u=xD({x:b,y:w,height:p.ht,data:new Uint8Array(A)})(u)}else u=wD({x:b,y:w,height:p.ht,data:new Uint8Array(p.data)})(u);D++}h-=ko,h-=d,g-=d}return u},_D=[32768,24576,6144,1536,384,64],UD=a=>i=>{const{x:r,y:f}=a,d={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};let u=f,c=6,o=0;u<0?(c+=u,o=-u,u=0):u>=lt-6&&(c=lt-u);let h;if(r<0?h=wy:r>=I-9?h=xy:h=Ey,u+=St,c<=0)return d;let g=Oe(0,r,u);const D=16-(r&15);for(let p=0;p<c;p++){const b=_D[o+p]||0;let w=b<<D|b>>>32-D;if(w&=h,w!==0){const E=w>>>24&255,A=w>>>16&255,_=w>>>8&255,v=w&255;g<d.data.length&&(d.data[g]|=E),g+1<d.data.length&&(d.data[g+1]|=A),g+2<d.data.length&&(d.data[g+2]|=_),g+3<d.data.length&&(d.data[g+3]|=v)}g+=d.rowBytes}return d},OD=5,Co=8,Ho=16,TD=a=>i=>{const{junctions:r,viewport:f,worldwidth:d}=a;let u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};const c=f.y-OD,o=f.b;let h=f.x-Co,g=f.r;for(let S=0;S<2;S++){let D=0;for(;D+Ho<r.length&&r[D+Ho].x<h;)D+=Ho;for(;D<r.length&&r[D].x<h;)D++;for(h+=Co;D<r.length&&r[D].x<g;){const p=r[D];if(p.y<c||p.y>=o){D++;continue}const b=p.x-h,w=p.y-f.y;if(w>=0&&w<lt-5&&b>=0&&b<I-9){const E=w+St;let A=Oe(0,b,E),v=2147483648>>>(b&15);_l(u,A,v);const U=(v|v>>>1)>>>1;_l(u,A+u.rowBytes,U);const k=U>>>2;_l(u,A+u.rowBytes*2,k);const G=k>>>2;_l(u,A+u.rowBytes*3,G);const Q=G>>>2;_l(u,A+u.rowBytes*4,Q);const W=Q>>>2,J=Q>>>1&W;_l(u,A+u.rowBytes*5,J)}else u=UD({x:b,y:w})(u);D++}h-=Co,h-=d,g-=d}return u};function _l(a,i,r){if(r!==0){const f=r>>>24&255,d=r>>>16&255,u=r>>>8&255,c=r&255;i<a.data.length&&(a.data[i]|=f),i+1<a.data.length&&(a.data[i+1]|=d),i+2<a.data.length&&(a.data[i+2]|=u),i+3<a.data.length&&(a.data[i+3]|=c)}}const BD=1048575,A2=a=>i=>{const{linerec:r,scrx:f,scry:d}=a,u={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};let c=r.startx-f,o=r.starty-d,h=0,g=r.length-5;c+(h>>1)<-11&&(h=-11-c<<1),o-h>lt-1&&(h=o-(lt-1)),h&1&&h++,c+(g>>1)>I&&(g=I-c<<1),o-g<-1&&(g=o+1),g&1&&g--;let S=h;c+(S>>1)<0&&(S=-c<<1),S&1&&S++,S>g&&(S=g);let D=g;c+(D>>1)>I-12&&(D=I-12-c<<1),D<S&&(D=S);const p=c+(h>>1)+11,b=o+St-h,w=S-h;c+=S>>1,o+=St-S;let E=D-S;const A=g-D;if(S<g){let _=Oe(0,c,o);const v=c&15;let M=BD;if(M=Ul(M,v),E>>=1,E>0){const U=E>>2,k=E&3;for(let G=0;G<U;G++)hn(u,_,M),hn(u,_-u.rowBytes,M),M=Ul(M,1),hn(u,_-u.rowBytes*2,M),hn(u,_-u.rowBytes*3,M),M=Ul(M,1),hn(u,_-u.rowBytes*4,M),hn(u,_-u.rowBytes*5,M),M=Ul(M,1),hn(u,_-u.rowBytes*6,M),hn(u,_-u.rowBytes*7,M),_-=u.rowBytes*8,M=Ul(M,1),(M&8)===0&&(M=Lo(M),_+=2);for(let G=0;G<k;G++)hn(u,_,M),hn(u,_-u.rowBytes,M),_-=u.rowBytes*2,M=Ul(M,1),(M&8)===0&&(M=Lo(M),_+=2)}if(A>0){M=Lo(M);const U=A>>1;for(let k=0;k<U;k++)_r(u,_,M),_r(u,_-u.rowBytes,M),M>>=1,_-=u.rowBytes*2}}if(w>0){let _=Oe(0,p,b),v=32767;v>>=p&15;const M=w>>1;for(let U=0;U<=M;U++)_r(u,_,v),_r(u,_-u.rowBytes,v),v>>=1,_-=u.rowBytes*2}return u};function Ul(a,i){return i=i%32,i===0?a:(a>>>i|a<<32-i)>>>0}function Lo(a){return(a>>>16|a<<16)>>>0}function hn(a,i,r){if(i>=0&&i+3<a.data.length){const f=r>>>24&255,d=r>>>16&255,u=r>>>8&255,c=r&255;a.data[i]&=f,a.data[i+1]&=d,a.data[i+2]&=u,a.data[i+3]&=c}}function _r(a,i,r){if(i>=0&&i+1<a.data.length){const f=r>>>8&255,d=r&255;a.data[i]&=f,a.data[i+1]&=d}}const MD=10,RD=6,ND=a=>i=>{const{whites:r,junctions:f,firstWhite:d,organizedWalls:u,viewport:c,worldwidth:o}=a;let h={data:new Uint8Array(i.data),width:i.width,height:i.height,rowBytes:i.rowBytes};h=ED({whites:r,viewport:c,worldwidth:o})(h),h=TD({junctions:f,viewport:c,worldwidth:o})(h);const g=c.r,S=c.x-MD,D=c.y-RD,p=c.b;if(d!==null){let b=d;for(;b!==null;){const E=u[b];if(!E||E.endx>=S)break;b=E.nextwhId||null}for(;b!==null;){const E=u[b];if(!E||E.startx>=g)break;E.endx>=S&&(E.starty>=D||E.endy>=D)&&(E.starty<p||E.endy<p)&&(h=A2({linerec:E,scrx:c.x,scry:c.y})(h)),b=E.nextwhId||null}const w=g-o;for(b=d;b!==null;){const E=u[b];if(!E||E.startx>=w)break;(E.starty>=D||E.endy>=D)&&(E.starty<p||E.endy<p)&&(h=A2({linerec:E,scrx:c.x-o,scry:c.y})(h)),b=E.nextwhId||null}}return h},kD={selectedType:"ship",showMask:!1,rotation:0,scale:4,bunkerKind:0,fuelFrame:0,shardKind:0,flameFrame:0,strafeFrame:0,digitChar:"0"},_y=mn({name:"sprites",initialState:kD,reducers:{setSelectedType:(a,i)=>{a.selectedType=i.payload,a.rotation=0},toggleMask:a=>{a.showMask=!a.showMask},setRotation:(a,i)=>{a.rotation=i.payload},setScale:(a,i)=>{a.scale=Math.max(1,Math.min(8,i.payload))},setBunkerKind:(a,i)=>{a.bunkerKind=i.payload,a.rotation=0},setFuelFrame:(a,i)=>{a.fuelFrame=i.payload},setShardKind:(a,i)=>{a.shardKind=i.payload},setFlameFrame:(a,i)=>{a.flameFrame=i.payload},setStrafeFrame:(a,i)=>{a.strafeFrame=i.payload},setDigitChar:(a,i)=>{a.digitChar=i.payload}}}),{setSelectedType:gA,toggleMask:pA,setRotation:DA,setScale:SA,setBunkerKind:AA,setFuelFrame:mA,setShardKind:vA,setFlameFrame:bA,setStrafeFrame:wA,setDigitChar:xA}=_y.actions,Zr=15,zD=5,Ur=20,CD=25,HD=15,LD=32,GD=16,m2=5,v2=64,Or=16,ga=100,Go=ga,Yo=20,YD=10,XD=10,jD=35,qD=20,FD=40,ZD=50,_e=[0,14,27,40,51,60,67,71,72,71,67,60,51,40,27,14,0,-14,-27,-40,-51,-60,-67,-71,-72,-71,-67,-60,-51,-40,-27,-14],cf=()=>({x:0,y:0,h:0,v:0,rot16:0,rotspeed:0,lifecount:0,kind:0}),Uy=()=>({x:0,y:0,x8:0,y8:0,lifecount:0,v:0,h:0}),QD={shards:Array.from({length:Zr},cf),sparks:Array.from({length:ga},Uy),totalsparks:0,sparksalive:0,shipDeathFlash:!1},Oy=mn({name:"explosions",initialState:QD,reducers:{startExplosion:(a,i)=>{const{x:r,y:f,dir:d,kind:u}=i.payload;let c=Number.MAX_SAFE_INTEGER,o=[];for(let S=0;S<zD;S++){let D=-1;c=Number.MAX_SAFE_INTEGER;for(let p=0;p<Zr;p++){const b=a.shards[p];b.lifecount<c&&!o.includes(p)&&(c=b.lifecount,D=p)}D!==-1&&o.push(D)}for(let S=0;S<o.length;S++){const D=o[S],p=a.shards[D];p.x=r+Math.floor(Math.random()*Ur)-Ur/2,p.y=f+Math.floor(Math.random()*Ur)-Ur/2,p.lifecount=CD+Math.floor(Math.random()*HD);let b;u>=2?b=Math.floor(Math.random()*32):b=Math.floor(Math.random()*15)-7+(d<<1)&31;const w=LD+Math.floor(Math.random()*GD);p.h=_e[b]*w,p.v=_e[b+24&31]*w,p.rot16=Math.floor(Math.random()*256),p.rotspeed=Math.floor(Math.random()*v2)-v2/2,u===1&&(d&1)===0?p.kind=d&3?6:5:p.kind=u}if(a.totalsparks===ga&&a.sparksalive>0)return;a.totalsparks=Yo,a.sparksalive=Yo;let h,g;u>=2?(h=0,g=511):(h=(d-4&15)<<5,g=h+256);for(let S=0;S<Yo&&S<ga;S++){const D=a.sparks[S];D.x8=r<<3,D.y8=f<<3,D.x=r,D.y=f,D.lifecount=YD+Math.floor(Math.random()*XD);const p=Math.floor(Math.random()*(g-h+1))+h&511,b=p>>4,w=p&15,E=_e[b&31],A=_e[b+1&31],_=E+(w*(A-E)>>4),v=b+24&31,M=_e[v],U=_e[v+1&31],k=M+(w*(U-M)>>4),G=8+Math.floor(Math.random()*FD);D.h=G*_>>4,D.v=G*k>>4}},startShipDeath:(a,i)=>{const{x:r,y:f}=i.payload;a.shipDeathFlash=!0,a.totalsparks=Go,a.sparksalive=Go;const d=r<<3,u=f<<3;for(let c=0;c<Go&&c<ga;c++){const o=a.sparks[c];o.x8=d,o.y8=u,o.x=r,o.y=f,o.lifecount=jD+Math.floor(Math.random()*qD);const h=Math.floor(Math.random()*512),g=h>>4,S=h&15,D=_e[g&31],p=_e[g+1&31],b=D+(S*(p-D)>>4),w=g+24&31,E=_e[w],A=_e[w+1&31],_=E+(S*(A-E)>>4),v=16+Math.floor(Math.random()*ZD);o.h=v*b>>4,o.v=v*_>>4}},startBlowup:(a,i)=>{const{x:r,y:f,numspks:d,minsp:u,addsp:c,minlife:o,addlife:h}=i.payload,g=r<<3,S=f<<3;a.totalsparks=d,a.sparksalive=d;for(let D=0;D<d&&D<ga;D++){const p=a.sparks[D];p.x8=g,p.y8=S,p.lifecount=o+Math.floor(Math.random()*h);const b=Math.floor(Math.random()*512),w=b>>4,E=b&15,A=_e[w&31],_=_e[w+1&31],v=A+(E*(_-A)>>4),M=w+24&31,U=_e[M],k=_e[M+1&31],G=U+(E*(k-U)>>4),Q=u+Math.floor(Math.random()*c);p.h=Q*v>>4,p.v=Q*G>>4,p.x=p.x8>>3,p.y=p.y8>>3}},updateExplosions:(a,i)=>{const{worldwidth:r,gravx:f,gravy:d,gravityPoints:u=[]}=i.payload,c=r<<3,o=i.payload.worldwrap;for(let h=0;h<Zr;h++){const g=a.shards[h];if(g.lifecount>0){g.lifecount--,g.h-=g.h>>m2,g.v-=g.v>>m2;const S=my({x:g.x,y:g.y,gravx:f,gravy:d,gravityPoints:u,worldwidth:r,worldwrap:o});g.h+=S.xg<<2,g.v+=S.yg<<2,g.x+=g.h>>8,g.y+=g.v>>8,g.rot16=g.rot16+g.rotspeed&255}}if(a.sparksalive>0)for(let h=0;h<a.totalsparks&&h<ga;h++){const g=a.sparks[h];g.lifecount>0&&(g.lifecount--,g.lifecount===0&&a.sparksalive--,g.h-=g.h+4>>3,g.v-=g.v+4>>3,g.x8+=g.h,g.y8+=g.v,g.x8<0&&(g.x8+=c),g.x8>=c&&(g.x8-=c),g.y8<0&&(g.lifecount=0),g.x=g.x8>>3,g.y=g.y8>>3)}},clearExplosions:a=>{a.shards=a.shards.map(()=>cf()),a.sparks=a.sparks.map(()=>Uy()),a.totalsparks=0,a.sparksalive=0,a.shipDeathFlash=!1},clearShipDeathFlash:a=>{a.shipDeathFlash=!1},resetSparksAlive:a=>{a.sparksalive=0},clearShards:a=>{a.shards=a.shards.map(()=>cf())}}}),{startExplosion:b2,startShipDeath:KD,startBlowup:EA,updateExplosions:VD,clearExplosions:_A,clearShipDeathFlash:WD,resetSparksAlive:Ty,clearShards:By}=Oy.actions;function w2(a){return i=>{const{x:r,y:f,def:d,height:u}=a,c=_t(i);if(u<=0||d.length===0||r<-16||r>=c.width)return c;let o=f,h=u,g=0;if(o<0?(g=-o,h+=o,o=0):o+h>lt&&(h=lt-o),h<=0)return c;const S=o+St,D=xt({data:{D3:h-1,D4:4294967295,D5:4294967295},address:{A0:ce(0,r,S)}});r<-16?D.D4=0:r<0?D.D4=65535:r>=I-16?(D.D4=D.D4^65535,D.D5=D.D5^65535):r>=I-32&&(D.D5=D.D5^65535);const b=16-(r&15),w=64;let E=g;do{if(E>=d.length)break;const A=d[E]||0;if(E++,A!==0){let _=A<<b>>>0;if(_=_&D.D4,D.A0>=0&&D.A0+3<c.data.length){const M=((c.data[D.A0]<<24|c.data[D.A0+1]<<16|c.data[D.A0+2]<<8|c.data[D.A0+3])^_)>>>0;c.data[D.A0]=M>>>24&255,c.data[D.A0+1]=M>>>16&255,c.data[D.A0+2]=M>>>8&255,c.data[D.A0+3]=M&255}}D.A0+=w}while(D.instructions.dbra("D3"));return c}}function x2(a){return i=>{const{x:r,y:f}=a,d=_t(i),c=(f+St)*d.rowBytes,o=Math.floor(r/8),h=r&7,g=~(192>>h)&255,S=c+o,D=c+d.rowBytes+o;return S>=0&&S<d.data.length&&(d.data[S]&=g,h>=7&&o+1<d.rowBytes&&(d.data[S+1]&=127)),D>=0&&D<d.data.length&&(d.data[D]&=g,h>=7&&o+1<d.rowBytes&&(d.data[D+1]&=127)),d}}function JD(a){return i=>{const{explosions:r,screenx:f,screeny:d,worldwidth:u,worldwrap:c,shardImages:o}=a,h=f+I-Or,g=d+lt-Or,S=f+I-1,D=d+lt-1;let p=_t(i);for(let b=0;b<Zr;b++){const w=r.shards[b];if(w.lifecount>0&&w.y>d&&w.y<g){if(w.x>f&&w.x<h){const E=re({x:w.x,y:w.y,screenX:f,screenY:d}),A=w.rot16>>4,_=o==null?void 0:o.getSprite(w.kind,A);if(_){const v=E===0?_.images.background1:_.images.background2,M=new Uint16Array(v.length/2);for(let U=0;U<M.length;U++)M[U]=v[U*2]<<8|v[U*2+1];p=w2({x:w.x-f,y:w.y-d,def:M,height:Or})(p)}}if(c&&w.x>f-u&&w.x<h-u){const E=re({x:w.x,y:w.y,screenX:f,screenY:d}),A=w.rot16>>4,_=o==null?void 0:o.getSprite(w.kind,A);if(_){const v=E===0?_.images.background1:_.images.background2,M=new Uint16Array(v.length/2);for(let U=0;U<M.length;U++)M[U]=v[U*2]<<8|v[U*2+1];p=w2({x:w.x-f+u,y:w.y-d,def:M,height:Or})(p)}}}}if(r.sparksalive>0){const b=f>u-I;for(let w=0;w<r.totalsparks&&w<ga;w++){const E=r.sparks[w];E.lifecount>0&&E.y>=d&&E.y<D&&(E.x>=f&&E.x<S?p=x2({x:E.x-f,y:E.y-d})(p):b&&E.x<S-u&&(p=x2({x:E.x-f+u,y:E.y-d})(p)))}}return p}}const Zi={HEADER_BYTES:160,FILE_IDENTIFIER:-17,PLANET_INDEX_OFFSET:10};function $D(a){if(mf(a).getWord(0)!==Zi.FILE_IDENTIFIER)throw new Error("Not a valid galaxy file")}function ID(a){$D(a);const i=a.slice(0,Zi.HEADER_BYTES),r=a.slice(Zi.HEADER_BYTES);return{headerBuffer:i,planetsBuffer:r}}function PD(a){const i=mf(a),r=i.getWord(2),f=i.getWord(4),d=Zi.PLANET_INDEX_OFFSET+r,u=new Uint8Array(a.slice(Zi.PLANET_INDEX_OFFSET,d)),c=Array.from(u);return{planets:r,cartplanet:f,indexes:c}}const E2={splitBuffer:ID,parseHeader:PD};function tS(){const a={header:null,planetsBuffer:null,parsedPlanetsCache:new Map};return{async loadGalaxy(i=tf.GALAXY_DATA){const r=await fetch(i);if(!r.ok)throw new Error(`Failed to load galaxy file from ${i}`);const f=await r.arrayBuffer(),{headerBuffer:d,planetsBuffer:u}=E2.splitBuffer(f),c=E2.parseHeader(d);return a.header=c,a.planetsBuffer=u,a.parsedPlanetsCache.clear(),console.log(`Galaxy loaded: ${c.planets} planets`),c},getHeader(){return a.header},getPlanetsBuffer(){return a.planetsBuffer},getPlanet(i){if(!a.header||!a.planetsBuffer)throw new Error("Galaxy data not loaded. Call loadGalaxy() first.");if(a.parsedPlanetsCache.has(i))return a.parsedPlanetsCache.get(i);const r=fp(a.planetsBuffer,a.header.indexes,i),f=r.lines;let d=!0;for(let u=1;u<f.length;u++){const c=f[u],o=f[u-1];if(c&&o&&c.startx<o.startx){d=!1;break}}return r.wallsSorted=d,d||console.warn(`Planet ${i}: Walls are NOT sorted by startx. This may cause collision detection and junction finding issues.`),a.parsedPlanetsCache.set(i,r),r},getAllPlanets(){if(!a.header||!a.planetsBuffer)throw new Error("Galaxy data not loaded. Call loadGalaxy() first.");const i=[];for(let r=1;r<=a.header.planets;r++)i.push(this.getPlanet(r));return i},isLoaded(){return a.header!==null&&a.planetsBuffer!==null},clear(){a.header=null,a.planetsBuffer=null,a.parsedPlanetsCache.clear()}}}let Xo=null;function My(){return Xo||(Xo=tS()),Xo}function eS(a,i,r){let{shipx:f,shipy:d,dx:u,dy:c}=a,{screenx:o,screeny:h}=i;const{worldwidth:g,worldheight:S,worldwrap:D}=r;f<wo?(o+=f-wo,f=wo):f>xo&&(o+=f-xo,f=xo),!D&&o<0&&(f+=o,o=0),!D&&o>g-I&&(f+=o-(g-I),o=g-I),o>=g?o-=g:o<0&&(o+=g),d<Mr?(h+=d-Mr,d=Mr):d>Rr&&(h+=d-Rr,d=Rr),h<0?(d+=h,h=0):h>S-lt&&(d+=h-(S-lt),h=S-lt);let p=o+f;p>g&&(p-=g);const b=h+d,w=o>g-I;return(d<on||d>lt-on)&&(c=0,d=d<on?on:lt-on),(f<on||f>I-on)&&(u=0,f=f<on?on:I-on),{shipx:f,shipy:d,screenx:o,screeny:h,dx:u,dy:c,globalx:p,globaly:b,on_right_side:w}}const nS=a=>{const f=new Uint8Array(8192);let d=0,u=0,c=a,o=1,h,g=!1;const S=()=>{const v=d-u;return v>=0?v:v+8192},D=()=>{var M;const v=c.generateChunk();if(!g&&((M=c.hasEnded)!=null&&M.call(c))&&(g=!0,h&&h()),v.length!==370)throw new Error(`Generator returned ${v.length} bytes, expected 370`);for(let U=0;U<v.length;U++){const G=v[U]-128,Q=Math.round(G*o);if(f[d]=Math.max(0,Math.min(255,Q+128)),d=d+1&8191,d===u)throw new Error("Buffer overflow: write position caught up to read position. Buffer is full with unread data. Consumer needs to read more frequently.")}},p=v=>{for(;S()<v;)D()};return{requestSamples:v=>{const M=new Uint8Array(v);p(v);for(let U=0;U<v;U++)M[U]=f[u],u=u+1&8191;return M},getAvailableSamples:S,setGenerator:(v,M)=>{c=v,h=M,g=!1},getBufferState:()=>({writePosition:d,readPosition:u,available:S()}),reset:()=>{d=0,u=0},setVolume:v=>{o=Math.max(0,Math.min(1,v))}}};function aS(a){return(a-128)/128}function lS(a,i,r=0){const f=Math.min(a.length,i.length-r);for(let d=0;d<f;d++)i[r+d]=aS(a[d]);return f}const iS=a=>{let i=null,r=null,f=!1,d=0,u=0,c=0;const o=22200,h=512,g=A=>{const _=A.outputBuffer,v=_.getChannelData(0);u++;const M=performance.now();try{const U=a.requestSamples(v.length);lS(U,v);for(let G=1;G<_.numberOfChannels;G++)_.getChannelData(G).set(v);const k=performance.now()-M;c+=k,k>10&&u>5&&(d++,d<=3&&console.warn(`Audio callback took too long: ${k.toFixed(2)}ms`))}catch(U){console.error("Audio processing error:",U),v.fill(0)}},S=()=>{if(!f)try{i||(i=new AudioContext({sampleRate:o})),i.state==="suspended"&&console.log("AudioContext is suspended, will resume on user interaction");const A=h*2;a.requestSamples(A),r=i.createScriptProcessor(h,0,i.destination.channelCount),r.onaudioprocess=g,r.connect(i.destination),f=!0,console.log("Audio started:",{sampleRate:i.sampleRate,bufferSize:h,channels:i.destination.channelCount,latency:i.baseLatency||"unknown"})}catch(A){throw console.error("Failed to start audio:",A),D(),A}},D=()=>{r&&(r.disconnect(),r.onaudioprocess=null,r=null),f=!1,d=0,u=0,c=0};return{start:S,stop:D,isPlaying:()=>f&&(i==null?void 0:i.state)==="running",getContext:()=>i,resumeContext:async()=>{if(i&&i.state==="suspended")try{await i.resume(),console.log("AudioContext resumed successfully")}catch(A){console.error("Failed to resume AudioContext:",A)}},getStats:()=>({underruns:d,totalCallbacks:u,averageLatency:u>0?c/u:0})}},Kt=370,vt=128,uS=()=>({generateChunk:()=>{const u=new Uint8Array(Kt);return u.fill(vt),u},reset:()=>{},hasEnded:()=>!1,start:()=>{},stop:()=>{}}),rS="808283858688898B8C8E909193949697989A9B9D9EA0A1A2A4A5A6A7A9AAABACADAEAFB0B1B2B3B4B5B6B7B8B8B9BABBBBBCBCBDBDBEBEBEBFBFBFC0C0C0C0C0C0C0C0C0C0C0BFBFBFBEBEBEBDBDBCBCBBBBBAB9B8B8B7B6B5B4B3B2B1B0AFAEADACABAAA9A7A6A5A4A2A1A09E9D9B9A989796949391908E8C8B898886858382807E7D7B7A7877757472706F6D6C6A696866656362605F5E5C5B5A5957565554535251504F4E4D4C4B4A4948484746454544444343424242414141404040404040404040404041414142424243434444454546474848494A4B4C4D4E4F5051525354555657595A5B5C5E5F606263656668696A6C6D6F7072747577787A7B7D7E",cS=()=>{const a=new Uint8Array(256);for(let i=0;i<256;i++){const r=rS.substring(i*2,i*2+2);a[i]=parseInt(r,16)}return a},Qr=cS();if(Qr.length!==256)throw new Error(`Invalid sine table size: ${Qr.length}, expected 256`);const sS=27,_2=5,U2=370,oS=()=>{const a=xt();let i=0,r=0,f=!1;const d=new Uint8Array(U2*2);let u=!1;const c=()=>{const D=new Uint8Array(Kt);if(u&&!f&&(h(),u=!1),!f||i<_2)return D.fill(vt),D;d.fill(0);const p=a.D3;a.A0=0,a.D3=5;let b=r&255,w=!0;for(;;){if(!w){a.D1=i&65535;for(let E=0;E<=a.D2;E++){const A=Qr[b&255];a.A0<d.length&&(d[a.A0]=A),a.A0=a.A0+2&65535,b=b+(a.D1&255)&255}}if(a.D2=Math.floor(U2/5)-1,i=i-1&65535,w=!1,a.D3===0)break;a.D3--}i=i+1&65535,a.D3=p,r=b,i<_2&&(f=!1);for(let E=0;E<Kt;E++){const A=E*2;A<d.length?D[E]=d[A]||vt:D[E]=vt}return D},o=()=>{i=sS,r=0,f=!0,u=!1},h=()=>{f||o()};return{generateChunk:c,reset:o,hasEnded:()=>!f,start:h,stop:()=>{f=!1,i=0,r=0}}},O2=370,fS=50,dS=206;var zr=(a=>(a[a.BUNKER=2]="BUNKER",a[a.SHIP=8]="SHIP",a[a.ALIEN=9]="ALIEN",a))(zr||{});const hS={2:{initialAmp:16,ampChange:2,priority:90},8:{initialAmp:1,ampChange:1,priority:100},9:{initialAmp:64,ampChange:3,priority:50}},jo=a=>{const i=xt(),r=hS[a];let f=0,d=0,u=!1;const c=new Uint8Array(O2*2),o=new Uint8Array(64);for(let w=0;w<64;w++)o[w]=fS+Math.floor(Math.random()*dS);let h=!1;const g=()=>{const w=new Uint8Array(Kt);if(h&&!u&&(D(),h=!1),!u)return w.fill(vt),w;c.fill(0);let A=Math.floor(Math.random()*64)&63;for(i.A0=0,i.D1=Math.floor(O2/2)-1,i.D0=(f&255)<<8;;){i.D0=(i.D0^65280)&65535,i.D2=o[A&63],A=A+1&63,i.D2=i.D2>>1;t:do{if(i.A0<c.length-1&&(c[i.A0]=i.D0>>8&255,c[i.A0+1]=i.D0&255),i.A0+=2,i.A0<c.length-1&&(c[i.A0]=i.D0>>8&255,c[i.A0+1]=i.D0&255),i.A0+=2,i.D1=i.D1-1&65535,!(i.D1&32768)&&(i.D2=i.D2-1&65535,(i.D2&65535)!==65535))continue t;break}while(!0);if(i.D1&32768)break}f+=d,f>127&&(u=!1);for(let _=0;_<Kt;_++){const v=_*2;if(v<c.length){const M=c[v];w[_]=M||vt}else w[_]=vt}return w},S=()=>{f=r.initialAmp,d=r.ampChange,u=!0,h=!1},D=()=>{u||S()};return{generateChunk:g,reset:S,hasEnded:()=>!u,start:D,stop:()=>{u=!1,f=0}}},T2=370,yS=64,gS=128,pS=()=>{const a=xt();let i=!1,r=!1;const f=new Uint8Array(T2*2),d=new Uint8Array(64);for(let D=0;D<64;D++)d[D]=yS+Math.floor(Math.random()*gS);let u=!0;const c=()=>{const D=new Uint8Array(Kt);if(u&&!i&&(h(),u=!1),!i)return D.fill(vt),D;f.fill(0);let b=Math.floor(Math.random()*64)&63;const w=a.registers.data.D4;a.A0=0,a.registers.data.D4=Math.floor(T2/37)-1;do{a.D0=0;const E=d[b&63];a.D0=E,b=b+1&63,a.D0=a.D0>>1&65535,a.D0=a.D0<<8&65535,a.D1=a.D0&65535;const A=a.D0&65535;a.D0=A<<16|0,a.D0=a.D0&4294901760|a.D1&65535,a.D2=Math.floor(36/6)-1;do{for(let _=0;_<3;_++)a.A0<f.length-3&&(f[a.A0]=a.D0>>24&255,f[a.A0+1]=a.D0>>16&255,f[a.A0+2]=a.D0>>8&255,f[a.A0+3]=a.D0&255),a.A0+=4;a.D2=a.D2-1&65535}while((a.D2&65535)!==65535);a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.registers.data.D4=a.registers.data.D4-1&65535}while((a.registers.data.D4&65535)!==65535);a.registers.data.D4=w,r||(i=!1);for(let E=0;E<Kt;E++){const A=E*2;if(A<f.length){const _=f[A];D[E]=_||vt}else D[E]=vt}return D},o=()=>{i=!0,r=!0,u=!1},h=()=>{o()};return{generateChunk:c,reset:o,hasEnded:()=>!1,start:h,stop:()=>{i=!1,r=!1}}},B2=370,DS=50,SS=()=>{const a=xt();let i=!1,r=!1,f=!1;const d=new Uint8Array(B2*2);let u=!0;const c=(p,b)=>{for(a.A0=0,a.D2=B2-1,a.D0=b&65535;(a.D2&65535)<32768;){const E=~(a.D0&255)+1&255;a.D0=a.D0&65280|E;const A=a.D0&255;for(a.D1=p&65535;a.A0<d.length&&(d[a.A0]=A),a.A0=a.A0+2&65535,a.D2=a.D2-1&65535,!(a.D2&32768||(a.D1=a.D1-1&65535,(a.D1&65535)===65535)););if(a.D2&32768)break}},o=()=>{const p=new Uint8Array(Kt);if(u&&!i&&(g(),u=!1),!i)return p.fill(vt),p;d.fill(0);let b=DS;f=!f,f&&(b+=2),c(b,96),r||(i=!1);for(let w=0;w<Kt;w++){const E=w*2;if(E<d.length){const A=d[E];p[w]=A||vt}else p[w]=vt}return p},h=()=>{i=!0,r=!0,f=!1,u=!1},g=()=>{h()};return{generateChunk:o,reset:h,hasEnded:()=>!1,start:g,stop:()=>{i=!1,r=!1}}},qo=370,M2=104,R2=3,AS=()=>{const a=xt();let i=M2,r=R2,f=2,d=!1;const u=new Uint8Array(qo*2);let c=!1;const o=()=>{const p=new Uint8Array(Kt);if(c&&!d&&(g(),c=!1),!d)return p.fill(vt),p;u.fill(0);const b=a.D3;a.A0=0,a.D0=(i&255)<<8,a.D3=4,a.D2=Math.floor(qo/5);let w=!1;t:do{w||(a.D1=f&65535,a.D1=a.D1>>1,a.D0=(a.D0^65280)&65535),w=!1;e:do{if(a.A0<u.length-1&&(u[a.A0]=a.D0>>8&255,u[a.A0+1]=a.D0&255),a.A0+=2,a.A0<u.length-1&&(u[a.A0]=a.D0>>8&255,u[a.A0+1]=a.D0&255),a.A0+=2,a.D2=a.D2-2&65535,!(a.D2&32768)&&a.D2!==0&&(a.D1=a.D1-1&65535,(a.D1&65535)!==65535))continue e;break}while(!0);if(!(a.D2&32768)&&a.D2!==0)continue t;if(a.D2=Math.floor(qo/5),f=f+1&65535,a.D3=a.D3-1&65535,(a.D3&65535)!==65535){w=!0;continue t}break}while(!0);a.D3=b,i+=r,f>40&&(d=!1);for(let E=0;E<Kt;E++){const A=E*2;if(A<u.length){const _=u[A];p[E]=_||vt}else p[E]=vt}return p},h=()=>{i=M2,r=R2,f=2,d=!0,c=!1},g=()=>{d||h()};return{generateChunk:o,reset:h,hasEnded:()=>!d,start:g,stop:()=>{d=!1,i=0,f=0}}},Fo=370,N2=120,k2=1,mS=()=>{const a=xt();let i=N2,r=k2,f=2,d=!1;const u=new Uint8Array(Fo*2);let c=!1;const o=()=>{const p=new Uint8Array(Kt);if(c&&!d&&(g(),c=!1),!d)return p.fill(vt),p;u.fill(0);const b=a.D3;a.A0=0,a.D0=(i&255)<<8,a.D3=4,a.D2=Math.floor(Fo/5);let w=!1;t:do{w||(a.D1=f&65535,a.D1=a.D1>>1,a.D0=(a.D0^65280)&65535),w=!1;e:do{if(a.A0<u.length-1&&(u[a.A0]=a.D0>>8&255,u[a.A0+1]=a.D0&255),a.A0+=2,a.A0<u.length-1&&(u[a.A0]=a.D0>>8&255,u[a.A0+1]=a.D0&255),a.A0+=2,a.D2=a.D2-2&65535,!(a.D2&32768)&&a.D2!==0&&(a.D1=a.D1-1&65535,(a.D1&65535)!==65535))continue e;break}while(!0);if(!(a.D2&32768)&&a.D2!==0)continue t;if(a.D2=Math.floor(Fo/5),f=f+1&65535,a.D3=a.D3-1&65535,(a.D3&65535)!==65535){w=!0;continue t}break}while(!0);a.D3=b,i+=r,f>40&&(d=!1);for(let E=0;E<Kt;E++){const A=E*2;if(A<u.length){const _=u[A];p[E]=_||vt}else p[E]=vt}return p},h=()=>{i=N2,r=k2,f=2,d=!0,c=!1},g=()=>{d||h()};return{generateChunk:o,reset:h,hasEnded:()=>!d,start:g,stop:()=>{d=!1,i=0,f=0}}},Zo=370,vS=26,bS=3,z2=bS*2<<2,wS=()=>{const a=xt();let i=z2,r=0,f=!1;const d=new Uint8Array(Zo*2);let u=!1;const c=b=>{a.D1=b&65535,a.A0=0,a.D2=Zo-1;let w=r&255;for(let E=0;E<=Zo-1;E++){const A=Qr[w&255];a.A0<d.length&&(d[a.A0]=A),a.A0+=2,w=w+(a.D1&255)&255}r=w},o=()=>{d.fill(vt)},h=()=>{const b=new Uint8Array(Kt);if(u&&!f&&(S(),u=!1),!f)return b.fill(vt),b;d.fill(0),i--,i>>2&1?c(vS):o(),i<=0&&(f=!1);for(let w=0;w<Kt;w++){const E=w*2;E<d.length?b[w]=d[E]||vt:b[w]=vt}return b},g=()=>{i=z2,r=0,f=!0,u=!1},S=()=>{f||g()};return{generateChunk:h,reset:g,hasEnded:()=>!f,start:S,stop:()=>{f=!1,i=0}}},xS=()=>{const a=new Uint8Array(256);let i=4660;const r=()=>(i=i*1103515245+12345&2147483647,i/2147483647);for(let f=0;f<256;f++)a[f]=Math.floor(r()*40)+4;return a},xf=xS(),C2=370,H2=6,ES=()=>{const a=xt();let i=H2,r=!1;const f=new Uint8Array(C2*2);let d=!1;const u=()=>{const S=new Uint8Array(Kt);if(d&&!r&&(o(),d=!1),!r)return S.fill(vt),S;if(f.fill(0),i--,i>0){let p=Math.floor(Math.random()*32)&31;for(a.A0=0,a.D1=Math.floor(C2/2)-1,a.D0=8192;;){a.D0=(a.D0^65280)&65535,a.D2=xf[p&31],p=p+1&31,a.D2=a.D2>>2;t:do{if(a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.D1=a.D1-1&65535,!(a.D1&32768)&&(a.D2=a.D2-1&65535,(a.D2&65535)!==65535))continue t;break}while(!0);if(a.D1&32768)break}}else r=!1;for(let D=0;D<Kt;D++){const p=D*2;if(p<f.length){const b=f[p];S[D]=b||vt}else S[D]=vt}return S},c=()=>{i=H2,r=!0,d=!1},o=()=>{r||c()};return{generateChunk:u,reset:c,hasEnded:()=>!r,start:o,stop:()=>{r=!1,i=0}}},L2=370,G2=80,_S=()=>{const a=xt();let i=G2,r=!1;const f=new Uint8Array(L2*2);let d=!1;const u=()=>{const S=new Uint8Array(Kt);if(d&&!r&&(o(),d=!1),!r)return S.fill(vt),S;if(f.fill(0),i--,i>0){const D=i+40;let b=Math.floor(Math.random()*32)&31;for(a.A0=0,a.D1=Math.floor(L2/2)-1,a.D0=(D&255)<<8|(D&65280)>>8;;){a.D0=(a.D0^65280)&65535,a.D2=xf[b&31],b=b+1&31,a.D2=a.D2>>1;t:do{if(a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.D1=a.D1-1&65535,!(a.D1&32768)&&(a.D2=a.D2-1&65535,(a.D2&65535)!==65535))continue t;break}while(!0);if(a.D1&32768)break}}else r=!1;for(let D=0;D<Kt;D++){const p=D*2;if(p<f.length){const b=f[p];S[D]=b||vt}else S[D]=vt}return S},c=()=>{i=G2,r=!0,d=!1},o=()=>{r||c()};return{generateChunk:u,reset:c,hasEnded:()=>!r,start:o,stop:()=>{r=!1,i=0}}},Y2=370,X2=20*6-1,US=[1,2,5,9,19,37],OS=()=>{const a=xt();let i=X2,r=!1;const f=new Uint8Array(Y2*2);let d=!1;const u=()=>{f.fill(vt)},c=()=>{const D=new Uint8Array(Kt);if(d&&!r&&(h(),d=!1),!r)return D.fill(vt),D;if(f.fill(0),i--,i>0){const p=i%20,b=Math.floor(i/20);if(p>=15)u();else{const w=128-((15-p)*US[b]>>4);let A=Math.floor(Math.random()*32)&31;for(a.A0=0,a.D1=Math.floor(Y2/2)-1,a.D0=(w&255)<<8|(w&65280)>>8;;){a.D0=(a.D0^65280)&65535,a.D2=xf[A&31],A=A+1&31,a.D2=a.D2>>1;t:do{if(a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.A0<f.length-1&&(f[a.A0]=a.D0>>8&255,f[a.A0+1]=a.D0&255),a.A0+=2,a.D1=a.D1-1&65535,!(a.D1&32768)&&(a.D2=a.D2-1&65535,(a.D2&65535)!==65535))continue t;break}while(!0);if(a.D1&32768)break}}}else r=!1;for(let p=0;p<Kt;p++){const b=p*2;if(b<f.length){const w=f[b];D[p]=w||vt}else D[p]=vt}return D},o=()=>{i=X2,r=!0,d=!1},h=()=>{r||o()};return{generateChunk:c,reset:o,hasEnded:()=>!r,start:h,stop:()=>{r=!1,i=0}}},TS=()=>{const a={silence:uS(),fire:oS(),thruster:pS(),shield:SS(),explosionBunker:jo(zr.BUNKER),explosionShip:jo(zr.SHIP),explosionAlien:jo(zr.ALIEN),bunker:AS(),soft:mS(),fuel:wS(),crack:ES(),fizz:_S(),echo:OS()},i=nS(a.silence),r=iS(i);let f=a.silence,d="silence";const u=()=>r.getContext(),c=()=>{const E=u();if(!E)return null;const A=E.createGain();return A.connect(E.destination),A},o=E=>{i.setVolume(E)},h=()=>{r.start()},g=()=>{r.stop(),Object.values(a).forEach(E=>{E&&typeof E.reset=="function"&&E.reset()}),f=a.silence,d="silence",i.setGenerator(f)},S=(E,A)=>{const _=a[E];if(!_){console.warn(`Unknown sound type: ${E}`);return}f&&f!==_&&("stop"in f&&typeof f.stop=="function"?f.stop():"reset"in f&&typeof f.reset=="function"&&f.reset()),"start"in _&&typeof _.start=="function"?_.start():"reset"in _&&typeof _.reset=="function"&&_.reset(),f=_,d=E,i.setGenerator(f,A)},D=()=>d,p=async()=>{await r.resumeContext()},b=u();return{audioContext:b||new AudioContext,masterGain:c()||(b?b.createGain():new AudioContext().createGain()),setVolume:o,start:h,stop:g,play:S,getCurrentSoundType:D,isPlaying:r.isPlaying,resumeContext:p}};let Tl=null,Ht=null,Ef=null,Ml=!1,sf=!1,Tr=1,Dn=!1,me="none";const BS={[et.NO_SOUND]:"silence",[et.FIRE_SOUND]:"fire",[et.EXP1_SOUND]:"explosionBunker",[et.THRU_SOUND]:"thruster",[et.BUNK_SOUND]:"bunker",[et.SOFT_SOUND]:"soft",[et.SHLD_SOUND]:"shield",[et.FUEL_SOUND]:"fuel",[et.EXP2_SOUND]:"explosionShip",[et.EXP3_SOUND]:"explosionAlien",[et.CRACK_SOUND]:"crack",[et.FIZZ_SOUND]:"fizz",[et.ECHO_SOUND]:"echo"};async function MS(){Ht!=null&&Ht.resumeContext&&await Ht.resumeContext()}function Li(a,i){if(!Ht||(MS(),sf)||(a==="thruster"?me="thruster":a==="shield"?me="shield":a==="silence"&&(me="none"),Dn&&a!=="silence"&&!(i!=null&&i.highPriority)))return;a==="silence"&&Dn&&(Dn=!1),Ml||(Ht.start(),Ml=!0);const f=!(a==="thruster"||a==="shield")&&a!=="silence";i!=null&&i.highPriority?(Dn=!0,Ht.play(a,()=>{Dn=!1,f&&me!=="none"&&Ht&&Ht.play(me)})):f?Ht.play(a,()=>{me!=="none"&&Ht&&Ht.play(me)}):Ht.play(a)}function Je(a,i){const r=BS[a];r&&(Li(r,i),Ef=a)}function j2(){!Ht||!Ml||(Ht.stop(),Ml=!1,Ef=null,Dn=!1,me="none")}async function RS(a){if(Tl)return Tl;try{return Ht=TS(),Tr=(a==null?void 0:a.volume)??1,sf=!((a==null?void 0:a.enabled)??!0),Ht&&Ht.setVolume(Tr),Tl={playShipFire:i=>Je(et.FIRE_SOUND,i),playShipThrust:i=>Je(et.THRU_SOUND,i),playShipShield:i=>Je(et.SHLD_SOUND,i),playShipShieldDiscrete:i=>{if(!Ht)return;const r=me;Li("shield",i),setTimeout(()=>{Ht&&(i!=null&&i.highPriority&&(Dn=!1),me=r,r!=="none"?Ht.play(r):Ht.play("silence"))},30)},playShipExplosion:i=>Je(et.EXP2_SOUND,i),playBunkerShoot:i=>Je(et.BUNK_SOUND,i),playBunkerExplosion:i=>Je(et.EXP1_SOUND,i),playBunkerSoft:i=>Je(et.SOFT_SOUND,i),playFuelCollect:i=>Je(et.FUEL_SOUND,i),playLevelComplete:i=>Je(et.CRACK_SOUND,i),playLevelTransition:i=>Je(et.FIZZ_SOUND,i),playEcho:i=>Je(et.ECHO_SOUND,i),playAlienExplosion:i=>Je(et.EXP3_SOUND,i),playSound:(i,r)=>Li(i,r),stopAll:()=>j2(),stopThrust:()=>{me==="thruster"&&(me="none",Dn||Li("silence"))},stopShield:()=>{me==="shield"&&(me="none",Dn||Li("silence"))},setVolume:i=>{Tr=Math.max(0,Math.min(1,i)),Ht&&Ht.setVolume(Tr)},setMuted:i=>{sf=i,i&&Ml&&j2()},isPlaying:()=>Ml,getCurrentSound:()=>Ef,isHighPriorityPlaying:()=>Dn,getCurrentContinuous:()=>me,getEngine:()=>Ht},Tl}catch(i){throw console.error("Failed to initialize sound service:",i),i}}function NS(){if(!Tl)throw new Error("Sound service not initialized. Call initializeSoundService() first.");return Tl}const kS=new Set([et.EXP2_SOUND,et.FIZZ_SOUND,et.ECHO_SOUND,et.FUEL_SOUND,et.EXP1_SOUND]),zS=[et.ECHO_SOUND,et.FIZZ_SOUND,et.EXP2_SOUND,et.EXP1_SOUND,et.EXP3_SOUND,et.FUEL_SOUND,et.SHLD_SOUND,et.FIRE_SOUND,et.BUNK_SOUND,et.SOFT_SOUND,et.CRACK_SOUND];function Qo(a,i){if(a.enabled)try{const r=NS();let f=null;if(a.discrete.length>0){for(const d of zS)if(a.discrete.includes(d)){f=d;break}}if(f!==null){const d=kS.has(f);switch(f){case et.FIRE_SOUND:r.playShipFire({highPriority:d});break;case et.EXP1_SOUND:r.playBunkerExplosion({highPriority:d});break;case et.EXP2_SOUND:r.playShipExplosion({highPriority:d});break;case et.EXP3_SOUND:r.playAlienExplosion({highPriority:d});break;case et.BUNK_SOUND:r.playBunkerShoot({highPriority:d});break;case et.SOFT_SOUND:r.playBunkerSoft({highPriority:d});break;case et.FUEL_SOUND:r.playFuelCollect({highPriority:d});break;case et.FIZZ_SOUND:r.playLevelTransition({highPriority:d});break;case et.CRACK_SOUND:r.playLevelComplete({highPriority:d});break;case et.ECHO_SOUND:r.playEcho({highPriority:d});break;case et.SHLD_SOUND:r.playShipShieldDiscrete({highPriority:d});break}return}if(a.continuous.thrusting&&!a.lastContinuous.thrusting?r.playShipThrust():!a.continuous.thrusting&&a.lastContinuous.thrusting&&r.stopThrust(),a.continuous.shielding&&!a.lastContinuous.shielding?r.playShipShield():!a.continuous.shielding&&a.lastContinuous.shielding&&r.stopShield(),i){const d=r.getCurrentContinuous();let u="none";i.shipDeadCount>0||i.transitionActive?u="none":a.continuous.shielding?u="shield":a.continuous.thrusting&&(u="thruster"),d!==u&&(console.log(`Sound sync mismatch: expected ${u}, got ${d}. Correcting...`),d==="thruster"?r.stopThrust():d==="shield"&&r.stopShield(),u==="thruster"?r.playShipThrust():u==="shield"&&r.playShipShield())}}catch(r){console.debug("Sound service not initialized:",r)}}const CS={currentLevel:fy,galaxyHeader:null,galaxyLoaded:!1,gameOver:!1,levelComplete:!1,statusMessage:""},Ry=mn({name:"game",initialState:CS,reducers:{loadGalaxyHeader:(a,i)=>{a.galaxyHeader=i.payload,a.galaxyLoaded=!0},setCurrentLevel:(a,i)=>{a.currentLevel=i.payload,a.levelComplete=!1,a.statusMessage=""},markLevelComplete:a=>{a.levelComplete=!0,a.statusMessage=W3},triggerGameOver:a=>{a.gameOver=!0,a.statusMessage=V3},resetGame:a=>{a.currentLevel=fy,a.gameOver=!1,a.levelComplete=!1,a.statusMessage=""},setStatusMessage:(a,i)=>{a.statusMessage=i.payload},clearStatusMessage:a=>{a.statusMessage=""}}}),{loadGalaxyHeader:HS,setCurrentLevel:LS,markLevelComplete:GS,triggerGameOver:YS,resetGame:Ny,setStatusMessage:UA,clearStatusMessage:OA}=Ry.actions,XS=Ry.reducer;function jS(a){if(a.game.levelComplete)return!1;const{bunkers:i,fuels:r}=a.planet,f=i.every(c=>c.rot<0||!c.alive||c.kind===Zt.GENERATOR),d=r.every(c=>!c.alive);return i.some(c=>c.rot>=0&&c.kind!==Zt.GENERATOR)?f:d}function Qi(a,i){const r=a.getState(),f=My();if(!r.game.galaxyHeader||!f.isLoaded()){console.error("Galaxy data not loaded");return}a.dispatch(LS(i));const d=f.getPlanet(i);console.log(`Loading level ${i}:`,{dimensions:`${d.worldwidth}x${d.worldheight}`,start:`(${d.xstart}, ${d.ystart})`,walls:d.lines.length,wallsSorted:d.wallsSorted,bunkers:d.bunkers.filter(o=>o.rot>=0).length,fuels:d.fuels.length}),a.dispatch(Vi.actions.loadPlanet(d)),a.dispatch(by.actions.initWalls({walls:d.lines})),a.dispatch(ip()),a.dispatch(rp()),a.dispatch(pn.actions.setPlanetBonus(d.planetbonus));const u=I/2,c=Math.floor((Mr+Rr)/2);a.dispatch(Jt.actions.initShip({x:u,y:c,globalx:d.xstart,globaly:d.ystart})),a.dispatch(Jt.actions.setStartPosition({x:u,y:c})),a.dispatch(jr.actions.setPosition({x:d.xstart-u,y:d.ystart-c})),a.dispatch(Op()),a.dispatch(Ty()),a.dispatch(By())}function qS(a){const i=a.getState();if(i.game.galaxyHeader&&i.game.currentLevel>=i.game.galaxyHeader.planets)console.log("Game completed! Restarting from level 1"),a.dispatch(Ny()),Qi(a,1);else{const r=i.game.currentLevel+1;Qi(a,r)}}const P=I4({reducer:{ship:Jt.reducer,planet:Vi.reducer,screen:jr.reducer,shots:Ir.reducer,walls:by.reducer,sprites:_y.reducer,status:pn.reducer,explosions:Oy.reducer,game:XS,sound:s6}});let ky=!1,of=null;const dt={active:!1,preDelayFrames:0,fizzTransition:null,fromBitmap:null,toBitmap:null,delayFrames:0,fizzJustFinished:!1},FS=45,ZS=30,QS=26,KS=async()=>{try{console.log("Starting game initialization..."),console.log("Initializing sound service...");try{const r=P.getState().sound;await RS({volume:r.volume,enabled:r.enabled}),console.log("Sound service initialized successfully")}catch(r){console.warn("Failed to initialize sound service:",r)}console.log("Loading galaxy file...");const i=await My().loadGalaxy();console.log("Galaxy header:",i),console.log(`Galaxy contains ${i.planets} levels`),P.dispatch(HS(i)),P.dispatch(Jt.actions.setLives($r)),P.dispatch(pn.actions.initStatus()),Qi(P,1),ky=!0,console.log("Game initialization complete")}catch(a){console.error("Error initializing game:",a),of=a}};KS();const VS=a=>{const i=[];return a.has("KeyZ")&&i.push($e.LEFT),a.has("KeyX")&&i.push($e.RIGHT),a.has("Period")&&i.push($e.THRUST),a.has("Slash")&&i.push($e.FIRE),a.has("Space")&&i.push($e.SHIELD),i},WS=a=>(i,r,f)=>{if(of){console.error("Initialization failed:",of),i.data.fill(0);return}if(!ky){i.data.fill(0);return}if(P.getState().ship.deadCount>0&&(P.dispatch(Jt.actions.decrementDeadCount()),P.getState().ship.deadCount===0)){P.dispatch(Jt.actions.respawnShip()),P.dispatch(Ty()),P.dispatch(Tp()),P.dispatch(By());const C=P.getState();P.dispatch(jr.actions.setPosition({x:C.planet.xstart-C.ship.shipx,y:C.planet.ystart-C.ship.shipy}))}const u=P.getState();if(P.dispatch(c6()),dt.active||r.frameCount%10===0&&P.dispatch(pn.actions.decrementBonus()),!dt.active&&jS(u)){console.log(`Level ${u.game.currentLevel} complete!`);const R=u.status.planetbonus;R>0&&(P.dispatch(pn.actions.addScore(R)),console.log(`Awarded ${R} bonus points`)),P.dispatch(Jt.actions.extraLife()),console.log("Awarded extra life for level completion"),P.dispatch(GS()),dt.active=!0,dt.preDelayFrames=FS,dt.delayFrames=0}!u.game.gameOver&&u.ship.lives<=0&&u.ship.deadCount===0&&(console.log("Game Over - All lives lost"),P.dispatch(YS()),P.dispatch(Ny()),P.dispatch(Jt.actions.setLives($r)),P.dispatch(pn.actions.initStatus()),Qi(P,1));let c,o,h;if(u.ship.deadCount===0){(!dt.active||dt.preDelayFrames>0)&&(P.dispatch(o6({controlsPressed:VS(r.keysDown)})),P.dispatch(Jt.actions.moveShip()));const R=P.getState(),C=eS(R.ship,R.screen,R.planet);(C.shipx!==R.ship.shipx||C.shipy!==R.ship.shipy||C.dx!==R.ship.dx||C.dy!==R.ship.dy||C.globalx!==R.ship.globalx||C.globaly!==R.ship.globaly)&&P.dispatch(Jt.actions.updatePosition({x:C.shipx,y:C.shipy,dx:C.dx,dy:C.dy,globalx:C.globalx,globaly:C.globaly})),(C.screenx!==R.screen.screenx||C.screeny!==R.screen.screeny)&&P.dispatch(jr.actions.updatePosition({x:C.screenx,y:C.screeny})),c=C.globalx,o=C.globaly,h=C.on_right_side}else c=u.ship.globalx,o=u.ship.globaly,h=u.screen.screenx>u.planet.worldwidth-I;if(P.dispatch(lp({globalx:c,globaly:o})),P.dispatch(up()),Sn(100)<u.planet.shootslow){const R=u.screen.screenx+I,C=u.screen.screeny+lt,K=u.shots.bunkshots.filter(j=>j.lifecount>0).length;P.dispatch(Up({screenx:u.screen.screenx,screenr:R,screeny:u.screen.screeny,screenb:C,bunkrecs:u.planet.bunkers,walls:u.planet.lines,worldwidth:u.planet.worldwidth,worldwrap:u.planet.worldwrap,globalx:c,globaly:o}));const tt=P.getState();if(tt.shots.bunkshots.filter(j=>j.lifecount>0).length>K){const j=tt.shots.bunkshots.find(($,V)=>$.lifecount>0&&(!u.shots.bunkshots[V]||u.shots.bunkshots[V].lifecount===0));if(j&&j.origin){const{x:V,y:at}=j.origin;V>u.screen.screenx&&V<R&&at>u.screen.screeny&&at<C?P.dispatch(yn(et.BUNK_SOUND)):V>u.screen.screenx-200&&V<R+200&&at>u.screen.screeny-200&&at<C+200&&P.dispatch(yn(et.SOFT_SOUND))}}}P.dispatch(Ir.actions.moveShipshots({bunkers:u.planet.bunkers,shipPosition:{x:c,y:o},shipAlive:u.ship.deadCount===0,walls:u.planet.lines,worldwidth:u.planet.worldwidth,worldwrap:u.planet.worldwrap}));const S=P.getState().shots;if(S.pendingBunkerKills.length>0)for(const R of S.pendingBunkerKills){const C=u.planet.bunkers[R];if(C){P.dispatch(Vh({index:R}));const K=P.getState().planet.bunkers[R];K&&!K.alive&&(P.dispatch(yn(et.EXP1_SOUND)),P.dispatch(pn.actions.scoreBunker({kind:C.kind,rot:C.rot})),P.dispatch(b2({x:C.x,y:C.y,dir:C.rot,kind:C.kind})))}}S.selfHitShield&&(P.dispatch(Jt.actions.activateShieldFeedback()),P.dispatch(yn(et.SHLD_SOUND)));const D=P.getState();P.dispatch(_p({worldwidth:D.planet.worldwidth,worldwrap:D.planet.worldwrap,walls:D.planet.lines,shipGlobalX:D.ship.globalx,shipGlobalY:D.ship.globaly,shielding:D.ship.shielding})),P.dispatch(Ep()),P.dispatch(VD({worldwidth:u.planet.worldwidth,worldwrap:u.planet.worldwrap,gravx:u.planet.gravx,gravy:u.planet.gravy,gravityPoints:u.planet.gravityPoints}));const p=P.getState(),b=p;if(dt.active)if(dt.preDelayFrames>0)dt.preDelayFrames--,dt.preDelayFrames===0&&P.dispatch(Jt.actions.stopShipMovement());else if(dt.fizzTransition)if(dt.fizzTransition.isComplete){dt.fizzJustFinished&&(P.dispatch(yn(et.ECHO_SOUND)),dt.fizzJustFinished=!1),dt.toBitmap&&i.data.set(dt.toBitmap);const R=a.getStatusBarTemplate();let C=Mo({statusBarTemplate:R})(i);const K={fuel:p.ship.fuel,lives:p.ship.lives,score:p.status.score,bonus:p.status.planetbonus,level:b.game.currentLevel,message:b.game.statusMessage||"",spriteService:a};C=Ro(K)(C),i.data.set(C.data),dt.delayFrames++,dt.delayFrames>=ZS&&(dt.active=!1,dt.preDelayFrames=0,dt.fizzTransition=null,dt.fromBitmap=null,dt.toBitmap=null,dt.delayFrames=0,dt.fizzJustFinished=!1,qS(P));const tt=P.getState().sound;Qo(tt,{shipDeadCount:p.ship.deadCount,transitionActive:dt.active});return}else{const R=dt.fizzTransition.nextFrame();i.data.set(R.data),dt.fizzTransition.isComplete&&(dt.fizzJustFinished=!0);const C=a.getStatusBarTemplate();let K=Mo({statusBarTemplate:C})(i);const tt={fuel:p.ship.fuel,lives:p.ship.lives,score:p.status.score,bonus:p.status.planetbonus,level:b.game.currentLevel,message:b.game.statusMessage||"",spriteService:a};K=Ro(tt)(K),i.data.set(K.data);const O=P.getState().sound;Qo(O,{shipDeadCount:p.ship.deadCount,transitionActive:dt.active});return}else{P.dispatch(yn(et.FIZZ_SOUND)),P.dispatch(Yi(!1)),P.dispatch(Xi(!1));const R=_t(i),C=_t(i),K=p.ship.deadCount===0?a.getShipSprite(p.ship.shiprot,{variant:"def"}):null,tt=p.ship.deadCount===0?a.getShipSprite(p.ship.shiprot,{variant:"mask"}):null,O=p3({starCount:150,additionalRender:p.ship.deadCount===0?j=>p2({x:p.ship.shipx-Bt,y:p.ship.shipy-Bt,def:K.bitmap,mask:tt.bitmap})(j):void 0})(C);dt.fromBitmap=new Uint8Array(R.data),dt.toBitmap=new Uint8Array(O.data)}if(p.explosions.shipDeathFlash){const R=d3()(i);i.data.set(R.data),P.dispatch(WD());return}const w=f3({screenX:p.screen.screenx,screenY:p.screen.screeny})(i);i.data.set(w.data),h=p.screen.screenx>p.planet.worldwidth-I;const E={background1:a.getCraterSprite({variant:"background1"}).uint8,background2:a.getCraterSprite({variant:"background2"}).uint8},A=yp({craters:p.planet.craters,numcraters:p.planet.numcraters,scrnx:p.screen.screenx,scrny:p.screen.screeny,worldwidth:p.planet.worldwidth,on_right_side:h,craterImages:E})(i);i.data.set(A.data);const _={getFrame:R=>{const C=a.getFuelSprite(R,{variant:"background1"}),K=a.getFuelSprite(R,{variant:"background2"});return{images:{background1:C.uint8,background2:K.uint8}}},emptyCell:{images:{background1:a.getFuelSprite(8,{variant:"background1"}).uint8,background2:a.getFuelSprite(8,{variant:"background2"}).uint8}}},v=Jh({fuels:p.planet.fuels,scrnx:p.screen.screenx,scrny:p.screen.screeny,fuelSprites:_})(i);if(i.data.set(v.data),h&&p.planet.worldwrap){const R=Jh({fuels:p.planet.fuels,scrnx:p.screen.screenx-p.planet.worldwidth,scrny:p.screen.screeny,fuelSprites:_})(i);i.data.set(R.data)}const M={x:p.screen.screenx,y:p.screen.screeny,b:p.screen.screeny+lt,r:p.screen.screenx+I},U=a.getShipSprite(p.ship.shiprot,{variant:"def"}),k=a.getShipSprite(p.ship.shiprot,{variant:"mask"}),G=U.bitmap,Q=k.bitmap,W=8,J=5;let B=i;const ut=a.getStatusBarTemplate();B=Mo({statusBarTemplate:ut})(B);const Dt=p,ee={fuel:p.ship.fuel,lives:p.ship.lives,score:p.status.score,bonus:p.status.planetbonus,level:Dt.game.currentLevel,message:Dt.game.statusMessage||p.status.curmessage,spriteService:a};if(B=Ro(ee)(B),p.ship.deadCount===0){const R=re({screenX:p.screen.screenx,screenY:p.screen.screeny,objectX:0,objectY:0}),C=re({screenX:p.screen.screenx,screenY:p.screen.screeny,objectX:0,objectY:1}),K=[te(R),te(C)];B=H6({x:p.ship.shipx-(Bt-W),y:p.ship.shipy-(Bt-J),def:Q,background:K})(B)}if(B=ND({whites:p.walls.whites,junctions:p.walls.junctions,firstWhite:p.walls.firstWhite,organizedWalls:p.walls.organizedWalls,viewport:M,worldwidth:p.planet.worldwidth})(B),B=kr({thekind:ue.GHOST,kindPointers:p.walls.kindPointers,organizedWalls:p.walls.organizedWalls,viewport:M,worldwidth:p.planet.worldwidth})(B),p.ship.deadCount===0&&(B=rf({x:p.ship.shipx-Bt,y:p.ship.shipy-Bt,def:Q})(B)),p.ship.deadCount===0?B=N6({screen:B,store:P,shipDef:Q,wallData:{kindPointers:p.walls.kindPointers,organizedWalls:p.walls.organizedWalls},viewport:M,worldwidth:p.planet.worldwidth}):B=kr({thekind:ue.BOUNCE,kindPointers:p.walls.kindPointers,organizedWalls:p.walls.organizedWalls,viewport:M,worldwidth:p.planet.worldwidth})(B),B=kr({thekind:ue.NORMAL,kindPointers:p.walls.kindPointers,organizedWalls:p.walls.organizedWalls,viewport:M,worldwidth:p.planet.worldwidth})(B),B=Wh({bunkrec:p.planet.bunkers,scrnx:p.screen.screenx,scrny:p.screen.screeny,getSprite:(R,C)=>{const K=a.getBunkerSprite(R,C,{variant:"def"}),tt=a.getBunkerSprite(R,C,{variant:"mask"}),O=a.getBunkerSprite(R,C,{variant:"background1"}),j=a.getBunkerSprite(R,C,{variant:"background2"});return{def:K.uint8,mask:tt.uint8,images:{background1:O.uint8,background2:j.uint8}}}})(B),h&&p.planet.worldwrap&&(B=Wh({bunkrec:p.planet.bunkers,scrnx:p.screen.screenx-p.planet.worldwidth,scrny:p.screen.screeny,getSprite:(R,C)=>{const K=a.getBunkerSprite(R,C,{variant:"def"}),tt=a.getBunkerSprite(R,C,{variant:"mask"}),O=a.getBunkerSprite(R,C,{variant:"background1"}),j=a.getBunkerSprite(R,C,{variant:"background2"});return{def:K.uint8,mask:tt.uint8,images:{background1:O.uint8,background2:j.uint8}}}})(B)),!p.ship.shielding){for(const R of p.shots.bunkshots)if(R.lifecount>0||R.justDied===!0&&R.strafedir<0){const K=R.x-p.screen.screenx,tt=R.y-p.screen.screeny;if(K>=0&&K<I-1&&tt>=0&&tt<lt-1&&(B=Sr(K,tt,B)),p.planet.worldwrap&&p.screen.screenx>p.planet.worldwidth-I){const O=R.x+p.planet.worldwidth-p.screen.screenx;O>=0&&O<I-1&&tt>=0&&tt<lt-1&&(B=Sr(O,tt,B))}}}if(p.ship.deadCount===0&&ef(B,{x:p.ship.shipx-Bt,y:p.ship.shipy-Bt,height:32,def:Q})){P.dispatch(Jt.actions.killShip());const C=P.getState(),K=C.ship.globalx,tt=C.ship.globaly,O=C.planet.bunkers,j=2;for(let $=0;$<O.length;$++){const V=O[$];if(V.rot<0)break;if(V.alive&&bf(V.x-K,V.y-tt,q3)&&(V.kind>=j||py(V.rot,V.x,V.y,K,tt))){P.dispatch(Vh({index:$}));const at=P.getState().planet.bunkers[$];(!at||!at.alive)&&(P.dispatch(yn(et.EXP1_SOUND)),P.dispatch(pn.actions.scoreBunker({kind:V.kind,rot:V.rot}))),P.dispatch(b2({x:V.x,y:V.y,dir:V.rot,kind:V.kind}));break}}P.dispatch(KD({x:K,y:tt})),P.dispatch(yn(et.EXP2_SOUND)),P.dispatch(Yi(!1)),P.dispatch(Xi(!1))}if(p.ship.deadCount===0&&(B=L6({x:p.ship.shipx-(Bt-W),y:p.ship.shipy-(Bt-J),def:Q})(B),B=p2({x:p.ship.shipx-Bt,y:p.ship.shipy-Bt,def:G,mask:Q})(B)),p.ship.shielding){const R=a.getShieldSprite();B=rf({x:p.ship.shipx-Bt,y:p.ship.shipy-Bt,def:R.bitmap})(B);for(const C of p.shots.bunkshots)if(C.lifecount>0||C.justDied===!0&&C.strafedir<0){const tt=C.x-p.screen.screenx,O=C.y-p.screen.screeny;if(tt>=0&&tt<I-1&&O>=0&&O<lt-1&&(B=Sr(tt,O,B)),p.planet.worldwrap&&p.screen.screenx>p.planet.worldwidth-I){const j=C.x+p.planet.worldwidth-p.screen.screenx;j>=0&&j<I-1&&O>=0&&O<lt-1&&(B=Sr(j,O,B))}}}for(const R of p.shots.shipshots)if(R.lifecount>0||R.justDied===!0&&R.strafedir<0){const K=R.x-p.screen.screenx-1,tt=R.y-p.screen.screeny-1;if(K>=0&&K<I-3&&tt>=0&&tt<lt-3&&(B=t2({x:K,y:tt})(B)),p.planet.worldwrap&&p.screen.screenx>p.planet.worldwidth-I){const O=R.x+p.planet.worldwidth-p.screen.screenx-1;O>=0&&O<I-3&&(B=t2({x:O,y:tt})(B))}}if(p.ship.flaming){const R=[];for(let C=0;C<32;C++){const K=a.getFlameSprite(C);R.push(K.bitmap)}B=z6({x:p.ship.shipx,y:p.ship.shipy,rot:p.ship.shiprot,flames:R})(B)}for(const R of p.shots.strafes)R.lifecount>0&&(B=Rp({x:R.x,y:R.y,rot:R.rot,scrnx:p.screen.screenx,scrny:p.screen.screeny,worldwidth:p.planet.worldwidth})(B));const ye=p;if(ye.explosions.sparksalive>0||ye.explosions.shards.some(R=>R.lifecount>0)){const R={kinds:{},getSprite:(C,K)=>{const tt=a.getShardSprite(C,K,{variant:"def"}),O=a.getShardSprite(C,K,{variant:"mask"}),j=a.getShardSprite(C,K,{variant:"background1"}),$=a.getShardSprite(C,K,{variant:"background2"});return{def:tt.uint8,mask:O.uint8,images:{background1:j.uint8,background2:$.uint8}}}};B=JD({explosions:ye.explosions,screenx:p.screen.screenx,screeny:p.screen.screeny,worldwidth:p.planet.worldwidth,worldwrap:p.planet.worldwrap,shardImages:R})(B)}const bt=P.getState().sound;if(Qo(bt,{shipDeadCount:p.ship.deadCount,transitionActive:dt.active}),i.data.set(B.data),dt.active&&!dt.fizzTransition&&dt.fromBitmap){dt.fromBitmap=new Uint8Array(i.data);const R=_t(i);R.data=dt.fromBitmap;const C=_t(i);C.data=dt.toBitmap,dt.fizzTransition=y3({from:R,to:C,durationFrames:QS})}},JS=()=>P,$S=()=>P.getState().game.galaxyHeader,zy=document.querySelector("#app"),IS=h4.createRoot(zy);Y3().then(a=>{console.log("Sprite service initialized"),_4("screen-fixed");const i=WS(a);setTimeout(()=>{const r=$S(),f=(r==null?void 0:r.planets)||30;IS.render(u4.createElement(D4,{renderer:i,width:512,height:342,scale:2,fps:20,totalLevels:f,onLevelSelect:d=>{const u=JS();u&&Qi(u,d)}}))},100),console.log("Game started!")}).catch(a=>{console.error("Failed to initialize game:",a),zy.innerHTML=`<div style="color: red; padding: 20px;">Failed to initialize game: ${a}</div>`});
